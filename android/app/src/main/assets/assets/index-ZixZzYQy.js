(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Bt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var X_={exports:{}},sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vM;function aW(){if(vM)return sh;vM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var l in i)l!=="key"&&(o[l]=i[l])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return sh.Fragment=e,sh.jsx=n,sh.jsxs=n,sh}var bM;function lW(){return bM||(bM=1,X_.exports=aW()),X_.exports}var v=lW(),J_={exports:{}},Je={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM;function uW(){if(xM)return Je;xM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),g=Symbol.iterator;function _(L){return L===null||typeof L!="object"?null:(L=g&&L[g]||L["@@iterator"],typeof L=="function"?L:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function M(L,G,ee){this.props=L,this.context=G,this.refs=E,this.updater=ee||S}M.prototype.isReactComponent={},M.prototype.setState=function(L,G){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,G,"setState")},M.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function I(){}I.prototype=M.prototype;function N(L,G,ee){this.props=L,this.context=G,this.refs=E,this.updater=ee||S}var C=N.prototype=new I;C.constructor=N,A(C,M.prototype),C.isPureReactComponent=!0;var R=Array.isArray;function U(){}var k={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function V(L,G,ee){var ae=ee.ref;return{$$typeof:t,type:L,key:G,ref:ae!==void 0?ae:null,props:ee}}function F(L,G){return V(L.type,G,L.props)}function q(L){return typeof L=="object"&&L!==null&&L.$$typeof===t}function z(L){var G={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ee){return G[ee]})}var B=/\/+/g;function Q(L,G){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):G.toString(36)}function oe(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(U,U):(L.status="pending",L.then(function(G){L.status==="pending"&&(L.status="fulfilled",L.value=G)},function(G){L.status==="pending"&&(L.status="rejected",L.reason=G)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function K(L,G,ee,ae,ge){var we=typeof L;(we==="undefined"||we==="boolean")&&(L=null);var Te=!1;if(L===null)Te=!0;else switch(we){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(L.$$typeof){case t:case e:Te=!0;break;case h:return Te=L._init,K(Te(L._payload),G,ee,ae,ge)}}if(Te)return ge=ge(L),Te=ae===""?"."+Q(L,0):ae,R(ge)?(ee="",Te!=null&&(ee=Te.replace(B,"$&/")+"/"),K(ge,G,ee,"",function(Ce){return Ce})):ge!=null&&(q(ge)&&(ge=F(ge,ee+(ge.key==null||L&&L.key===ge.key?"":(""+ge.key).replace(B,"$&/")+"/")+Te)),G.push(ge)),1;Te=0;var Re=ae===""?".":ae+":";if(R(L))for(var pe=0;pe<L.length;pe++)ae=L[pe],we=Re+Q(ae,pe),Te+=K(ae,G,ee,we,ge);else if(pe=_(L),typeof pe=="function")for(L=pe.call(L),pe=0;!(ae=L.next()).done;)ae=ae.value,we=Re+Q(ae,pe++),Te+=K(ae,G,ee,we,ge);else if(we==="object"){if(typeof L.then=="function")return K(oe(L),G,ee,ae,ge);throw G=String(L),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Te}function X(L,G,ee){if(L==null)return L;var ae=[],ge=0;return K(L,ae,"","",function(we){return G.call(ee,we,ge++)}),ae}function te(L){if(L._status===-1){var G=L._result;G=G(),G.then(function(ee){(L._status===0||L._status===-1)&&(L._status=1,L._result=ee)},function(ee){(L._status===0||L._status===-1)&&(L._status=2,L._result=ee)}),L._status===-1&&(L._status=0,L._result=G)}if(L._status===1)return L._result.default;throw L._result}var ce=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},Y={map:X,forEach:function(L,G,ee){X(L,function(){G.apply(this,arguments)},ee)},count:function(L){var G=0;return X(L,function(){G++}),G},toArray:function(L){return X(L,function(G){return G})||[]},only:function(L){if(!q(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return Je.Activity=p,Je.Children=Y,Je.Component=M,Je.Fragment=n,Je.Profiler=i,Je.PureComponent=N,Je.StrictMode=r,Je.Suspense=c,Je.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Je.__COMPILER_RUNTIME={__proto__:null,c:function(L){return k.H.useMemoCache(L)}},Je.cache=function(L){return function(){return L.apply(null,arguments)}},Je.cacheSignal=function(){return null},Je.cloneElement=function(L,G,ee){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ae=A({},L.props),ge=L.key;if(G!=null)for(we in G.key!==void 0&&(ge=""+G.key),G)!O.call(G,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&G.ref===void 0||(ae[we]=G[we]);var we=arguments.length-2;if(we===1)ae.children=ee;else if(1<we){for(var Te=Array(we),Re=0;Re<we;Re++)Te[Re]=arguments[Re+2];ae.children=Te}return V(L.type,ge,ae)},Je.createContext=function(L){return L={$$typeof:s,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},Je.createElement=function(L,G,ee){var ae,ge={},we=null;if(G!=null)for(ae in G.key!==void 0&&(we=""+G.key),G)O.call(G,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ge[ae]=G[ae]);var Te=arguments.length-2;if(Te===1)ge.children=ee;else if(1<Te){for(var Re=Array(Te),pe=0;pe<Te;pe++)Re[pe]=arguments[pe+2];ge.children=Re}if(L&&L.defaultProps)for(ae in Te=L.defaultProps,Te)ge[ae]===void 0&&(ge[ae]=Te[ae]);return V(L,we,ge)},Je.createRef=function(){return{current:null}},Je.forwardRef=function(L){return{$$typeof:l,render:L}},Je.isValidElement=q,Je.lazy=function(L){return{$$typeof:h,_payload:{_status:-1,_result:L},_init:te}},Je.memo=function(L,G){return{$$typeof:f,type:L,compare:G===void 0?null:G}},Je.startTransition=function(L){var G=k.T,ee={};k.T=ee;try{var ae=L(),ge=k.S;ge!==null&&ge(ee,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(U,ce)}catch(we){ce(we)}finally{G!==null&&ee.types!==null&&(G.types=ee.types),k.T=G}},Je.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Je.use=function(L){return k.H.use(L)},Je.useActionState=function(L,G,ee){return k.H.useActionState(L,G,ee)},Je.useCallback=function(L,G){return k.H.useCallback(L,G)},Je.useContext=function(L){return k.H.useContext(L)},Je.useDebugValue=function(){},Je.useDeferredValue=function(L,G){return k.H.useDeferredValue(L,G)},Je.useEffect=function(L,G){return k.H.useEffect(L,G)},Je.useEffectEvent=function(L){return k.H.useEffectEvent(L)},Je.useId=function(){return k.H.useId()},Je.useImperativeHandle=function(L,G,ee){return k.H.useImperativeHandle(L,G,ee)},Je.useInsertionEffect=function(L,G){return k.H.useInsertionEffect(L,G)},Je.useLayoutEffect=function(L,G){return k.H.useLayoutEffect(L,G)},Je.useMemo=function(L,G){return k.H.useMemo(L,G)},Je.useOptimistic=function(L,G){return k.H.useOptimistic(L,G)},Je.useReducer=function(L,G,ee){return k.H.useReducer(L,G,ee)},Je.useRef=function(L){return k.H.useRef(L)},Je.useState=function(L){return k.H.useState(L)},Je.useSyncExternalStore=function(L,G,ee){return k.H.useSyncExternalStore(L,G,ee)},Je.useTransition=function(){return k.H.useTransition()},Je.version="19.2.4",Je}var _M;function aI(){return _M||(_M=1,J_.exports=uW()),J_.exports}var W=aI();const re=Bt(W);var Q_={exports:{}},ah={},Z_={exports:{}},ew={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wM;function cW(){return wM||(wM=1,(function(t){function e(K,X){var te=K.length;K.push(X);e:for(;0<te;){var ce=te-1>>>1,Y=K[ce];if(0<i(Y,X))K[ce]=X,K[te]=Y,te=ce;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var X=K[0],te=K.pop();if(te!==X){K[0]=te;e:for(var ce=0,Y=K.length,L=Y>>>1;ce<L;){var G=2*(ce+1)-1,ee=K[G],ae=G+1,ge=K[ae];if(0>i(ee,te))ae<Y&&0>i(ge,ee)?(K[ce]=ge,K[ae]=te,ce=ae):(K[ce]=ee,K[G]=te,ce=G);else if(ae<Y&&0>i(ge,te))K[ce]=ge,K[ae]=te,ce=ae;else break e}}return X}function i(K,X){var te=K.sortIndex-X.sortIndex;return te!==0?te:K.id-X.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],f=[],h=1,p=null,g=3,_=!1,S=!1,A=!1,E=!1,M=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function C(K){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=K)r(f),X.sortIndex=X.expirationTime,e(c,X);else break;X=n(f)}}function R(K){if(A=!1,C(K),!S)if(n(c)!==null)S=!0,U||(U=!0,z());else{var X=n(f);X!==null&&oe(R,X.startTime-K)}}var U=!1,k=-1,O=5,V=-1;function F(){return E?!0:!(t.unstable_now()-V<O)}function q(){if(E=!1,U){var K=t.unstable_now();V=K;var X=!0;try{e:{S=!1,A&&(A=!1,I(k),k=-1),_=!0;var te=g;try{t:{for(C(K),p=n(c);p!==null&&!(p.expirationTime>K&&F());){var ce=p.callback;if(typeof ce=="function"){p.callback=null,g=p.priorityLevel;var Y=ce(p.expirationTime<=K);if(K=t.unstable_now(),typeof Y=="function"){p.callback=Y,C(K),X=!0;break t}p===n(c)&&r(c),C(K)}else r(c);p=n(c)}if(p!==null)X=!0;else{var L=n(f);L!==null&&oe(R,L.startTime-K),X=!1}}break e}finally{p=null,g=te,_=!1}X=void 0}}finally{X?z():U=!1}}}var z;if(typeof N=="function")z=function(){N(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,Q=B.port2;B.port1.onmessage=q,z=function(){Q.postMessage(null)}}else z=function(){M(q,0)};function oe(K,X){k=M(function(){K(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var te=g;g=X;try{return K()}finally{g=te}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(K,X){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var te=g;g=K;try{return X()}finally{g=te}},t.unstable_scheduleCallback=function(K,X,te){var ce=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ce+te:ce):te=ce,K){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=te+Y,K={id:h++,callback:X,priorityLevel:K,startTime:te,expirationTime:Y,sortIndex:-1},te>ce?(K.sortIndex=te,e(f,K),n(c)===null&&K===n(f)&&(A?(I(k),k=-1):A=!0,oe(R,te-ce))):(K.sortIndex=Y,e(c,K),S||_||(S=!0,U||(U=!0,z()))),K},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(K){var X=g;return function(){var te=g;g=X;try{return K.apply(this,arguments)}finally{g=te}}}})(ew)),ew}var TM;function fW(){return TM||(TM=1,Z_.exports=cW()),Z_.exports}var tw={exports:{}},nr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EM;function dW(){if(EM)return nr;EM=1;var t=aI();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:c,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return nr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,nr.createPortal=function(c,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(c,f,null,h)},nr.flushSync=function(c){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=f,r.p=h,r.d.f()}},nr.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},nr.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},nr.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,_=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:g,fetchPriority:_}):h==="script"&&r.d.X(c,{crossOrigin:p,integrity:g,fetchPriority:_,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},nr.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=l(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},nr.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=l(h,f.crossOrigin);r.d.L(c,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},nr.preloadModule=function(c,f){if(typeof c=="string")if(f){var h=l(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},nr.requestFormReset=function(c){r.d.r(c)},nr.unstable_batchedUpdates=function(c,f){return c(f)},nr.useFormState=function(c,f,h){return s.H.useFormState(c,f,h)},nr.useFormStatus=function(){return s.H.useHostTransitionStatus()},nr.version="19.2.4",nr}var SM;function hW(){if(SM)return tw.exports;SM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tw.exports=dW(),tw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AM;function pW(){if(AM)return ah;AM=1;var t=fW(),e=aI(),n=hW();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function s(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function l(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function f(a){var u=a.alternate;if(!u){if(u=o(a),u===null)throw Error(r(188));return u!==a?null:a}for(var d=a,m=u;;){var w=d.return;if(w===null)break;var T=w.alternate;if(T===null){if(m=w.return,m!==null){d=m;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===d)return c(w),a;if(T===m)return c(w),u;T=T.sibling}throw Error(r(188))}if(d.return!==m.return)d=w,m=T;else{for(var D=!1,$=w.child;$;){if($===d){D=!0,d=w,m=T;break}if($===m){D=!0,m=w,d=T;break}$=$.sibling}if(!D){for($=T.child;$;){if($===d){D=!0,d=T,m=w;break}if($===m){D=!0,m=T,d=w;break}$=$.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==m)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?a:u}function h(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=h(a),u!==null)return u;a=a.sibling}return null}var p=Object.assign,g=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),N=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function z(a){return a===null||typeof a!="object"?null:(a=q&&a[q]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function Q(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case M:return"Profiler";case E:return"StrictMode";case R:return"Suspense";case U:return"SuspenseList";case V:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case S:return"Portal";case N:return a.displayName||"Context";case I:return(a._context.displayName||"Context")+".Consumer";case C:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case k:return u=a.displayName||null,u!==null?u:Q(a.type)||"Memo";case O:u=a._payload,a=a._init;try{return Q(a(u))}catch{}}return null}var oe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te={pending:!1,data:null,method:null,action:null},ce=[],Y=-1;function L(a){return{current:a}}function G(a){0>Y||(a.current=ce[Y],ce[Y]=null,Y--)}function ee(a,u){Y++,ce[Y]=a.current,a.current=u}var ae=L(null),ge=L(null),we=L(null),Te=L(null);function Re(a,u){switch(ee(we,u),ee(ge,a),ee(ae,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?F2(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=F2(u),a=q2(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}G(ae),ee(ae,a)}function pe(){G(ae),G(ge),G(we)}function Ce(a){a.memoizedState!==null&&ee(Te,a);var u=ae.current,d=q2(u,a.type);u!==d&&(ee(ge,a),ee(ae,d))}function Ie(a){ge.current===a&&(G(ae),G(ge)),Te.current===a&&(G(Te),nh._currentValue=te)}var he,Se;function Ee(a){if(he===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);he=u&&u[1]||"",Se=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+a+Se}var Ve=!1;function We(a,u){if(!a||Ve)return"";Ve=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var m={DetermineComponentFrameRoot:function(){try{if(u){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(de){var ue=de}Reflect.construct(a,[],be)}else{try{be.call()}catch(de){ue=de}a.call(be.prototype)}}else{try{throw Error()}catch(de){ue=de}(be=a())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(de){if(de&&ue&&typeof de.stack=="string")return[de.stack,ue.stack]}return[null,null]}};m.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var w=Object.getOwnPropertyDescriptor(m.DetermineComponentFrameRoot,"name");w&&w.configurable&&Object.defineProperty(m.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=m.DetermineComponentFrameRoot(),D=T[0],$=T[1];if(D&&$){var J=D.split(`
`),le=$.split(`
`);for(w=m=0;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;for(;w<le.length&&!le[w].includes("DetermineComponentFrameRoot");)w++;if(m===J.length||w===le.length)for(m=J.length-1,w=le.length-1;1<=m&&0<=w&&J[m]!==le[w];)w--;for(;1<=m&&0<=w;m--,w--)if(J[m]!==le[w]){if(m!==1||w!==1)do if(m--,w--,0>w||J[m]!==le[w]){var me=`
`+J[m].replace(" at new "," at ");return a.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",a.displayName)),me}while(1<=m&&0<=w);break}}}finally{Ve=!1,Error.prepareStackTrace=d}return(d=a?a.displayName||a.name:"")?Ee(d):""}function dt(a,u){switch(a.tag){case 26:case 27:case 5:return Ee(a.type);case 16:return Ee("Lazy");case 13:return a.child!==u&&u!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return We(a.type,!1);case 11:return We(a.type.render,!1);case 1:return We(a.type,!0);case 31:return Ee("Activity");default:return""}}function It(a){try{var u="",d=null;do u+=dt(a,d),d=a,a=a.return;while(a);return u}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}var mt=Object.prototype.hasOwnProperty,nt=t.unstable_scheduleCallback,On=t.unstable_cancelCallback,Xo=t.unstable_shouldYield,Jo=t.unstable_requestPaint,ln=t.unstable_now,Qo=t.unstable_getCurrentPriorityLevel,Ks=t.unstable_ImmediatePriority,vl=t.unstable_UserBlockingPriority,so=t.unstable_NormalPriority,Yu=t.unstable_LowPriority,bl=t.unstable_IdlePriority,Ws=t.log,Xu=t.unstable_setDisableYieldValue,Ur=null,$n=null;function ri(a){if(typeof Ws=="function"&&Xu(a),$n&&typeof $n.setStrictMode=="function")try{$n.setStrictMode(Ur,a)}catch{}}var un=Math.clz32?Math.clz32:qm,Fm=Math.log,Ju=Math.LN2;function qm(a){return a>>>=0,a===0?32:31-(Fm(a)/Ju|0)|0}var ao=256,xl=262144,gn=4194304;function lo(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function uo(a,u,d){var m=a.pendingLanes;if(m===0)return 0;var w=0,T=a.suspendedLanes,D=a.pingedLanes;a=a.warmLanes;var $=m&134217727;return $!==0?(m=$&~T,m!==0?w=lo(m):(D&=$,D!==0?w=lo(D):d||(d=$&~a,d!==0&&(w=lo(d))))):($=m&~T,$!==0?w=lo($):D!==0?w=lo(D):d||(d=m&~a,d!==0&&(w=lo(d)))),w===0?0:u!==0&&u!==w&&(u&T)===0&&(T=w&-w,d=u&-u,T>=d||T===32&&(d&4194048)!==0)?u:w}function Mi(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function ex(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zm(){var a=gn;return gn<<=1,(gn&62914560)===0&&(gn=4194304),a}function co(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function _l(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function tx(a,u,d,m,w,T){var D=a.pendingLanes;a.pendingLanes=d,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=d,a.entangledLanes&=d,a.errorRecoveryDisabledLanes&=d,a.shellSuspendCounter=0;var $=a.entanglements,J=a.expirationTimes,le=a.hiddenUpdates;for(d=D&~d;0<d;){var me=31-un(d),be=1<<me;$[me]=0,J[me]=-1;var ue=le[me];if(ue!==null)for(le[me]=null,me=0;me<ue.length;me++){var de=ue[me];de!==null&&(de.lane&=-536870913)}d&=~be}m!==0&&wl(a,m,0),T!==0&&w===0&&a.tag!==0&&(a.suspendedLanes|=T&~(D&~u))}function wl(a,u,d){a.pendingLanes|=u,a.suspendedLanes&=~u;var m=31-un(u);a.entangledLanes|=u,a.entanglements[m]=a.entanglements[m]|1073741824|d&261930}function ad(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var m=31-un(d),w=1<<m;w&u|a[m]&u&&(a[m]|=u),d&=~w}}function ld(a,u){var d=u&-u;return d=(d&42)!==0?1:Tl(d),(d&(a.suspendedLanes|u))!==0?0:d}function Tl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Zo(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function $m(){var a=X.p;return a!==0?a:(a=window.event,a===void 0?32:fM(a.type))}function Oi(a,u){var d=X.p;try{return X.p=a,u()}finally{X.p=d}}var Di=Math.random().toString(36).slice(2),yn="__reactFiber$"+Di,Dn="__reactProps$"+Di,fo="__reactContainer$"+Di,Qu="__reactEvents$"+Di,nx="__reactListeners$"+Di,Gm="__reactHandles$"+Di,Hm="__reactResources$"+Di,ho="__reactMarker$"+Di;function Zu(a){delete a[yn],delete a[Dn],delete a[Qu],delete a[nx],delete a[Gm]}function po(a){var u=a[yn];if(u)return u;for(var d=a.parentNode;d;){if(u=d[fo]||d[yn]){if(d=u.alternate,u.child!==null||d!==null&&d.child!==null)for(a=Y2(a);a!==null;){if(d=a[yn])return d;a=Y2(a)}return u}a=d,d=a.parentNode}return null}function ii(a){if(a=a[yn]||a[fo]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function Vr(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function mo(a){var u=a[Hm];return u||(u=a[Hm]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function vn(a){a[ho]=!0}var ud=new Set,cd={};function go(a,u){yo(a,u),yo(a+"Capture",u)}function yo(a,u){for(cd[a]=u,a=0;a<u.length;a++)ud.add(u[a])}var fd=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dd={},hd={};function Km(a){return mt.call(hd,a)?!0:mt.call(dd,a)?!1:fd.test(a)?hd[a]=!0:(dd[a]=!0,!1)}function ec(a,u,d){if(Km(u))if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var m=u.toLowerCase().slice(0,5);if(m!=="data-"&&m!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+d)}}function jr(a,u,d){if(d===null)a.removeAttribute(u);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+d)}}function bn(a,u,d,m){if(m===null)a.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(d);return}a.setAttributeNS(u,d,""+m)}}function Ln(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Ys(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function pd(a,u,d){var m=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var w=m.get,T=m.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return w.call(this)},set:function(D){d=""+D,T.call(this,D)}}),Object.defineProperty(a,u,{enumerable:m.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function Nt(a){if(!a._valueTracker){var u=Ys(a)?"checked":"value";a._valueTracker=pd(a,u,""+a[u])}}function El(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var d=u.getValue(),m="";return a&&(m=Ys(a)?a.checked?"true":"false":a.value),a=m,a!==d?(u.setValue(a),!0):!1}function vo(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Sl=/[\n"\\]/g;function Tr(a){return a.replace(Sl,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function tc(a,u,d,m,w,T,D,$){a.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?a.type=D:a.removeAttribute("type"),u!=null?D==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Ln(u)):a.value!==""+Ln(u)&&(a.value=""+Ln(u)):D!=="submit"&&D!=="reset"||a.removeAttribute("value"),u!=null?md(a,D,Ln(u)):d!=null?md(a,D,Ln(d)):m!=null&&a.removeAttribute("value"),w==null&&T!=null&&(a.defaultChecked=!!T),w!=null&&(a.checked=w&&typeof w!="function"&&typeof w!="symbol"),$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.name=""+Ln($):a.removeAttribute("name")}function Wm(a,u,d,m,w,T,D,$){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),u!=null||d!=null){if(!(T!=="submit"&&T!=="reset"||u!=null)){Nt(a);return}d=d!=null?""+Ln(d):"",u=u!=null?""+Ln(u):d,$||u===a.value||(a.value=u),a.defaultValue=u}m=m??w,m=typeof m!="function"&&typeof m!="symbol"&&!!m,a.checked=$?a.checked:!!m,a.defaultChecked=!!m,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(a.name=D),Nt(a)}function md(a,u,d){u==="number"&&vo(a.ownerDocument)===a||a.defaultValue===""+d||(a.defaultValue=""+d)}function Xs(a,u,d,m){if(a=a.options,u){u={};for(var w=0;w<d.length;w++)u["$"+d[w]]=!0;for(d=0;d<a.length;d++)w=u.hasOwnProperty("$"+a[d].value),a[d].selected!==w&&(a[d].selected=w),w&&m&&(a[d].defaultSelected=!0)}else{for(d=""+Ln(d),u=null,w=0;w<a.length;w++){if(a[w].value===d){a[w].selected=!0,m&&(a[w].defaultSelected=!0);return}u!==null||a[w].disabled||(u=a[w])}u!==null&&(u.selected=!0)}}function Ym(a,u,d){if(u!=null&&(u=""+Ln(u),u!==a.value&&(a.value=u),d==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=d!=null?""+Ln(d):""}function Js(a,u,d,m){if(u==null){if(m!=null){if(d!=null)throw Error(r(92));if(oe(m)){if(1<m.length)throw Error(r(93));m=m[0]}d=m}d==null&&(d=""),u=d}d=Ln(u),a.defaultValue=d,m=a.textContent,m===d&&m!==""&&m!==null&&(a.value=m),Nt(a)}function Er(a,u){if(u){var d=a.firstChild;if(d&&d===a.lastChild&&d.nodeType===3){d.nodeValue=u;return}}a.textContent=u}var Xm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gd(a,u,d){var m=u.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?m?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":m?a.setProperty(u,d):typeof d!="number"||d===0||Xm.has(u)?u==="float"?a.cssFloat=d:a[u]=(""+d).trim():a[u]=d+"px"}function yd(a,u,d){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,d!=null){for(var m in d)!d.hasOwnProperty(m)||u!=null&&u.hasOwnProperty(m)||(m.indexOf("--")===0?a.setProperty(m,""):m==="float"?a.cssFloat="":a[m]="");for(var w in u)m=u[w],u.hasOwnProperty(w)&&d[w]!==m&&gd(a,w,m)}else for(var T in u)u.hasOwnProperty(T)&&gd(a,T,u[T])}function nc(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rc(a){return Qs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Li(){}var vd=null;function oi(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Zs=null,bo=null;function Al(a){var u=ii(a);if(u&&(a=u.stateNode)){var d=a[Dn]||null;e:switch(a=u.stateNode,u.type){case"input":if(tc(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),u=d.name,d.type==="radio"&&u!=null){for(d=a;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Tr(""+u)+'"][type="radio"]'),u=0;u<d.length;u++){var m=d[u];if(m!==a&&m.form===a.form){var w=m[Dn]||null;if(!w)throw Error(r(90));tc(m,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name)}}for(u=0;u<d.length;u++)m=d[u],m.form===a.form&&El(m)}break e;case"textarea":Ym(a,d.value,d.defaultValue);break e;case"select":u=d.value,u!=null&&Xs(a,!!d.multiple,u,!1)}}}var ic=!1;function ea(a,u,d){if(ic)return a(u,d);ic=!0;try{var m=a(u);return m}finally{if(ic=!1,(Zs!==null||bo!==null)&&($g(),Zs&&(u=Zs,a=bo,bo=Zs=null,Al(u),a)))for(u=0;u<a.length;u++)Al(a[u])}}function Ui(a,u){var d=a.stateNode;if(d===null)return null;var m=d[Dn]||null;if(m===null)return null;d=m[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(a=a.type,m=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!m;break e;default:a=!1}if(a)return null;if(d&&typeof d!="function")throw Error(r(231,u,typeof d));return d}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cl=!1;if(si)try{var Mt={};Object.defineProperty(Mt,"passive",{get:function(){Cl=!0}}),window.addEventListener("test",Mt,Mt),window.removeEventListener("test",Mt,Mt)}catch{Cl=!1}var xo=null,bd=null,Il=null;function xd(){if(Il)return Il;var a,u=bd,d=u.length,m,w="value"in xo?xo.value:xo.textContent,T=w.length;for(a=0;a<d&&u[a]===w[a];a++);var D=d-a;for(m=1;m<=D&&u[d-m]===w[T-m];m++);return Il=w.slice(a,1<m?1-m:void 0)}function Nl(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function es(){return!0}function Vi(){return!1}function Gn(a){function u(d,m,w,T,D){this._reactName=d,this._targetInst=w,this.type=m,this.nativeEvent=T,this.target=D,this.currentTarget=null;for(var $ in a)a.hasOwnProperty($)&&(d=a[$],this[$]=d?d(T):T[$]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?es:Vi,this.isPropagationStopped=Vi,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),u}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Gn(ts),ta=p({},ts,{view:0,detail:0}),_d=Gn(ta),na,oc,wo,sc=p({},ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ra,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==wo&&(wo&&a.type==="mousemove"?(na=a.screenX-wo.screenX,oc=a.screenY-wo.screenY):oc=na=0,wo=a),na)},movementY:function(a){return"movementY"in a?a.movementY:oc}}),wd=Gn(sc),Rl=p({},sc,{dataTransfer:0}),Qm=Gn(Rl),Zm=p({},ta,{relatedTarget:0}),Pl=Gn(Zm),Td=p({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),eg=Gn(Td),ac=p({},ts,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),tg=Gn(ac),ng=p({},ts,{data:0}),To=Gn(ng),rg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ig={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},og={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sg(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=og[a])?!!u[a]:!1}function ra(){return sg}var mr=p({},ta,{key:function(a){if(a.key){var u=rg[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=Nl(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?ig[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ra,charCode:function(a){return a.type==="keypress"?Nl(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Nl(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ag=Gn(mr),lg=p({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ns=Gn(lg),x=p({},ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ra}),P=Gn(x),j=p({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),H=Gn(j),ie=p({},sc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),fe=Gn(ie),Ne=p({},ts,{newState:0,oldState:0}),Ze=Gn(Ne),cn=[9,13,27,32],Tt=si&&"CompositionEvent"in window,Yt=null;si&&"documentMode"in document&&(Yt=document.documentMode);var ai=si&&"TextEvent"in window&&!Yt,Eo=si&&(!Tt||Yt&&8<Yt&&11>=Yt),ji=" ",Bi=!1;function kl(a,u){switch(a){case"keyup":return cn.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var uc=!1;function P7(a,u){switch(a){case"compositionend":return lc(u);case"keypress":return u.which!==32?null:(Bi=!0,ji);case"textInput":return a=u.data,a===ji&&Bi?null:a;default:return null}}function k7(a,u){if(uc)return a==="compositionend"||!Tt&&kl(a,u)?(a=xd(),Il=bd=xo=null,uc=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Eo&&u.locale!=="ko"?null:u.data;default:return null}}var M7={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function QR(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!M7[a.type]:u==="textarea"}function ZR(a,u,d,m){Zs?bo?bo.push(m):bo=[m]:Zs=m,u=Jg(u,"onChange"),0<u.length&&(d=new _o("onChange","change",null,d,m),a.push({event:d,listeners:u}))}var Ed=null,Sd=null;function O7(a){D2(a,0)}function ug(a){var u=Vr(a);if(El(u))return a}function eP(a,u){if(a==="change")return u}var tP=!1;if(si){var rx;if(si){var ix="oninput"in document;if(!ix){var nP=document.createElement("div");nP.setAttribute("oninput","return;"),ix=typeof nP.oninput=="function"}rx=ix}else rx=!1;tP=rx&&(!document.documentMode||9<document.documentMode)}function rP(){Ed&&(Ed.detachEvent("onpropertychange",iP),Sd=Ed=null)}function iP(a){if(a.propertyName==="value"&&ug(Sd)){var u=[];ZR(u,Sd,a,oi(a)),ea(O7,u)}}function D7(a,u,d){a==="focusin"?(rP(),Ed=u,Sd=d,Ed.attachEvent("onpropertychange",iP)):a==="focusout"&&rP()}function L7(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ug(Sd)}function U7(a,u){if(a==="click")return ug(u)}function V7(a,u){if(a==="input"||a==="change")return ug(u)}function j7(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var Br=typeof Object.is=="function"?Object.is:j7;function Ad(a,u){if(Br(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),m=Object.keys(u);if(d.length!==m.length)return!1;for(m=0;m<d.length;m++){var w=d[m];if(!mt.call(u,w)||!Br(a[w],u[w]))return!1}return!0}function oP(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function sP(a,u){var d=oP(a);a=0;for(var m;d;){if(d.nodeType===3){if(m=a+d.textContent.length,a<=u&&m>=u)return{node:d,offset:u-a};a=m}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=oP(d)}}function aP(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?aP(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function lP(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=vo(a.document);u instanceof a.HTMLIFrameElement;){try{var d=typeof u.contentWindow.location.href=="string"}catch{d=!1}if(d)a=u.contentWindow;else break;u=vo(a.document)}return u}function ox(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var B7=si&&"documentMode"in document&&11>=document.documentMode,cc=null,sx=null,Cd=null,ax=!1;function uP(a,u,d){var m=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;ax||cc==null||cc!==vo(m)||(m=cc,"selectionStart"in m&&ox(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Cd&&Ad(Cd,m)||(Cd=m,m=Jg(sx,"onSelect"),0<m.length&&(u=new _o("onSelect","select",null,u,d),a.push({event:u,listeners:m}),u.target=cc)))}function Ml(a,u){var d={};return d[a.toLowerCase()]=u.toLowerCase(),d["Webkit"+a]="webkit"+u,d["Moz"+a]="moz"+u,d}var fc={animationend:Ml("Animation","AnimationEnd"),animationiteration:Ml("Animation","AnimationIteration"),animationstart:Ml("Animation","AnimationStart"),transitionrun:Ml("Transition","TransitionRun"),transitionstart:Ml("Transition","TransitionStart"),transitioncancel:Ml("Transition","TransitionCancel"),transitionend:Ml("Transition","TransitionEnd")},lx={},cP={};si&&(cP=document.createElement("div").style,"AnimationEvent"in window||(delete fc.animationend.animation,delete fc.animationiteration.animation,delete fc.animationstart.animation),"TransitionEvent"in window||delete fc.transitionend.transition);function Ol(a){if(lx[a])return lx[a];if(!fc[a])return a;var u=fc[a],d;for(d in u)if(u.hasOwnProperty(d)&&d in cP)return lx[a]=u[d];return a}var fP=Ol("animationend"),dP=Ol("animationiteration"),hP=Ol("animationstart"),F7=Ol("transitionrun"),q7=Ol("transitionstart"),z7=Ol("transitioncancel"),pP=Ol("transitionend"),mP=new Map,ux="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ux.push("scrollEnd");function Fi(a,u){mP.set(a,u),go(u,[a])}var cg=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},li=[],dc=0,cx=0;function fg(){for(var a=dc,u=cx=dc=0;u<a;){var d=li[u];li[u++]=null;var m=li[u];li[u++]=null;var w=li[u];li[u++]=null;var T=li[u];if(li[u++]=null,m!==null&&w!==null){var D=m.pending;D===null?w.next=w:(w.next=D.next,D.next=w),m.pending=w}T!==0&&gP(d,w,T)}}function dg(a,u,d,m){li[dc++]=a,li[dc++]=u,li[dc++]=d,li[dc++]=m,cx|=m,a.lanes|=m,a=a.alternate,a!==null&&(a.lanes|=m)}function fx(a,u,d,m){return dg(a,u,d,m),hg(a)}function Dl(a,u){return dg(a,null,null,u),hg(a)}function gP(a,u,d){a.lanes|=d;var m=a.alternate;m!==null&&(m.lanes|=d);for(var w=!1,T=a.return;T!==null;)T.childLanes|=d,m=T.alternate,m!==null&&(m.childLanes|=d),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(w=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,w&&u!==null&&(w=31-un(d),a=T.hiddenUpdates,m=a[w],m===null?a[w]=[u]:m.push(u),u.lane=d|536870912),T):null}function hg(a){if(50<Yd)throw Yd=0,x_=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var hc={};function $7(a,u,d,m){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(a,u,d,m){return new $7(a,u,d,m)}function dx(a){return a=a.prototype,!(!a||!a.isReactComponent)}function rs(a,u){var d=a.alternate;return d===null?(d=Fr(a.tag,u,a.key,a.mode),d.elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=a.flags&65011712,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d.refCleanup=a.refCleanup,d}function yP(a,u){a.flags&=65011714;var d=a.alternate;return d===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=d.childLanes,a.lanes=d.lanes,a.child=d.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=d.memoizedProps,a.memoizedState=d.memoizedState,a.updateQueue=d.updateQueue,a.type=d.type,u=d.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function pg(a,u,d,m,w,T){var D=0;if(m=a,typeof a=="function")dx(a)&&(D=1);else if(typeof a=="string")D=YK(a,d,ae.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case V:return a=Fr(31,d,u,w),a.elementType=V,a.lanes=T,a;case A:return Ll(d.children,w,T,u);case E:D=8,w|=24;break;case M:return a=Fr(12,d,u,w|2),a.elementType=M,a.lanes=T,a;case R:return a=Fr(13,d,u,w),a.elementType=R,a.lanes=T,a;case U:return a=Fr(19,d,u,w),a.elementType=U,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case N:D=10;break e;case I:D=9;break e;case C:D=11;break e;case k:D=14;break e;case O:D=16,m=null;break e}D=29,d=Error(r(130,a===null?"null":typeof a,"")),m=null}return u=Fr(D,d,u,w),u.elementType=a,u.type=m,u.lanes=T,u}function Ll(a,u,d,m){return a=Fr(7,a,m,u),a.lanes=d,a}function hx(a,u,d){return a=Fr(6,a,null,u),a.lanes=d,a}function vP(a){var u=Fr(18,null,null,0);return u.stateNode=a,u}function px(a,u,d){return u=Fr(4,a.children!==null?a.children:[],a.key,u),u.lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var bP=new WeakMap;function ui(a,u){if(typeof a=="object"&&a!==null){var d=bP.get(a);return d!==void 0?d:(u={value:a,source:u,stack:It(u)},bP.set(a,u),u)}return{value:a,source:u,stack:It(u)}}var pc=[],mc=0,mg=null,Id=0,ci=[],fi=0,ia=null,So=1,Ao="";function is(a,u){pc[mc++]=Id,pc[mc++]=mg,mg=a,Id=u}function xP(a,u,d){ci[fi++]=So,ci[fi++]=Ao,ci[fi++]=ia,ia=a;var m=So;a=Ao;var w=32-un(m)-1;m&=~(1<<w),d+=1;var T=32-un(u)+w;if(30<T){var D=w-w%5;T=(m&(1<<D)-1).toString(32),m>>=D,w-=D,So=1<<32-un(u)+w|d<<w|m,Ao=T+a}else So=1<<T|d<<w|m,Ao=a}function mx(a){a.return!==null&&(is(a,1),xP(a,1,0))}function gx(a){for(;a===mg;)mg=pc[--mc],pc[mc]=null,Id=pc[--mc],pc[mc]=null;for(;a===ia;)ia=ci[--fi],ci[fi]=null,Ao=ci[--fi],ci[fi]=null,So=ci[--fi],ci[fi]=null}function _P(a,u){ci[fi++]=So,ci[fi++]=Ao,ci[fi++]=ia,So=u.id,Ao=u.overflow,ia=a}var Hn=null,$t=null,ht=!1,oa=null,di=!1,yx=Error(r(519));function sa(a){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Nd(ui(u,a)),yx}function wP(a){var u=a.stateNode,d=a.type,m=a.memoizedProps;switch(u[yn]=a,u[Dn]=m,d){case"dialog":it("cancel",u),it("close",u);break;case"iframe":case"object":case"embed":it("load",u);break;case"video":case"audio":for(d=0;d<Jd.length;d++)it(Jd[d],u);break;case"source":it("error",u);break;case"img":case"image":case"link":it("error",u),it("load",u);break;case"details":it("toggle",u);break;case"input":it("invalid",u),Wm(u,m.value,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name,!0);break;case"select":it("invalid",u);break;case"textarea":it("invalid",u),Js(u,m.value,m.defaultValue,m.children)}d=m.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||u.textContent===""+d||m.suppressHydrationWarning===!0||j2(u.textContent,d)?(m.popover!=null&&(it("beforetoggle",u),it("toggle",u)),m.onScroll!=null&&it("scroll",u),m.onScrollEnd!=null&&it("scrollend",u),m.onClick!=null&&(u.onclick=Li),u=!0):u=!1,u||sa(a,!0)}function TP(a){for(Hn=a.return;Hn;)switch(Hn.tag){case 5:case 31:case 13:di=!1;return;case 27:case 3:di=!0;return;default:Hn=Hn.return}}function gc(a){if(a!==Hn)return!1;if(!ht)return TP(a),ht=!0,!1;var u=a.tag,d;if((d=u!==3&&u!==27)&&((d=u===5)&&(d=a.type,d=!(d!=="form"&&d!=="button")||D_(a.type,a.memoizedProps)),d=!d),d&&$t&&sa(a),TP(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=W2(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));$t=W2(a)}else u===27?(u=$t,xa(a.type)?(a=B_,B_=null,$t=a):$t=u):$t=Hn?pi(a.stateNode.nextSibling):null;return!0}function Ul(){$t=Hn=null,ht=!1}function vx(){var a=oa;return a!==null&&(Ir===null?Ir=a:Ir.push.apply(Ir,a),oa=null),a}function Nd(a){oa===null?oa=[a]:oa.push(a)}var bx=L(null),Vl=null,os=null;function aa(a,u,d){ee(bx,u._currentValue),u._currentValue=d}function ss(a){a._currentValue=bx.current,G(bx)}function xx(a,u,d){for(;a!==null;){var m=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,m!==null&&(m.childLanes|=u)):m!==null&&(m.childLanes&u)!==u&&(m.childLanes|=u),a===d)break;a=a.return}}function _x(a,u,d,m){var w=a.child;for(w!==null&&(w.return=a);w!==null;){var T=w.dependencies;if(T!==null){var D=w.child;T=T.firstContext;e:for(;T!==null;){var $=T;T=w;for(var J=0;J<u.length;J++)if($.context===u[J]){T.lanes|=d,$=T.alternate,$!==null&&($.lanes|=d),xx(T.return,d,a),m||(D=null);break e}T=$.next}}else if(w.tag===18){if(D=w.return,D===null)throw Error(r(341));D.lanes|=d,T=D.alternate,T!==null&&(T.lanes|=d),xx(D,d,a),D=null}else D=w.child;if(D!==null)D.return=w;else for(D=w;D!==null;){if(D===a){D=null;break}if(w=D.sibling,w!==null){w.return=D.return,D=w;break}D=D.return}w=D}}function yc(a,u,d,m){a=null;for(var w=u,T=!1;w!==null;){if(!T){if((w.flags&524288)!==0)T=!0;else if((w.flags&262144)!==0)break}if(w.tag===10){var D=w.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var $=w.type;Br(w.pendingProps.value,D.value)||(a!==null?a.push($):a=[$])}}else if(w===Te.current){if(D=w.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==w.memoizedState.memoizedState&&(a!==null?a.push(nh):a=[nh])}w=w.return}a!==null&&_x(u,a,d,m),u.flags|=262144}function gg(a){for(a=a.firstContext;a!==null;){if(!Br(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function jl(a){Vl=a,os=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Kn(a){return EP(Vl,a)}function yg(a,u){return Vl===null&&jl(a),EP(a,u)}function EP(a,u){var d=u._currentValue;if(u={context:u,memoizedValue:d,next:null},os===null){if(a===null)throw Error(r(308));os=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else os=os.next=u;return d}var G7=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(d,m){a.push(m)}};this.abort=function(){u.aborted=!0,a.forEach(function(d){return d()})}},H7=t.unstable_scheduleCallback,K7=t.unstable_NormalPriority,xn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wx(){return{controller:new G7,data:new Map,refCount:0}}function Rd(a){a.refCount--,a.refCount===0&&H7(K7,function(){a.controller.abort()})}var Pd=null,Tx=0,vc=0,bc=null;function W7(a,u){if(Pd===null){var d=Pd=[];Tx=0,vc=A_(),bc={status:"pending",value:void 0,then:function(m){d.push(m)}}}return Tx++,u.then(SP,SP),u}function SP(){if(--Tx===0&&Pd!==null){bc!==null&&(bc.status="fulfilled");var a=Pd;Pd=null,vc=0,bc=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function Y7(a,u){var d=[],m={status:"pending",value:null,reason:null,then:function(w){d.push(w)}};return a.then(function(){m.status="fulfilled",m.value=u;for(var w=0;w<d.length;w++)(0,d[w])(u)},function(w){for(m.status="rejected",m.reason=w,w=0;w<d.length;w++)(0,d[w])(void 0)}),m}var AP=K.S;K.S=function(a,u){u2=ln(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&W7(a,u),AP!==null&&AP(a,u)};var Bl=L(null);function Ex(){var a=Bl.current;return a!==null?a:Vt.pooledCache}function vg(a,u){u===null?ee(Bl,Bl.current):ee(Bl,u.pool)}function CP(){var a=Ex();return a===null?null:{parent:xn._currentValue,pool:a}}var xc=Error(r(460)),Sx=Error(r(474)),bg=Error(r(542)),xg={then:function(){}};function IP(a){return a=a.status,a==="fulfilled"||a==="rejected"}function NP(a,u,d){switch(d=a[d],d===void 0?a.push(u):d!==u&&(u.then(Li,Li),u=d),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,PP(a),a;default:if(typeof u.status=="string")u.then(Li,Li);else{if(a=Vt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(m){if(u.status==="pending"){var w=u;w.status="fulfilled",w.value=m}},function(m){if(u.status==="pending"){var w=u;w.status="rejected",w.reason=m}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,PP(a),a}throw ql=u,xc}}function Fl(a){try{var u=a._init;return u(a._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ql=d,xc):d}}var ql=null;function RP(){if(ql===null)throw Error(r(459));var a=ql;return ql=null,a}function PP(a){if(a===xc||a===bg)throw Error(r(483))}var _c=null,kd=0;function _g(a){var u=kd;return kd+=1,_c===null&&(_c=[]),NP(_c,a,u)}function Md(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function wg(a,u){throw u.$$typeof===g?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function kP(a){function u(ne,Z){if(a){var se=ne.deletions;se===null?(ne.deletions=[Z],ne.flags|=16):se.push(Z)}}function d(ne,Z){if(!a)return null;for(;Z!==null;)u(ne,Z),Z=Z.sibling;return null}function m(ne){for(var Z=new Map;ne!==null;)ne.key!==null?Z.set(ne.key,ne):Z.set(ne.index,ne),ne=ne.sibling;return Z}function w(ne,Z){return ne=rs(ne,Z),ne.index=0,ne.sibling=null,ne}function T(ne,Z,se){return ne.index=se,a?(se=ne.alternate,se!==null?(se=se.index,se<Z?(ne.flags|=67108866,Z):se):(ne.flags|=67108866,Z)):(ne.flags|=1048576,Z)}function D(ne){return a&&ne.alternate===null&&(ne.flags|=67108866),ne}function $(ne,Z,se,ye){return Z===null||Z.tag!==6?(Z=hx(se,ne.mode,ye),Z.return=ne,Z):(Z=w(Z,se),Z.return=ne,Z)}function J(ne,Z,se,ye){var je=se.type;return je===A?me(ne,Z,se.props.children,ye,se.key):Z!==null&&(Z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&Fl(je)===Z.type)?(Z=w(Z,se.props),Md(Z,se),Z.return=ne,Z):(Z=pg(se.type,se.key,se.props,null,ne.mode,ye),Md(Z,se),Z.return=ne,Z)}function le(ne,Z,se,ye){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==se.containerInfo||Z.stateNode.implementation!==se.implementation?(Z=px(se,ne.mode,ye),Z.return=ne,Z):(Z=w(Z,se.children||[]),Z.return=ne,Z)}function me(ne,Z,se,ye,je){return Z===null||Z.tag!==7?(Z=Ll(se,ne.mode,ye,je),Z.return=ne,Z):(Z=w(Z,se),Z.return=ne,Z)}function be(ne,Z,se){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=hx(""+Z,ne.mode,se),Z.return=ne,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case _:return se=pg(Z.type,Z.key,Z.props,null,ne.mode,se),Md(se,Z),se.return=ne,se;case S:return Z=px(Z,ne.mode,se),Z.return=ne,Z;case O:return Z=Fl(Z),be(ne,Z,se)}if(oe(Z)||z(Z))return Z=Ll(Z,ne.mode,se,null),Z.return=ne,Z;if(typeof Z.then=="function")return be(ne,_g(Z),se);if(Z.$$typeof===N)return be(ne,yg(ne,Z),se);wg(ne,Z)}return null}function ue(ne,Z,se,ye){var je=Z!==null?Z.key:null;if(typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint")return je!==null?null:$(ne,Z,""+se,ye);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case _:return se.key===je?J(ne,Z,se,ye):null;case S:return se.key===je?le(ne,Z,se,ye):null;case O:return se=Fl(se),ue(ne,Z,se,ye)}if(oe(se)||z(se))return je!==null?null:me(ne,Z,se,ye,null);if(typeof se.then=="function")return ue(ne,Z,_g(se),ye);if(se.$$typeof===N)return ue(ne,Z,yg(ne,se),ye);wg(ne,se)}return null}function de(ne,Z,se,ye,je){if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ne=ne.get(se)||null,$(Z,ne,""+ye,je);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case _:return ne=ne.get(ye.key===null?se:ye.key)||null,J(Z,ne,ye,je);case S:return ne=ne.get(ye.key===null?se:ye.key)||null,le(Z,ne,ye,je);case O:return ye=Fl(ye),de(ne,Z,se,ye,je)}if(oe(ye)||z(ye))return ne=ne.get(se)||null,me(Z,ne,ye,je,null);if(typeof ye.then=="function")return de(ne,Z,se,_g(ye),je);if(ye.$$typeof===N)return de(ne,Z,se,yg(Z,ye),je);wg(Z,ye)}return null}function Le(ne,Z,se,ye){for(var je=null,vt=null,Ue=Z,tt=Z=0,st=null;Ue!==null&&tt<se.length;tt++){Ue.index>tt?(st=Ue,Ue=null):st=Ue.sibling;var bt=ue(ne,Ue,se[tt],ye);if(bt===null){Ue===null&&(Ue=st);break}a&&Ue&&bt.alternate===null&&u(ne,Ue),Z=T(bt,Z,tt),vt===null?je=bt:vt.sibling=bt,vt=bt,Ue=st}if(tt===se.length)return d(ne,Ue),ht&&is(ne,tt),je;if(Ue===null){for(;tt<se.length;tt++)Ue=be(ne,se[tt],ye),Ue!==null&&(Z=T(Ue,Z,tt),vt===null?je=Ue:vt.sibling=Ue,vt=Ue);return ht&&is(ne,tt),je}for(Ue=m(Ue);tt<se.length;tt++)st=de(Ue,ne,tt,se[tt],ye),st!==null&&(a&&st.alternate!==null&&Ue.delete(st.key===null?tt:st.key),Z=T(st,Z,tt),vt===null?je=st:vt.sibling=st,vt=st);return a&&Ue.forEach(function(Sa){return u(ne,Sa)}),ht&&is(ne,tt),je}function ze(ne,Z,se,ye){if(se==null)throw Error(r(151));for(var je=null,vt=null,Ue=Z,tt=Z=0,st=null,bt=se.next();Ue!==null&&!bt.done;tt++,bt=se.next()){Ue.index>tt?(st=Ue,Ue=null):st=Ue.sibling;var Sa=ue(ne,Ue,bt.value,ye);if(Sa===null){Ue===null&&(Ue=st);break}a&&Ue&&Sa.alternate===null&&u(ne,Ue),Z=T(Sa,Z,tt),vt===null?je=Sa:vt.sibling=Sa,vt=Sa,Ue=st}if(bt.done)return d(ne,Ue),ht&&is(ne,tt),je;if(Ue===null){for(;!bt.done;tt++,bt=se.next())bt=be(ne,bt.value,ye),bt!==null&&(Z=T(bt,Z,tt),vt===null?je=bt:vt.sibling=bt,vt=bt);return ht&&is(ne,tt),je}for(Ue=m(Ue);!bt.done;tt++,bt=se.next())bt=de(Ue,ne,tt,bt.value,ye),bt!==null&&(a&&bt.alternate!==null&&Ue.delete(bt.key===null?tt:bt.key),Z=T(bt,Z,tt),vt===null?je=bt:vt.sibling=bt,vt=bt);return a&&Ue.forEach(function(sW){return u(ne,sW)}),ht&&is(ne,tt),je}function Lt(ne,Z,se,ye){if(typeof se=="object"&&se!==null&&se.type===A&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case _:e:{for(var je=se.key;Z!==null;){if(Z.key===je){if(je=se.type,je===A){if(Z.tag===7){d(ne,Z.sibling),ye=w(Z,se.props.children),ye.return=ne,ne=ye;break e}}else if(Z.elementType===je||typeof je=="object"&&je!==null&&je.$$typeof===O&&Fl(je)===Z.type){d(ne,Z.sibling),ye=w(Z,se.props),Md(ye,se),ye.return=ne,ne=ye;break e}d(ne,Z);break}else u(ne,Z);Z=Z.sibling}se.type===A?(ye=Ll(se.props.children,ne.mode,ye,se.key),ye.return=ne,ne=ye):(ye=pg(se.type,se.key,se.props,null,ne.mode,ye),Md(ye,se),ye.return=ne,ne=ye)}return D(ne);case S:e:{for(je=se.key;Z!==null;){if(Z.key===je)if(Z.tag===4&&Z.stateNode.containerInfo===se.containerInfo&&Z.stateNode.implementation===se.implementation){d(ne,Z.sibling),ye=w(Z,se.children||[]),ye.return=ne,ne=ye;break e}else{d(ne,Z);break}else u(ne,Z);Z=Z.sibling}ye=px(se,ne.mode,ye),ye.return=ne,ne=ye}return D(ne);case O:return se=Fl(se),Lt(ne,Z,se,ye)}if(oe(se))return Le(ne,Z,se,ye);if(z(se)){if(je=z(se),typeof je!="function")throw Error(r(150));return se=je.call(se),ze(ne,Z,se,ye)}if(typeof se.then=="function")return Lt(ne,Z,_g(se),ye);if(se.$$typeof===N)return Lt(ne,Z,yg(ne,se),ye);wg(ne,se)}return typeof se=="string"&&se!==""||typeof se=="number"||typeof se=="bigint"?(se=""+se,Z!==null&&Z.tag===6?(d(ne,Z.sibling),ye=w(Z,se),ye.return=ne,ne=ye):(d(ne,Z),ye=hx(se,ne.mode,ye),ye.return=ne,ne=ye),D(ne)):d(ne,Z)}return function(ne,Z,se,ye){try{kd=0;var je=Lt(ne,Z,se,ye);return _c=null,je}catch(Ue){if(Ue===xc||Ue===bg)throw Ue;var vt=Fr(29,Ue,null,ne.mode);return vt.lanes=ye,vt.return=ne,vt}finally{}}}var zl=kP(!0),MP=kP(!1),la=!1;function Ax(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cx(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function ua(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function ca(a,u,d){var m=a.updateQueue;if(m===null)return null;if(m=m.shared,(Et&2)!==0){var w=m.pending;return w===null?u.next=u:(u.next=w.next,w.next=u),m.pending=u,u=hg(a),gP(a,null,d),u}return dg(a,m,u,d),hg(a)}function Od(a,u,d){if(u=u.updateQueue,u!==null&&(u=u.shared,(d&4194048)!==0)){var m=u.lanes;m&=a.pendingLanes,d|=m,u.lanes=d,ad(a,d)}}function Ix(a,u){var d=a.updateQueue,m=a.alternate;if(m!==null&&(m=m.updateQueue,d===m)){var w=null,T=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};T===null?w=T=D:T=T.next=D,d=d.next}while(d!==null);T===null?w=T=u:T=T.next=u}else w=T=u;d={baseState:m.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:m.shared,callbacks:m.callbacks},a.updateQueue=d;return}a=d.lastBaseUpdate,a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}var Nx=!1;function Dd(){if(Nx){var a=bc;if(a!==null)throw a}}function Ld(a,u,d,m){Nx=!1;var w=a.updateQueue;la=!1;var T=w.firstBaseUpdate,D=w.lastBaseUpdate,$=w.shared.pending;if($!==null){w.shared.pending=null;var J=$,le=J.next;J.next=null,D===null?T=le:D.next=le,D=J;var me=a.alternate;me!==null&&(me=me.updateQueue,$=me.lastBaseUpdate,$!==D&&($===null?me.firstBaseUpdate=le:$.next=le,me.lastBaseUpdate=J))}if(T!==null){var be=w.baseState;D=0,me=le=J=null,$=T;do{var ue=$.lane&-536870913,de=ue!==$.lane;if(de?(ot&ue)===ue:(m&ue)===ue){ue!==0&&ue===vc&&(Nx=!0),me!==null&&(me=me.next={lane:0,tag:$.tag,payload:$.payload,callback:null,next:null});e:{var Le=a,ze=$;ue=u;var Lt=d;switch(ze.tag){case 1:if(Le=ze.payload,typeof Le=="function"){be=Le.call(Lt,be,ue);break e}be=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=ze.payload,ue=typeof Le=="function"?Le.call(Lt,be,ue):Le,ue==null)break e;be=p({},be,ue);break e;case 2:la=!0}}ue=$.callback,ue!==null&&(a.flags|=64,de&&(a.flags|=8192),de=w.callbacks,de===null?w.callbacks=[ue]:de.push(ue))}else de={lane:ue,tag:$.tag,payload:$.payload,callback:$.callback,next:null},me===null?(le=me=de,J=be):me=me.next=de,D|=ue;if($=$.next,$===null){if($=w.shared.pending,$===null)break;de=$,$=de.next,de.next=null,w.lastBaseUpdate=de,w.shared.pending=null}}while(!0);me===null&&(J=be),w.baseState=J,w.firstBaseUpdate=le,w.lastBaseUpdate=me,T===null&&(w.shared.lanes=0),ma|=D,a.lanes=D,a.memoizedState=be}}function OP(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function DP(a,u){var d=a.callbacks;if(d!==null)for(a.callbacks=null,a=0;a<d.length;a++)OP(d[a],u)}var wc=L(null),Tg=L(0);function LP(a,u){a=ms,ee(Tg,a),ee(wc,u),ms=a|u.baseLanes}function Rx(){ee(Tg,ms),ee(wc,wc.current)}function Px(){ms=Tg.current,G(wc),G(Tg)}var qr=L(null),hi=null;function fa(a){var u=a.alternate;ee(fn,fn.current&1),ee(qr,a),hi===null&&(u===null||wc.current!==null||u.memoizedState!==null)&&(hi=a)}function kx(a){ee(fn,fn.current),ee(qr,a),hi===null&&(hi=a)}function UP(a){a.tag===22?(ee(fn,fn.current),ee(qr,a),hi===null&&(hi=a)):da()}function da(){ee(fn,fn.current),ee(qr,qr.current)}function zr(a){G(qr),hi===a&&(hi=null),G(fn)}var fn=L(0);function Eg(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||V_(d)||j_(d)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var as=0,et=null,Ot=null,_n=null,Sg=!1,Tc=!1,$l=!1,Ag=0,Ud=0,Ec=null,X7=0;function rn(){throw Error(r(321))}function Mx(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Br(a[d],u[d]))return!1;return!0}function Ox(a,u,d,m,w,T){return as=T,et=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,K.H=a===null||a.memoizedState===null?xk:Yx,$l=!1,T=d(m,w),$l=!1,Tc&&(T=jP(u,d,m,w)),VP(a),T}function VP(a){K.H=Bd;var u=Ot!==null&&Ot.next!==null;if(as=0,_n=Ot=et=null,Sg=!1,Ud=0,Ec=null,u)throw Error(r(300));a===null||wn||(a=a.dependencies,a!==null&&gg(a)&&(wn=!0))}function jP(a,u,d,m){et=a;var w=0;do{if(Tc&&(Ec=null),Ud=0,Tc=!1,25<=w)throw Error(r(301));if(w+=1,_n=Ot=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}K.H=_k,T=u(d,m)}while(Tc);return T}function J7(){var a=K.H,u=a.useState()[0];return u=typeof u.then=="function"?Vd(u):u,a=a.useState()[0],(Ot!==null?Ot.memoizedState:null)!==a&&(et.flags|=1024),u}function Dx(){var a=Ag!==0;return Ag=0,a}function Lx(a,u,d){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~d}function Ux(a){if(Sg){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Sg=!1}as=0,_n=Ot=et=null,Tc=!1,Ud=Ag=0,Ec=null}function gr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?et.memoizedState=_n=a:_n=_n.next=a,_n}function dn(){if(Ot===null){var a=et.alternate;a=a!==null?a.memoizedState:null}else a=Ot.next;var u=_n===null?et.memoizedState:_n.next;if(u!==null)_n=u,Ot=a;else{if(a===null)throw et.alternate===null?Error(r(467)):Error(r(310));Ot=a,a={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},_n===null?et.memoizedState=_n=a:_n=_n.next=a}return _n}function Cg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Vd(a){var u=Ud;return Ud+=1,Ec===null&&(Ec=[]),a=NP(Ec,a,u),u=et,(_n===null?u.memoizedState:_n.next)===null&&(u=u.alternate,K.H=u===null||u.memoizedState===null?xk:Yx),a}function Ig(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Vd(a);if(a.$$typeof===N)return Kn(a)}throw Error(r(438,String(a)))}function Vx(a){var u=null,d=et.updateQueue;if(d!==null&&(u=d.memoCache),u==null){var m=et.alternate;m!==null&&(m=m.updateQueue,m!==null&&(m=m.memoCache,m!=null&&(u={data:m.data.map(function(w){return w.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),d===null&&(d=Cg(),et.updateQueue=d),d.memoCache=u,d=u.data[u.index],d===void 0)for(d=u.data[u.index]=Array(a),m=0;m<a;m++)d[m]=F;return u.index++,d}function ls(a,u){return typeof u=="function"?u(a):u}function Ng(a){var u=dn();return jx(u,Ot,a)}function jx(a,u,d){var m=a.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=d;var w=a.baseQueue,T=m.pending;if(T!==null){if(w!==null){var D=w.next;w.next=T.next,T.next=D}u.baseQueue=w=T,m.pending=null}if(T=a.baseState,w===null)a.memoizedState=T;else{u=w.next;var $=D=null,J=null,le=u,me=!1;do{var be=le.lane&-536870913;if(be!==le.lane?(ot&be)===be:(as&be)===be){var ue=le.revertLane;if(ue===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),be===vc&&(me=!0);else if((as&ue)===ue){le=le.next,ue===vc&&(me=!0);continue}else be={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},J===null?($=J=be,D=T):J=J.next=be,et.lanes|=ue,ma|=ue;be=le.action,$l&&d(T,be),T=le.hasEagerState?le.eagerState:d(T,be)}else ue={lane:be,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},J===null?($=J=ue,D=T):J=J.next=ue,et.lanes|=be,ma|=be;le=le.next}while(le!==null&&le!==u);if(J===null?D=T:J.next=$,!Br(T,a.memoizedState)&&(wn=!0,me&&(d=bc,d!==null)))throw d;a.memoizedState=T,a.baseState=D,a.baseQueue=J,m.lastRenderedState=T}return w===null&&(m.lanes=0),[a.memoizedState,m.dispatch]}function Bx(a){var u=dn(),d=u.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=a;var m=d.dispatch,w=d.pending,T=u.memoizedState;if(w!==null){d.pending=null;var D=w=w.next;do T=a(T,D.action),D=D.next;while(D!==w);Br(T,u.memoizedState)||(wn=!0),u.memoizedState=T,u.baseQueue===null&&(u.baseState=T),d.lastRenderedState=T}return[T,m]}function BP(a,u,d){var m=et,w=dn(),T=ht;if(T){if(d===void 0)throw Error(r(407));d=d()}else d=u();var D=!Br((Ot||w).memoizedState,d);if(D&&(w.memoizedState=d,wn=!0),w=w.queue,zx(zP.bind(null,m,w,a),[a]),w.getSnapshot!==u||D||_n!==null&&_n.memoizedState.tag&1){if(m.flags|=2048,Sc(9,{destroy:void 0},qP.bind(null,m,w,d,u),null),Vt===null)throw Error(r(349));T||(as&127)!==0||FP(m,u,d)}return d}function FP(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},u=et.updateQueue,u===null?(u=Cg(),et.updateQueue=u,u.stores=[a]):(d=u.stores,d===null?u.stores=[a]:d.push(a))}function qP(a,u,d,m){u.value=d,u.getSnapshot=m,$P(u)&&GP(a)}function zP(a,u,d){return d(function(){$P(u)&&GP(a)})}function $P(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Br(a,d)}catch{return!0}}function GP(a){var u=Dl(a,2);u!==null&&Nr(u,a,2)}function Fx(a){var u=gr();if(typeof a=="function"){var d=a;if(a=d(),$l){ri(!0);try{d()}finally{ri(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:a},u}function HP(a,u,d,m){return a.baseState=d,jx(a,Ot,typeof m=="function"?m:ls)}function Q7(a,u,d,m,w){if(kg(a))throw Error(r(485));if(a=u.action,a!==null){var T={payload:w,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){T.listeners.push(D)}};K.T!==null?d(!0):T.isTransition=!1,m(T),d=u.pending,d===null?(T.next=u.pending=T,KP(u,T)):(T.next=d.next,u.pending=d.next=T)}}function KP(a,u){var d=u.action,m=u.payload,w=a.state;if(u.isTransition){var T=K.T,D={};K.T=D;try{var $=d(w,m),J=K.S;J!==null&&J(D,$),WP(a,u,$)}catch(le){qx(a,u,le)}finally{T!==null&&D.types!==null&&(T.types=D.types),K.T=T}}else try{T=d(w,m),WP(a,u,T)}catch(le){qx(a,u,le)}}function WP(a,u,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(m){YP(a,u,m)},function(m){return qx(a,u,m)}):YP(a,u,d)}function YP(a,u,d){u.status="fulfilled",u.value=d,XP(u),a.state=d,u=a.pending,u!==null&&(d=u.next,d===u?a.pending=null:(d=d.next,u.next=d,KP(a,d)))}function qx(a,u,d){var m=a.pending;if(a.pending=null,m!==null){m=m.next;do u.status="rejected",u.reason=d,XP(u),u=u.next;while(u!==m)}a.action=null}function XP(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function JP(a,u){return u}function QP(a,u){if(ht){var d=Vt.formState;if(d!==null){e:{var m=et;if(ht){if($t){t:{for(var w=$t,T=di;w.nodeType!==8;){if(!T){w=null;break t}if(w=pi(w.nextSibling),w===null){w=null;break t}}T=w.data,w=T==="F!"||T==="F"?w:null}if(w){$t=pi(w.nextSibling),m=w.data==="F!";break e}}sa(m)}m=!1}m&&(u=d[0])}}return d=gr(),d.memoizedState=d.baseState=u,m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:JP,lastRenderedState:u},d.queue=m,d=yk.bind(null,et,m),m.dispatch=d,m=Fx(!1),T=Wx.bind(null,et,!1,m.queue),m=gr(),w={state:u,dispatch:null,action:a,pending:null},m.queue=w,d=Q7.bind(null,et,w,T,d),w.dispatch=d,m.memoizedState=a,[u,d,!1]}function ZP(a){var u=dn();return ek(u,Ot,a)}function ek(a,u,d){if(u=jx(a,u,JP)[0],a=Ng(ls)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var m=Vd(u)}catch(D){throw D===xc?bg:D}else m=u;u=dn();var w=u.queue,T=w.dispatch;return d!==u.memoizedState&&(et.flags|=2048,Sc(9,{destroy:void 0},Z7.bind(null,w,d),null)),[m,T,a]}function Z7(a,u){a.action=u}function tk(a){var u=dn(),d=Ot;if(d!==null)return ek(u,d,a);dn(),u=u.memoizedState,d=dn();var m=d.queue.dispatch;return d.memoizedState=a,[u,m,!1]}function Sc(a,u,d,m){return a={tag:a,create:d,deps:m,inst:u,next:null},u=et.updateQueue,u===null&&(u=Cg(),et.updateQueue=u),d=u.lastEffect,d===null?u.lastEffect=a.next=a:(m=d.next,d.next=a,a.next=m,u.lastEffect=a),a}function nk(){return dn().memoizedState}function Rg(a,u,d,m){var w=gr();et.flags|=a,w.memoizedState=Sc(1|u,{destroy:void 0},d,m===void 0?null:m)}function Pg(a,u,d,m){var w=dn();m=m===void 0?null:m;var T=w.memoizedState.inst;Ot!==null&&m!==null&&Mx(m,Ot.memoizedState.deps)?w.memoizedState=Sc(u,T,d,m):(et.flags|=a,w.memoizedState=Sc(1|u,T,d,m))}function rk(a,u){Rg(8390656,8,a,u)}function zx(a,u){Pg(2048,8,a,u)}function eK(a){et.flags|=4;var u=et.updateQueue;if(u===null)u=Cg(),et.updateQueue=u,u.events=[a];else{var d=u.events;d===null?u.events=[a]:d.push(a)}}function ik(a){var u=dn().memoizedState;return eK({ref:u,nextImpl:a}),function(){if((Et&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function ok(a,u){return Pg(4,2,a,u)}function sk(a,u){return Pg(4,4,a,u)}function ak(a,u){if(typeof u=="function"){a=a();var d=u(a);return function(){typeof d=="function"?d():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function lk(a,u,d){d=d!=null?d.concat([a]):null,Pg(4,4,ak.bind(null,u,a),d)}function $x(){}function uk(a,u){var d=dn();u=u===void 0?null:u;var m=d.memoizedState;return u!==null&&Mx(u,m[1])?m[0]:(d.memoizedState=[a,u],a)}function ck(a,u){var d=dn();u=u===void 0?null:u;var m=d.memoizedState;if(u!==null&&Mx(u,m[1]))return m[0];if(m=a(),$l){ri(!0);try{a()}finally{ri(!1)}}return d.memoizedState=[m,u],m}function Gx(a,u,d){return d===void 0||(as&1073741824)!==0&&(ot&261930)===0?a.memoizedState=u:(a.memoizedState=d,a=f2(),et.lanes|=a,ma|=a,d)}function fk(a,u,d,m){return Br(d,u)?d:wc.current!==null?(a=Gx(a,d,m),Br(a,u)||(wn=!0),a):(as&42)===0||(as&1073741824)!==0&&(ot&261930)===0?(wn=!0,a.memoizedState=d):(a=f2(),et.lanes|=a,ma|=a,u)}function dk(a,u,d,m,w){var T=X.p;X.p=T!==0&&8>T?T:8;var D=K.T,$={};K.T=$,Wx(a,!1,u,d);try{var J=w(),le=K.S;if(le!==null&&le($,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var me=Y7(J,m);jd(a,u,me,Hr(a))}else jd(a,u,m,Hr(a))}catch(be){jd(a,u,{then:function(){},status:"rejected",reason:be},Hr())}finally{X.p=T,D!==null&&$.types!==null&&(D.types=$.types),K.T=D}}function tK(){}function Hx(a,u,d,m){if(a.tag!==5)throw Error(r(476));var w=hk(a).queue;dk(a,w,u,te,d===null?tK:function(){return pk(a),d(m)})}function hk(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:te,baseState:te,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:te},next:null};var d={};return u.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:d},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function pk(a){var u=hk(a);u.next===null&&(u=a.alternate.memoizedState),jd(a,u.next.queue,{},Hr())}function Kx(){return Kn(nh)}function mk(){return dn().memoizedState}function gk(){return dn().memoizedState}function nK(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var d=Hr();a=ua(d);var m=ca(u,a,d);m!==null&&(Nr(m,u,d),Od(m,u,d)),u={cache:wx()},a.payload=u;return}u=u.return}}function rK(a,u,d){var m=Hr();d={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},kg(a)?vk(u,d):(d=fx(a,u,d,m),d!==null&&(Nr(d,a,m),bk(d,u,m)))}function yk(a,u,d){var m=Hr();jd(a,u,d,m)}function jd(a,u,d,m){var w={lane:m,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(kg(a))vk(u,w);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=u.lastRenderedReducer,T!==null))try{var D=u.lastRenderedState,$=T(D,d);if(w.hasEagerState=!0,w.eagerState=$,Br($,D))return dg(a,u,w,0),Vt===null&&fg(),!1}catch{}finally{}if(d=fx(a,u,w,m),d!==null)return Nr(d,a,m),bk(d,u,m),!0}return!1}function Wx(a,u,d,m){if(m={lane:2,revertLane:A_(),gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},kg(a)){if(u)throw Error(r(479))}else u=fx(a,d,m,2),u!==null&&Nr(u,a,2)}function kg(a){var u=a.alternate;return a===et||u!==null&&u===et}function vk(a,u){Tc=Sg=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function bk(a,u,d){if((d&4194048)!==0){var m=u.lanes;m&=a.pendingLanes,d|=m,u.lanes=d,ad(a,d)}}var Bd={readContext:Kn,use:Ig,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn};Bd.useEffectEvent=rn;var xk={readContext:Kn,use:Ig,useCallback:function(a,u){return gr().memoizedState=[a,u===void 0?null:u],a},useContext:Kn,useEffect:rk,useImperativeHandle:function(a,u,d){d=d!=null?d.concat([a]):null,Rg(4194308,4,ak.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Rg(4194308,4,a,u)},useInsertionEffect:function(a,u){Rg(4,2,a,u)},useMemo:function(a,u){var d=gr();u=u===void 0?null:u;var m=a();if($l){ri(!0);try{a()}finally{ri(!1)}}return d.memoizedState=[m,u],m},useReducer:function(a,u,d){var m=gr();if(d!==void 0){var w=d(u);if($l){ri(!0);try{d(u)}finally{ri(!1)}}}else w=u;return m.memoizedState=m.baseState=w,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:w},m.queue=a,a=a.dispatch=rK.bind(null,et,a),[m.memoizedState,a]},useRef:function(a){var u=gr();return a={current:a},u.memoizedState=a},useState:function(a){a=Fx(a);var u=a.queue,d=yk.bind(null,et,u);return u.dispatch=d,[a.memoizedState,d]},useDebugValue:$x,useDeferredValue:function(a,u){var d=gr();return Gx(d,a,u)},useTransition:function(){var a=Fx(!1);return a=dk.bind(null,et,a.queue,!0,!1),gr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,d){var m=et,w=gr();if(ht){if(d===void 0)throw Error(r(407));d=d()}else{if(d=u(),Vt===null)throw Error(r(349));(ot&127)!==0||FP(m,u,d)}w.memoizedState=d;var T={value:d,getSnapshot:u};return w.queue=T,rk(zP.bind(null,m,T,a),[a]),m.flags|=2048,Sc(9,{destroy:void 0},qP.bind(null,m,T,d,u),null),d},useId:function(){var a=gr(),u=Vt.identifierPrefix;if(ht){var d=Ao,m=So;d=(m&~(1<<32-un(m)-1)).toString(32)+d,u="_"+u+"R_"+d,d=Ag++,0<d&&(u+="H"+d.toString(32)),u+="_"}else d=X7++,u="_"+u+"r_"+d.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:Kx,useFormState:QP,useActionState:QP,useOptimistic:function(a){var u=gr();u.memoizedState=u.baseState=a;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=d,u=Wx.bind(null,et,!0,d),d.dispatch=u,[a,u]},useMemoCache:Vx,useCacheRefresh:function(){return gr().memoizedState=nK.bind(null,et)},useEffectEvent:function(a){var u=gr(),d={impl:a};return u.memoizedState=d,function(){if((Et&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},Yx={readContext:Kn,use:Ig,useCallback:uk,useContext:Kn,useEffect:zx,useImperativeHandle:lk,useInsertionEffect:ok,useLayoutEffect:sk,useMemo:ck,useReducer:Ng,useRef:nk,useState:function(){return Ng(ls)},useDebugValue:$x,useDeferredValue:function(a,u){var d=dn();return fk(d,Ot.memoizedState,a,u)},useTransition:function(){var a=Ng(ls)[0],u=dn().memoizedState;return[typeof a=="boolean"?a:Vd(a),u]},useSyncExternalStore:BP,useId:mk,useHostTransitionStatus:Kx,useFormState:ZP,useActionState:ZP,useOptimistic:function(a,u){var d=dn();return HP(d,Ot,a,u)},useMemoCache:Vx,useCacheRefresh:gk};Yx.useEffectEvent=ik;var _k={readContext:Kn,use:Ig,useCallback:uk,useContext:Kn,useEffect:zx,useImperativeHandle:lk,useInsertionEffect:ok,useLayoutEffect:sk,useMemo:ck,useReducer:Bx,useRef:nk,useState:function(){return Bx(ls)},useDebugValue:$x,useDeferredValue:function(a,u){var d=dn();return Ot===null?Gx(d,a,u):fk(d,Ot.memoizedState,a,u)},useTransition:function(){var a=Bx(ls)[0],u=dn().memoizedState;return[typeof a=="boolean"?a:Vd(a),u]},useSyncExternalStore:BP,useId:mk,useHostTransitionStatus:Kx,useFormState:tk,useActionState:tk,useOptimistic:function(a,u){var d=dn();return Ot!==null?HP(d,Ot,a,u):(d.baseState=a,[a,d.queue.dispatch])},useMemoCache:Vx,useCacheRefresh:gk};_k.useEffectEvent=ik;function Xx(a,u,d,m){u=a.memoizedState,d=d(m,u),d=d==null?u:p({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Jx={enqueueSetState:function(a,u,d){a=a._reactInternals;var m=Hr(),w=ua(m);w.payload=u,d!=null&&(w.callback=d),u=ca(a,w,m),u!==null&&(Nr(u,a,m),Od(u,a,m))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var m=Hr(),w=ua(m);w.tag=1,w.payload=u,d!=null&&(w.callback=d),u=ca(a,w,m),u!==null&&(Nr(u,a,m),Od(u,a,m))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=Hr(),m=ua(d);m.tag=2,u!=null&&(m.callback=u),u=ca(a,m,d),u!==null&&(Nr(u,a,d),Od(u,a,d))}};function wk(a,u,d,m,w,T,D){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(m,T,D):u.prototype&&u.prototype.isPureReactComponent?!Ad(d,m)||!Ad(w,T):!0}function Tk(a,u,d,m){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,m),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,m),u.state!==a&&Jx.enqueueReplaceState(u,u.state,null)}function Gl(a,u){var d=u;if("ref"in u){d={};for(var m in u)m!=="ref"&&(d[m]=u[m])}if(a=a.defaultProps){d===u&&(d=p({},d));for(var w in a)d[w]===void 0&&(d[w]=a[w])}return d}function Ek(a){cg(a)}function Sk(a){console.error(a)}function Ak(a){cg(a)}function Mg(a,u){try{var d=a.onUncaughtError;d(u.value,{componentStack:u.stack})}catch(m){setTimeout(function(){throw m})}}function Ck(a,u,d){try{var m=a.onCaughtError;m(d.value,{componentStack:d.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(w){setTimeout(function(){throw w})}}function Qx(a,u,d){return d=ua(d),d.tag=3,d.payload={element:null},d.callback=function(){Mg(a,u)},d}function Ik(a){return a=ua(a),a.tag=3,a}function Nk(a,u,d,m){var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var T=m.value;a.payload=function(){return w(T)},a.callback=function(){Ck(u,d,m)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(a.callback=function(){Ck(u,d,m),typeof w!="function"&&(ga===null?ga=new Set([this]):ga.add(this));var $=m.stack;this.componentDidCatch(m.value,{componentStack:$!==null?$:""})})}function iK(a,u,d,m,w){if(d.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){if(u=d.alternate,u!==null&&yc(u,d,w,!0),d=qr.current,d!==null){switch(d.tag){case 31:case 13:return hi===null?Gg():d.alternate===null&&on===0&&(on=3),d.flags&=-257,d.flags|=65536,d.lanes=w,m===xg?d.flags|=16384:(u=d.updateQueue,u===null?d.updateQueue=new Set([m]):u.add(m),T_(a,m,w)),!1;case 22:return d.flags|=65536,m===xg?d.flags|=16384:(u=d.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([m])},d.updateQueue=u):(d=u.retryQueue,d===null?u.retryQueue=new Set([m]):d.add(m)),T_(a,m,w)),!1}throw Error(r(435,d.tag))}return T_(a,m,w),Gg(),!1}if(ht)return u=qr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=w,m!==yx&&(a=Error(r(422),{cause:m}),Nd(ui(a,d)))):(m!==yx&&(u=Error(r(423),{cause:m}),Nd(ui(u,d))),a=a.current.alternate,a.flags|=65536,w&=-w,a.lanes|=w,m=ui(m,d),w=Qx(a.stateNode,m,w),Ix(a,w),on!==4&&(on=2)),!1;var T=Error(r(520),{cause:m});if(T=ui(T,d),Wd===null?Wd=[T]:Wd.push(T),on!==4&&(on=2),u===null)return!0;m=ui(m,d),d=u;do{switch(d.tag){case 3:return d.flags|=65536,a=w&-w,d.lanes|=a,a=Qx(d.stateNode,m,a),Ix(d,a),!1;case 1:if(u=d.type,T=d.stateNode,(d.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(ga===null||!ga.has(T))))return d.flags|=65536,w&=-w,d.lanes|=w,w=Ik(w),Nk(w,a,d,m),Ix(d,w),!1}d=d.return}while(d!==null);return!1}var Zx=Error(r(461)),wn=!1;function Wn(a,u,d,m){u.child=a===null?MP(u,null,d,m):zl(u,a.child,d,m)}function Rk(a,u,d,m,w){d=d.render;var T=u.ref;if("ref"in m){var D={};for(var $ in m)$!=="ref"&&(D[$]=m[$])}else D=m;return jl(u),m=Ox(a,u,d,D,T,w),$=Dx(),a!==null&&!wn?(Lx(a,u,w),us(a,u,w)):(ht&&$&&mx(u),u.flags|=1,Wn(a,u,m,w),u.child)}function Pk(a,u,d,m,w){if(a===null){var T=d.type;return typeof T=="function"&&!dx(T)&&T.defaultProps===void 0&&d.compare===null?(u.tag=15,u.type=T,kk(a,u,T,m,w)):(a=pg(d.type,null,m,u,u.mode,w),a.ref=u.ref,a.return=u,u.child=a)}if(T=a.child,!a_(a,w)){var D=T.memoizedProps;if(d=d.compare,d=d!==null?d:Ad,d(D,m)&&a.ref===u.ref)return us(a,u,w)}return u.flags|=1,a=rs(T,m),a.ref=u.ref,a.return=u,u.child=a}function kk(a,u,d,m,w){if(a!==null){var T=a.memoizedProps;if(Ad(T,m)&&a.ref===u.ref)if(wn=!1,u.pendingProps=m=T,a_(a,w))(a.flags&131072)!==0&&(wn=!0);else return u.lanes=a.lanes,us(a,u,w)}return e_(a,u,d,m,w)}function Mk(a,u,d,m){var w=m.children,T=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),m.mode==="hidden"){if((u.flags&128)!==0){if(T=T!==null?T.baseLanes|d:d,a!==null){for(m=u.child=a.child,w=0;m!==null;)w=w|m.lanes|m.childLanes,m=m.sibling;m=w&~T}else m=0,u.child=null;return Ok(a,u,T,d,m)}if((d&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&vg(u,T!==null?T.cachePool:null),T!==null?LP(u,T):Rx(),UP(u);else return m=u.lanes=536870912,Ok(a,u,T!==null?T.baseLanes|d:d,d,m)}else T!==null?(vg(u,T.cachePool),LP(u,T),da(),u.memoizedState=null):(a!==null&&vg(u,null),Rx(),da());return Wn(a,u,w,d),u.child}function Fd(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Ok(a,u,d,m,w){var T=Ex();return T=T===null?null:{parent:xn._currentValue,pool:T},u.memoizedState={baseLanes:d,cachePool:T},a!==null&&vg(u,null),Rx(),UP(u),a!==null&&yc(a,u,m,!0),u.childLanes=w,null}function Og(a,u){return u=Lg({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function Dk(a,u,d){return zl(u,a.child,null,d),a=Og(u,u.pendingProps),a.flags|=2,zr(u),u.memoizedState=null,a}function oK(a,u,d){var m=u.pendingProps,w=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(ht){if(m.mode==="hidden")return a=Og(u,m),u.lanes=536870912,Fd(null,a);if(kx(u),(a=$t)?(a=K2(a,di),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ia!==null?{id:So,overflow:Ao}:null,retryLane:536870912,hydrationErrors:null},d=vP(a),d.return=u,u.child=d,Hn=u,$t=null)):a=null,a===null)throw sa(u);return u.lanes=536870912,null}return Og(u,m)}var T=a.memoizedState;if(T!==null){var D=T.dehydrated;if(kx(u),w)if(u.flags&256)u.flags&=-257,u=Dk(a,u,d);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(r(558));else if(wn||yc(a,u,d,!1),w=(d&a.childLanes)!==0,wn||w){if(m=Vt,m!==null&&(D=ld(m,d),D!==0&&D!==T.retryLane))throw T.retryLane=D,Dl(a,D),Nr(m,a,D),Zx;Gg(),u=Dk(a,u,d)}else a=T.treeContext,$t=pi(D.nextSibling),Hn=u,ht=!0,oa=null,di=!1,a!==null&&_P(u,a),u=Og(u,m),u.flags|=4096;return u}return a=rs(a.child,{mode:m.mode,children:m.children}),a.ref=u.ref,u.child=a,a.return=u,a}function Dg(a,u){var d=u.ref;if(d===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(a===null||a.ref!==d)&&(u.flags|=4194816)}}function e_(a,u,d,m,w){return jl(u),d=Ox(a,u,d,m,void 0,w),m=Dx(),a!==null&&!wn?(Lx(a,u,w),us(a,u,w)):(ht&&m&&mx(u),u.flags|=1,Wn(a,u,d,w),u.child)}function Lk(a,u,d,m,w,T){return jl(u),u.updateQueue=null,d=jP(u,m,d,w),VP(a),m=Dx(),a!==null&&!wn?(Lx(a,u,T),us(a,u,T)):(ht&&m&&mx(u),u.flags|=1,Wn(a,u,d,T),u.child)}function Uk(a,u,d,m,w){if(jl(u),u.stateNode===null){var T=hc,D=d.contextType;typeof D=="object"&&D!==null&&(T=Kn(D)),T=new d(m,T),u.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=Jx,u.stateNode=T,T._reactInternals=u,T=u.stateNode,T.props=m,T.state=u.memoizedState,T.refs={},Ax(u),D=d.contextType,T.context=typeof D=="object"&&D!==null?Kn(D):hc,T.state=u.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(Xx(u,d,D,m),T.state=u.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(D=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),D!==T.state&&Jx.enqueueReplaceState(T,T.state,null),Ld(u,m,T,w),Dd(),T.state=u.memoizedState),typeof T.componentDidMount=="function"&&(u.flags|=4194308),m=!0}else if(a===null){T=u.stateNode;var $=u.memoizedProps,J=Gl(d,$);T.props=J;var le=T.context,me=d.contextType;D=hc,typeof me=="object"&&me!==null&&(D=Kn(me));var be=d.getDerivedStateFromProps;me=typeof be=="function"||typeof T.getSnapshotBeforeUpdate=="function",$=u.pendingProps!==$,me||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||($||le!==D)&&Tk(u,T,m,D),la=!1;var ue=u.memoizedState;T.state=ue,Ld(u,m,T,w),Dd(),le=u.memoizedState,$||ue!==le||la?(typeof be=="function"&&(Xx(u,d,be,m),le=u.memoizedState),(J=la||wk(u,d,J,m,ue,le,D))?(me||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(u.flags|=4194308)):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=m,u.memoizedState=le),T.props=m,T.state=le,T.context=D,m=J):(typeof T.componentDidMount=="function"&&(u.flags|=4194308),m=!1)}else{T=u.stateNode,Cx(a,u),D=u.memoizedProps,me=Gl(d,D),T.props=me,be=u.pendingProps,ue=T.context,le=d.contextType,J=hc,typeof le=="object"&&le!==null&&(J=Kn(le)),$=d.getDerivedStateFromProps,(le=typeof $=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(D!==be||ue!==J)&&Tk(u,T,m,J),la=!1,ue=u.memoizedState,T.state=ue,Ld(u,m,T,w),Dd();var de=u.memoizedState;D!==be||ue!==de||la||a!==null&&a.dependencies!==null&&gg(a.dependencies)?(typeof $=="function"&&(Xx(u,d,$,m),de=u.memoizedState),(me=la||wk(u,d,me,m,ue,de,J)||a!==null&&a.dependencies!==null&&gg(a.dependencies))?(le||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(m,de,J),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(m,de,J)),typeof T.componentDidUpdate=="function"&&(u.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof T.componentDidUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),u.memoizedProps=m,u.memoizedState=de),T.props=m,T.state=de,T.context=J,m=me):(typeof T.componentDidUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||D===a.memoizedProps&&ue===a.memoizedState||(u.flags|=1024),m=!1)}return T=m,Dg(a,u),m=(u.flags&128)!==0,T||m?(T=u.stateNode,d=m&&typeof d.getDerivedStateFromError!="function"?null:T.render(),u.flags|=1,a!==null&&m?(u.child=zl(u,a.child,null,w),u.child=zl(u,null,d,w)):Wn(a,u,d,w),u.memoizedState=T.state,a=u.child):a=us(a,u,w),a}function Vk(a,u,d,m){return Ul(),u.flags|=256,Wn(a,u,d,m),u.child}var t_={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function n_(a){return{baseLanes:a,cachePool:CP()}}function r_(a,u,d){return a=a!==null?a.childLanes&~d:0,u&&(a|=Gr),a}function jk(a,u,d){var m=u.pendingProps,w=!1,T=(u.flags&128)!==0,D;if((D=T)||(D=a!==null&&a.memoizedState===null?!1:(fn.current&2)!==0),D&&(w=!0,u.flags&=-129),D=(u.flags&32)!==0,u.flags&=-33,a===null){if(ht){if(w?fa(u):da(),(a=$t)?(a=K2(a,di),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:ia!==null?{id:So,overflow:Ao}:null,retryLane:536870912,hydrationErrors:null},d=vP(a),d.return=u,u.child=d,Hn=u,$t=null)):a=null,a===null)throw sa(u);return j_(a)?u.lanes=32:u.lanes=536870912,null}var $=m.children;return m=m.fallback,w?(da(),w=u.mode,$=Lg({mode:"hidden",children:$},w),m=Ll(m,w,d,null),$.return=u,m.return=u,$.sibling=m,u.child=$,m=u.child,m.memoizedState=n_(d),m.childLanes=r_(a,D,d),u.memoizedState=t_,Fd(null,m)):(fa(u),i_(u,$))}var J=a.memoizedState;if(J!==null&&($=J.dehydrated,$!==null)){if(T)u.flags&256?(fa(u),u.flags&=-257,u=o_(a,u,d)):u.memoizedState!==null?(da(),u.child=a.child,u.flags|=128,u=null):(da(),$=m.fallback,w=u.mode,m=Lg({mode:"visible",children:m.children},w),$=Ll($,w,d,null),$.flags|=2,m.return=u,$.return=u,m.sibling=$,u.child=m,zl(u,a.child,null,d),m=u.child,m.memoizedState=n_(d),m.childLanes=r_(a,D,d),u.memoizedState=t_,u=Fd(null,m));else if(fa(u),j_($)){if(D=$.nextSibling&&$.nextSibling.dataset,D)var le=D.dgst;D=le,m=Error(r(419)),m.stack="",m.digest=D,Nd({value:m,source:null,stack:null}),u=o_(a,u,d)}else if(wn||yc(a,u,d,!1),D=(d&a.childLanes)!==0,wn||D){if(D=Vt,D!==null&&(m=ld(D,d),m!==0&&m!==J.retryLane))throw J.retryLane=m,Dl(a,m),Nr(D,a,m),Zx;V_($)||Gg(),u=o_(a,u,d)}else V_($)?(u.flags|=192,u.child=a.child,u=null):(a=J.treeContext,$t=pi($.nextSibling),Hn=u,ht=!0,oa=null,di=!1,a!==null&&_P(u,a),u=i_(u,m.children),u.flags|=4096);return u}return w?(da(),$=m.fallback,w=u.mode,J=a.child,le=J.sibling,m=rs(J,{mode:"hidden",children:m.children}),m.subtreeFlags=J.subtreeFlags&65011712,le!==null?$=rs(le,$):($=Ll($,w,d,null),$.flags|=2),$.return=u,m.return=u,m.sibling=$,u.child=m,Fd(null,m),m=u.child,$=a.child.memoizedState,$===null?$=n_(d):(w=$.cachePool,w!==null?(J=xn._currentValue,w=w.parent!==J?{parent:J,pool:J}:w):w=CP(),$={baseLanes:$.baseLanes|d,cachePool:w}),m.memoizedState=$,m.childLanes=r_(a,D,d),u.memoizedState=t_,Fd(a.child,m)):(fa(u),d=a.child,a=d.sibling,d=rs(d,{mode:"visible",children:m.children}),d.return=u,d.sibling=null,a!==null&&(D=u.deletions,D===null?(u.deletions=[a],u.flags|=16):D.push(a)),u.child=d,u.memoizedState=null,d)}function i_(a,u){return u=Lg({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Lg(a,u){return a=Fr(22,a,null,u),a.lanes=0,a}function o_(a,u,d){return zl(u,a.child,null,d),a=i_(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function Bk(a,u,d){a.lanes|=u;var m=a.alternate;m!==null&&(m.lanes|=u),xx(a.return,u,d)}function s_(a,u,d,m,w,T){var D=a.memoizedState;D===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:m,tail:d,tailMode:w,treeForkCount:T}:(D.isBackwards=u,D.rendering=null,D.renderingStartTime=0,D.last=m,D.tail=d,D.tailMode=w,D.treeForkCount=T)}function Fk(a,u,d){var m=u.pendingProps,w=m.revealOrder,T=m.tail;m=m.children;var D=fn.current,$=(D&2)!==0;if($?(D=D&1|2,u.flags|=128):D&=1,ee(fn,D),Wn(a,u,m,d),m=ht?Id:0,!$&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Bk(a,d,u);else if(a.tag===19)Bk(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(w){case"forwards":for(d=u.child,w=null;d!==null;)a=d.alternate,a!==null&&Eg(a)===null&&(w=d),d=d.sibling;d=w,d===null?(w=u.child,u.child=null):(w=d.sibling,d.sibling=null),s_(u,!1,w,d,T,m);break;case"backwards":case"unstable_legacy-backwards":for(d=null,w=u.child,u.child=null;w!==null;){if(a=w.alternate,a!==null&&Eg(a)===null){u.child=w;break}a=w.sibling,w.sibling=d,d=w,w=a}s_(u,!0,d,null,T,m);break;case"together":s_(u,!1,null,null,void 0,m);break;default:u.memoizedState=null}return u.child}function us(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),ma|=u.lanes,(d&u.childLanes)===0)if(a!==null){if(yc(a,u,d,!1),(d&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,d=rs(a,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,d=d.sibling=rs(a,a.pendingProps),d.return=u;d.sibling=null}return u.child}function a_(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&gg(a)))}function sK(a,u,d){switch(u.tag){case 3:Re(u,u.stateNode.containerInfo),aa(u,xn,a.memoizedState.cache),Ul();break;case 27:case 5:Ce(u);break;case 4:Re(u,u.stateNode.containerInfo);break;case 10:aa(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,kx(u),null;break;case 13:var m=u.memoizedState;if(m!==null)return m.dehydrated!==null?(fa(u),u.flags|=128,null):(d&u.child.childLanes)!==0?jk(a,u,d):(fa(u),a=us(a,u,d),a!==null?a.sibling:null);fa(u);break;case 19:var w=(a.flags&128)!==0;if(m=(d&u.childLanes)!==0,m||(yc(a,u,d,!1),m=(d&u.childLanes)!==0),w){if(m)return Fk(a,u,d);u.flags|=128}if(w=u.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),ee(fn,fn.current),m)break;return null;case 22:return u.lanes=0,Mk(a,u,d,u.pendingProps);case 24:aa(u,xn,a.memoizedState.cache)}return us(a,u,d)}function qk(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps)wn=!0;else{if(!a_(a,d)&&(u.flags&128)===0)return wn=!1,sK(a,u,d);wn=(a.flags&131072)!==0}else wn=!1,ht&&(u.flags&1048576)!==0&&xP(u,Id,u.index);switch(u.lanes=0,u.tag){case 16:e:{var m=u.pendingProps;if(a=Fl(u.elementType),u.type=a,typeof a=="function")dx(a)?(m=Gl(a,m),u.tag=1,u=Uk(null,u,a,m,d)):(u.tag=0,u=e_(null,u,a,m,d));else{if(a!=null){var w=a.$$typeof;if(w===C){u.tag=11,u=Rk(null,u,a,m,d);break e}else if(w===k){u.tag=14,u=Pk(null,u,a,m,d);break e}}throw u=Q(a)||a,Error(r(306,u,""))}}return u;case 0:return e_(a,u,u.type,u.pendingProps,d);case 1:return m=u.type,w=Gl(m,u.pendingProps),Uk(a,u,m,w,d);case 3:e:{if(Re(u,u.stateNode.containerInfo),a===null)throw Error(r(387));m=u.pendingProps;var T=u.memoizedState;w=T.element,Cx(a,u),Ld(u,m,null,d);var D=u.memoizedState;if(m=D.cache,aa(u,xn,m),m!==T.cache&&_x(u,[xn],d,!0),Dd(),m=D.element,T.isDehydrated)if(T={element:m,isDehydrated:!1,cache:D.cache},u.updateQueue.baseState=T,u.memoizedState=T,u.flags&256){u=Vk(a,u,m,d);break e}else if(m!==w){w=ui(Error(r(424)),u),Nd(w),u=Vk(a,u,m,d);break e}else{switch(a=u.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for($t=pi(a.firstChild),Hn=u,ht=!0,oa=null,di=!0,d=MP(u,null,m,d),u.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(Ul(),m===w){u=us(a,u,d);break e}Wn(a,u,m,d)}u=u.child}return u;case 26:return Dg(a,u),a===null?(d=Z2(u.type,null,u.pendingProps,null))?u.memoizedState=d:ht||(d=u.type,a=u.pendingProps,m=Qg(we.current).createElement(d),m[yn]=u,m[Dn]=a,Yn(m,d,a),vn(m),u.stateNode=m):u.memoizedState=Z2(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return Ce(u),a===null&&ht&&(m=u.stateNode=X2(u.type,u.pendingProps,we.current),Hn=u,di=!0,w=$t,xa(u.type)?(B_=w,$t=pi(m.firstChild)):$t=w),Wn(a,u,u.pendingProps.children,d),Dg(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&ht&&((w=m=$t)&&(m=LK(m,u.type,u.pendingProps,di),m!==null?(u.stateNode=m,Hn=u,$t=pi(m.firstChild),di=!1,w=!0):w=!1),w||sa(u)),Ce(u),w=u.type,T=u.pendingProps,D=a!==null?a.memoizedProps:null,m=T.children,D_(w,T)?m=null:D!==null&&D_(w,D)&&(u.flags|=32),u.memoizedState!==null&&(w=Ox(a,u,J7,null,null,d),nh._currentValue=w),Dg(a,u),Wn(a,u,m,d),u.child;case 6:return a===null&&ht&&((a=d=$t)&&(d=UK(d,u.pendingProps,di),d!==null?(u.stateNode=d,Hn=u,$t=null,a=!0):a=!1),a||sa(u)),null;case 13:return jk(a,u,d);case 4:return Re(u,u.stateNode.containerInfo),m=u.pendingProps,a===null?u.child=zl(u,null,m,d):Wn(a,u,m,d),u.child;case 11:return Rk(a,u,u.type,u.pendingProps,d);case 7:return Wn(a,u,u.pendingProps,d),u.child;case 8:return Wn(a,u,u.pendingProps.children,d),u.child;case 12:return Wn(a,u,u.pendingProps.children,d),u.child;case 10:return m=u.pendingProps,aa(u,u.type,m.value),Wn(a,u,m.children,d),u.child;case 9:return w=u.type._context,m=u.pendingProps.children,jl(u),w=Kn(w),m=m(w),u.flags|=1,Wn(a,u,m,d),u.child;case 14:return Pk(a,u,u.type,u.pendingProps,d);case 15:return kk(a,u,u.type,u.pendingProps,d);case 19:return Fk(a,u,d);case 31:return oK(a,u,d);case 22:return Mk(a,u,d,u.pendingProps);case 24:return jl(u),m=Kn(xn),a===null?(w=Ex(),w===null&&(w=Vt,T=wx(),w.pooledCache=T,T.refCount++,T!==null&&(w.pooledCacheLanes|=d),w=T),u.memoizedState={parent:m,cache:w},Ax(u),aa(u,xn,w)):((a.lanes&d)!==0&&(Cx(a,u),Ld(u,null,null,d),Dd()),w=a.memoizedState,T=u.memoizedState,w.parent!==m?(w={parent:m,cache:m},u.memoizedState=w,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=w),aa(u,xn,m)):(m=T.cache,aa(u,xn,m),m!==w.cache&&_x(u,[xn],d,!0))),Wn(a,u,u.pendingProps.children,d),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function cs(a){a.flags|=4}function l_(a,u,d,m,w){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(w&335544128)===w)if(a.stateNode.complete)a.flags|=8192;else if(m2())a.flags|=8192;else throw ql=xg,Sx}else a.flags&=-16777217}function zk(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!iM(u))if(m2())a.flags|=8192;else throw ql=xg,Sx}function Ug(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?zm():536870912,a.lanes|=u,Nc|=u)}function qd(a,u){if(!ht)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:m.sibling=null}}function Gt(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,m=0;if(u)for(var w=a.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags&65011712,m|=w.flags&65011712,w.return=a,w=w.sibling;else for(w=a.child;w!==null;)d|=w.lanes|w.childLanes,m|=w.subtreeFlags,m|=w.flags,w.return=a,w=w.sibling;return a.subtreeFlags|=m,a.childLanes=d,u}function aK(a,u,d){var m=u.pendingProps;switch(gx(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(u),null;case 1:return Gt(u),null;case 3:return d=u.stateNode,m=null,a!==null&&(m=a.memoizedState.cache),u.memoizedState.cache!==m&&(u.flags|=2048),ss(xn),pe(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(a===null||a.child===null)&&(gc(u)?cs(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,vx())),Gt(u),null;case 26:var w=u.type,T=u.memoizedState;return a===null?(cs(u),T!==null?(Gt(u),zk(u,T)):(Gt(u),l_(u,w,null,m,d))):T?T!==a.memoizedState?(cs(u),Gt(u),zk(u,T)):(Gt(u),u.flags&=-16777217):(a=a.memoizedProps,a!==m&&cs(u),Gt(u),l_(u,w,a,m,d)),null;case 27:if(Ie(u),d=we.current,w=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&cs(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Gt(u),null}a=ae.current,gc(u)?wP(u):(a=X2(w,m,d),u.stateNode=a,cs(u))}return Gt(u),null;case 5:if(Ie(u),w=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==m&&cs(u);else{if(!m){if(u.stateNode===null)throw Error(r(166));return Gt(u),null}if(T=ae.current,gc(u))wP(u);else{var D=Qg(we.current);switch(T){case 1:T=D.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:T=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":T=D.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":T=D.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":T=D.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof m.is=="string"?D.createElement("select",{is:m.is}):D.createElement("select"),m.multiple?T.multiple=!0:m.size&&(T.size=m.size);break;default:T=typeof m.is=="string"?D.createElement(w,{is:m.is}):D.createElement(w)}}T[yn]=u,T[Dn]=m;e:for(D=u.child;D!==null;){if(D.tag===5||D.tag===6)T.appendChild(D.stateNode);else if(D.tag!==4&&D.tag!==27&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===u)break e;for(;D.sibling===null;){if(D.return===null||D.return===u)break e;D=D.return}D.sibling.return=D.return,D=D.sibling}u.stateNode=T;e:switch(Yn(T,w,m),w){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}m&&cs(u)}}return Gt(u),l_(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,d),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==m&&cs(u);else{if(typeof m!="string"&&u.stateNode===null)throw Error(r(166));if(a=we.current,gc(u)){if(a=u.stateNode,d=u.memoizedProps,m=null,w=Hn,w!==null)switch(w.tag){case 27:case 5:m=w.memoizedProps}a[yn]=u,a=!!(a.nodeValue===d||m!==null&&m.suppressHydrationWarning===!0||j2(a.nodeValue,d)),a||sa(u,!0)}else a=Qg(a).createTextNode(m),a[yn]=u,u.stateNode=a}return Gt(u),null;case 31:if(d=u.memoizedState,a===null||a.memoizedState!==null){if(m=gc(u),d!==null){if(a===null){if(!m)throw Error(r(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[yn]=u}else Ul(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gt(u),a=!1}else d=vx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=d),a=!0;if(!a)return u.flags&256?(zr(u),u):(zr(u),null);if((u.flags&128)!==0)throw Error(r(558))}return Gt(u),null;case 13:if(m=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(w=gc(u),m!==null&&m.dehydrated!==null){if(a===null){if(!w)throw Error(r(318));if(w=u.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(r(317));w[yn]=u}else Ul(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Gt(u),w=!1}else w=vx(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=w),w=!0;if(!w)return u.flags&256?(zr(u),u):(zr(u),null)}return zr(u),(u.flags&128)!==0?(u.lanes=d,u):(d=m!==null,a=a!==null&&a.memoizedState!==null,d&&(m=u.child,w=null,m.alternate!==null&&m.alternate.memoizedState!==null&&m.alternate.memoizedState.cachePool!==null&&(w=m.alternate.memoizedState.cachePool.pool),T=null,m.memoizedState!==null&&m.memoizedState.cachePool!==null&&(T=m.memoizedState.cachePool.pool),T!==w&&(m.flags|=2048)),d!==a&&d&&(u.child.flags|=8192),Ug(u,u.updateQueue),Gt(u),null);case 4:return pe(),a===null&&R_(u.stateNode.containerInfo),Gt(u),null;case 10:return ss(u.type),Gt(u),null;case 19:if(G(fn),m=u.memoizedState,m===null)return Gt(u),null;if(w=(u.flags&128)!==0,T=m.rendering,T===null)if(w)qd(m,!1);else{if(on!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(T=Eg(a),T!==null){for(u.flags|=128,qd(m,!1),a=T.updateQueue,u.updateQueue=a,Ug(u,a),u.subtreeFlags=0,a=d,d=u.child;d!==null;)yP(d,a),d=d.sibling;return ee(fn,fn.current&1|2),ht&&is(u,m.treeForkCount),u.child}a=a.sibling}m.tail!==null&&ln()>qg&&(u.flags|=128,w=!0,qd(m,!1),u.lanes=4194304)}else{if(!w)if(a=Eg(T),a!==null){if(u.flags|=128,w=!0,a=a.updateQueue,u.updateQueue=a,Ug(u,a),qd(m,!0),m.tail===null&&m.tailMode==="hidden"&&!T.alternate&&!ht)return Gt(u),null}else 2*ln()-m.renderingStartTime>qg&&d!==536870912&&(u.flags|=128,w=!0,qd(m,!1),u.lanes=4194304);m.isBackwards?(T.sibling=u.child,u.child=T):(a=m.last,a!==null?a.sibling=T:u.child=T,m.last=T)}return m.tail!==null?(a=m.tail,m.rendering=a,m.tail=a.sibling,m.renderingStartTime=ln(),a.sibling=null,d=fn.current,ee(fn,w?d&1|2:d&1),ht&&is(u,m.treeForkCount),a):(Gt(u),null);case 22:case 23:return zr(u),Px(),m=u.memoizedState!==null,a!==null?a.memoizedState!==null!==m&&(u.flags|=8192):m&&(u.flags|=8192),m?(d&536870912)!==0&&(u.flags&128)===0&&(Gt(u),u.subtreeFlags&6&&(u.flags|=8192)):Gt(u),d=u.updateQueue,d!==null&&Ug(u,d.retryQueue),d=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==d&&(u.flags|=2048),a!==null&&G(Bl),null;case 24:return d=null,a!==null&&(d=a.memoizedState.cache),u.memoizedState.cache!==d&&(u.flags|=2048),ss(xn),Gt(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function lK(a,u){switch(gx(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return ss(xn),pe(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return Ie(u),null;case 31:if(u.memoizedState!==null){if(zr(u),u.alternate===null)throw Error(r(340));Ul()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(zr(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Ul()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return G(fn),null;case 4:return pe(),null;case 10:return ss(u.type),null;case 22:case 23:return zr(u),Px(),a!==null&&G(Bl),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return ss(xn),null;case 25:return null;default:return null}}function $k(a,u){switch(gx(u),u.tag){case 3:ss(xn),pe();break;case 26:case 27:case 5:Ie(u);break;case 4:pe();break;case 31:u.memoizedState!==null&&zr(u);break;case 13:zr(u);break;case 19:G(fn);break;case 10:ss(u.type);break;case 22:case 23:zr(u),Px(),a!==null&&G(Bl);break;case 24:ss(xn)}}function zd(a,u){try{var d=u.updateQueue,m=d!==null?d.lastEffect:null;if(m!==null){var w=m.next;d=w;do{if((d.tag&a)===a){m=void 0;var T=d.create,D=d.inst;m=T(),D.destroy=m}d=d.next}while(d!==w)}}catch($){Pt(u,u.return,$)}}function ha(a,u,d){try{var m=u.updateQueue,w=m!==null?m.lastEffect:null;if(w!==null){var T=w.next;m=T;do{if((m.tag&a)===a){var D=m.inst,$=D.destroy;if($!==void 0){D.destroy=void 0,w=u;var J=d,le=$;try{le()}catch(me){Pt(w,J,me)}}}m=m.next}while(m!==T)}}catch(me){Pt(u,u.return,me)}}function Gk(a){var u=a.updateQueue;if(u!==null){var d=a.stateNode;try{DP(u,d)}catch(m){Pt(a,a.return,m)}}}function Hk(a,u,d){d.props=Gl(a.type,a.memoizedProps),d.state=a.memoizedState;try{d.componentWillUnmount()}catch(m){Pt(a,u,m)}}function $d(a,u){try{var d=a.ref;if(d!==null){switch(a.tag){case 26:case 27:case 5:var m=a.stateNode;break;case 30:m=a.stateNode;break;default:m=a.stateNode}typeof d=="function"?a.refCleanup=d(m):d.current=m}}catch(w){Pt(a,u,w)}}function Co(a,u){var d=a.ref,m=a.refCleanup;if(d!==null)if(typeof m=="function")try{m()}catch(w){Pt(a,u,w)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(w){Pt(a,u,w)}else d.current=null}function Kk(a){var u=a.type,d=a.memoizedProps,m=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":d.autoFocus&&m.focus();break e;case"img":d.src?m.src=d.src:d.srcSet&&(m.srcset=d.srcSet)}}catch(w){Pt(a,a.return,w)}}function u_(a,u,d){try{var m=a.stateNode;RK(m,a.type,d,u),m[Dn]=u}catch(w){Pt(a,a.return,w)}}function Wk(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&xa(a.type)||a.tag===4}function c_(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Wk(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&xa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function f_(a,u,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(a,u):(u=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,u.appendChild(a),d=d._reactRootContainer,d!=null||u.onclick!==null||(u.onclick=Li));else if(m!==4&&(m===27&&xa(a.type)&&(d=a.stateNode,u=null),a=a.child,a!==null))for(f_(a,u,d),a=a.sibling;a!==null;)f_(a,u,d),a=a.sibling}function Vg(a,u,d){var m=a.tag;if(m===5||m===6)a=a.stateNode,u?d.insertBefore(a,u):d.appendChild(a);else if(m!==4&&(m===27&&xa(a.type)&&(d=a.stateNode),a=a.child,a!==null))for(Vg(a,u,d),a=a.sibling;a!==null;)Vg(a,u,d),a=a.sibling}function Yk(a){var u=a.stateNode,d=a.memoizedProps;try{for(var m=a.type,w=u.attributes;w.length;)u.removeAttributeNode(w[0]);Yn(u,m,d),u[yn]=a,u[Dn]=d}catch(T){Pt(a,a.return,T)}}var fs=!1,Tn=!1,d_=!1,Xk=typeof WeakSet=="function"?WeakSet:Set,Un=null;function uK(a,u){if(a=a.containerInfo,M_=oy,a=lP(a),ox(a)){if("selectionStart"in a)var d={start:a.selectionStart,end:a.selectionEnd};else e:{d=(d=a.ownerDocument)&&d.defaultView||window;var m=d.getSelection&&d.getSelection();if(m&&m.rangeCount!==0){d=m.anchorNode;var w=m.anchorOffset,T=m.focusNode;m=m.focusOffset;try{d.nodeType,T.nodeType}catch{d=null;break e}var D=0,$=-1,J=-1,le=0,me=0,be=a,ue=null;t:for(;;){for(var de;be!==d||w!==0&&be.nodeType!==3||($=D+w),be!==T||m!==0&&be.nodeType!==3||(J=D+m),be.nodeType===3&&(D+=be.nodeValue.length),(de=be.firstChild)!==null;)ue=be,be=de;for(;;){if(be===a)break t;if(ue===d&&++le===w&&($=D),ue===T&&++me===m&&(J=D),(de=be.nextSibling)!==null)break;be=ue,ue=be.parentNode}be=de}d=$===-1||J===-1?null:{start:$,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(O_={focusedElem:a,selectionRange:d},oy=!1,Un=u;Un!==null;)if(u=Un,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Un=a;else for(;Un!==null;){switch(u=Un,T=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(d=0;d<a.length;d++)w=a[d],w.ref.impl=w.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,d=u,w=T.memoizedProps,T=T.memoizedState,m=d.stateNode;try{var Le=Gl(d.type,w);a=m.getSnapshotBeforeUpdate(Le,T),m.__reactInternalSnapshotBeforeUpdate=a}catch(ze){Pt(d,d.return,ze)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,d=a.nodeType,d===9)U_(a);else if(d===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":U_(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,Un=a;break}Un=u.return}}function Jk(a,u,d){var m=d.flags;switch(d.tag){case 0:case 11:case 15:hs(a,d),m&4&&zd(5,d);break;case 1:if(hs(a,d),m&4)if(a=d.stateNode,u===null)try{a.componentDidMount()}catch(D){Pt(d,d.return,D)}else{var w=Gl(d.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(w,u,a.__reactInternalSnapshotBeforeUpdate)}catch(D){Pt(d,d.return,D)}}m&64&&Gk(d),m&512&&$d(d,d.return);break;case 3:if(hs(a,d),m&64&&(a=d.updateQueue,a!==null)){if(u=null,d.child!==null)switch(d.child.tag){case 27:case 5:u=d.child.stateNode;break;case 1:u=d.child.stateNode}try{DP(a,u)}catch(D){Pt(d,d.return,D)}}break;case 27:u===null&&m&4&&Yk(d);case 26:case 5:hs(a,d),u===null&&m&4&&Kk(d),m&512&&$d(d,d.return);break;case 12:hs(a,d);break;case 31:hs(a,d),m&4&&e2(a,d);break;case 13:hs(a,d),m&4&&t2(a,d),m&64&&(a=d.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(d=vK.bind(null,d),VK(a,d))));break;case 22:if(m=d.memoizedState!==null||fs,!m){u=u!==null&&u.memoizedState!==null||Tn,w=fs;var T=Tn;fs=m,(Tn=u)&&!T?ps(a,d,(d.subtreeFlags&8772)!==0):hs(a,d),fs=w,Tn=T}break;case 30:break;default:hs(a,d)}}function Qk(a){var u=a.alternate;u!==null&&(a.alternate=null,Qk(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&Zu(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Xt=null,Sr=!1;function ds(a,u,d){for(d=d.child;d!==null;)Zk(a,u,d),d=d.sibling}function Zk(a,u,d){if($n&&typeof $n.onCommitFiberUnmount=="function")try{$n.onCommitFiberUnmount(Ur,d)}catch{}switch(d.tag){case 26:Tn||Co(d,u),ds(a,u,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Tn||Co(d,u);var m=Xt,w=Sr;xa(d.type)&&(Xt=d.stateNode,Sr=!1),ds(a,u,d),Zd(d.stateNode),Xt=m,Sr=w;break;case 5:Tn||Co(d,u);case 6:if(m=Xt,w=Sr,Xt=null,ds(a,u,d),Xt=m,Sr=w,Xt!==null)if(Sr)try{(Xt.nodeType===9?Xt.body:Xt.nodeName==="HTML"?Xt.ownerDocument.body:Xt).removeChild(d.stateNode)}catch(T){Pt(d,u,T)}else try{Xt.removeChild(d.stateNode)}catch(T){Pt(d,u,T)}break;case 18:Xt!==null&&(Sr?(a=Xt,G2(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,d.stateNode),Uc(a)):G2(Xt,d.stateNode));break;case 4:m=Xt,w=Sr,Xt=d.stateNode.containerInfo,Sr=!0,ds(a,u,d),Xt=m,Sr=w;break;case 0:case 11:case 14:case 15:ha(2,d,u),Tn||ha(4,d,u),ds(a,u,d);break;case 1:Tn||(Co(d,u),m=d.stateNode,typeof m.componentWillUnmount=="function"&&Hk(d,u,m)),ds(a,u,d);break;case 21:ds(a,u,d);break;case 22:Tn=(m=Tn)||d.memoizedState!==null,ds(a,u,d),Tn=m;break;default:ds(a,u,d)}}function e2(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Uc(a)}catch(d){Pt(u,u.return,d)}}}function t2(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Uc(a)}catch(d){Pt(u,u.return,d)}}function cK(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new Xk),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new Xk),u;default:throw Error(r(435,a.tag))}}function jg(a,u){var d=cK(a);u.forEach(function(m){if(!d.has(m)){d.add(m);var w=bK.bind(null,a,m);m.then(w,w)}})}function Ar(a,u){var d=u.deletions;if(d!==null)for(var m=0;m<d.length;m++){var w=d[m],T=a,D=u,$=D;e:for(;$!==null;){switch($.tag){case 27:if(xa($.type)){Xt=$.stateNode,Sr=!1;break e}break;case 5:Xt=$.stateNode,Sr=!1;break e;case 3:case 4:Xt=$.stateNode.containerInfo,Sr=!0;break e}$=$.return}if(Xt===null)throw Error(r(160));Zk(T,D,w),Xt=null,Sr=!1,T=w.alternate,T!==null&&(T.return=null),w.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)n2(u,a),u=u.sibling}var qi=null;function n2(a,u){var d=a.alternate,m=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ar(u,a),Cr(a),m&4&&(ha(3,a,a.return),zd(3,a),ha(5,a,a.return));break;case 1:Ar(u,a),Cr(a),m&512&&(Tn||d===null||Co(d,d.return)),m&64&&fs&&(a=a.updateQueue,a!==null&&(m=a.callbacks,m!==null&&(d=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=d===null?m:d.concat(m))));break;case 26:var w=qi;if(Ar(u,a),Cr(a),m&512&&(Tn||d===null||Co(d,d.return)),m&4){var T=d!==null?d.memoizedState:null;if(m=a.memoizedState,d===null)if(m===null)if(a.stateNode===null){e:{m=a.type,d=a.memoizedProps,w=w.ownerDocument||w;t:switch(m){case"title":T=w.getElementsByTagName("title")[0],(!T||T[ho]||T[yn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=w.createElement(m),w.head.insertBefore(T,w.querySelector("head > title"))),Yn(T,m,d),T[yn]=a,vn(T),m=T;break e;case"link":var D=nM("link","href",w).get(m+(d.href||""));if(D){for(var $=0;$<D.length;$++)if(T=D[$],T.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&T.getAttribute("rel")===(d.rel==null?null:d.rel)&&T.getAttribute("title")===(d.title==null?null:d.title)&&T.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice($,1);break t}}T=w.createElement(m),Yn(T,m,d),w.head.appendChild(T);break;case"meta":if(D=nM("meta","content",w).get(m+(d.content||""))){for($=0;$<D.length;$++)if(T=D[$],T.getAttribute("content")===(d.content==null?null:""+d.content)&&T.getAttribute("name")===(d.name==null?null:d.name)&&T.getAttribute("property")===(d.property==null?null:d.property)&&T.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&T.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice($,1);break t}}T=w.createElement(m),Yn(T,m,d),w.head.appendChild(T);break;default:throw Error(r(468,m))}T[yn]=a,vn(T),m=T}a.stateNode=m}else rM(w,a.type,a.stateNode);else a.stateNode=tM(w,m,a.memoizedProps);else T!==m?(T===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):T.count--,m===null?rM(w,a.type,a.stateNode):tM(w,m,a.memoizedProps)):m===null&&a.stateNode!==null&&u_(a,a.memoizedProps,d.memoizedProps)}break;case 27:Ar(u,a),Cr(a),m&512&&(Tn||d===null||Co(d,d.return)),d!==null&&m&4&&u_(a,a.memoizedProps,d.memoizedProps);break;case 5:if(Ar(u,a),Cr(a),m&512&&(Tn||d===null||Co(d,d.return)),a.flags&32){w=a.stateNode;try{Er(w,"")}catch(Le){Pt(a,a.return,Le)}}m&4&&a.stateNode!=null&&(w=a.memoizedProps,u_(a,w,d!==null?d.memoizedProps:w)),m&1024&&(d_=!0);break;case 6:if(Ar(u,a),Cr(a),m&4){if(a.stateNode===null)throw Error(r(162));m=a.memoizedProps,d=a.stateNode;try{d.nodeValue=m}catch(Le){Pt(a,a.return,Le)}}break;case 3:if(ty=null,w=qi,qi=Zg(u.containerInfo),Ar(u,a),qi=w,Cr(a),m&4&&d!==null&&d.memoizedState.isDehydrated)try{Uc(u.containerInfo)}catch(Le){Pt(a,a.return,Le)}d_&&(d_=!1,r2(a));break;case 4:m=qi,qi=Zg(a.stateNode.containerInfo),Ar(u,a),Cr(a),qi=m;break;case 12:Ar(u,a),Cr(a);break;case 31:Ar(u,a),Cr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jg(a,m)));break;case 13:Ar(u,a),Cr(a),a.child.flags&8192&&a.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Fg=ln()),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jg(a,m)));break;case 22:w=a.memoizedState!==null;var J=d!==null&&d.memoizedState!==null,le=fs,me=Tn;if(fs=le||w,Tn=me||J,Ar(u,a),Tn=me,fs=le,Cr(a),m&8192)e:for(u=a.stateNode,u._visibility=w?u._visibility&-2:u._visibility|1,w&&(d===null||J||fs||Tn||Hl(a)),d=null,u=a;;){if(u.tag===5||u.tag===26){if(d===null){J=d=u;try{if(T=J.stateNode,w)D=T.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{$=J.stateNode;var be=J.memoizedProps.style,ue=be!=null&&be.hasOwnProperty("display")?be.display:null;$.style.display=ue==null||typeof ue=="boolean"?"":(""+ue).trim()}}catch(Le){Pt(J,J.return,Le)}}}else if(u.tag===6){if(d===null){J=u;try{J.stateNode.nodeValue=w?"":J.memoizedProps}catch(Le){Pt(J,J.return,Le)}}}else if(u.tag===18){if(d===null){J=u;try{var de=J.stateNode;w?H2(de,!0):H2(J.stateNode,!1)}catch(Le){Pt(J,J.return,Le)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}m&4&&(m=a.updateQueue,m!==null&&(d=m.retryQueue,d!==null&&(m.retryQueue=null,jg(a,d))));break;case 19:Ar(u,a),Cr(a),m&4&&(m=a.updateQueue,m!==null&&(a.updateQueue=null,jg(a,m)));break;case 30:break;case 21:break;default:Ar(u,a),Cr(a)}}function Cr(a){var u=a.flags;if(u&2){try{for(var d,m=a.return;m!==null;){if(Wk(m)){d=m;break}m=m.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var w=d.stateNode,T=c_(a);Vg(a,T,w);break;case 5:var D=d.stateNode;d.flags&32&&(Er(D,""),d.flags&=-33);var $=c_(a);Vg(a,$,D);break;case 3:case 4:var J=d.stateNode.containerInfo,le=c_(a);f_(a,le,J);break;default:throw Error(r(161))}}catch(me){Pt(a,a.return,me)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function r2(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;r2(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function hs(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Jk(a,u.alternate,u),u=u.sibling}function Hl(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:ha(4,u,u.return),Hl(u);break;case 1:Co(u,u.return);var d=u.stateNode;typeof d.componentWillUnmount=="function"&&Hk(u,u.return,d),Hl(u);break;case 27:Zd(u.stateNode);case 26:case 5:Co(u,u.return),Hl(u);break;case 22:u.memoizedState===null&&Hl(u);break;case 30:Hl(u);break;default:Hl(u)}a=a.sibling}}function ps(a,u,d){for(d=d&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var m=u.alternate,w=a,T=u,D=T.flags;switch(T.tag){case 0:case 11:case 15:ps(w,T,d),zd(4,T);break;case 1:if(ps(w,T,d),m=T,w=m.stateNode,typeof w.componentDidMount=="function")try{w.componentDidMount()}catch(le){Pt(m,m.return,le)}if(m=T,w=m.updateQueue,w!==null){var $=m.stateNode;try{var J=w.shared.hiddenCallbacks;if(J!==null)for(w.shared.hiddenCallbacks=null,w=0;w<J.length;w++)OP(J[w],$)}catch(le){Pt(m,m.return,le)}}d&&D&64&&Gk(T),$d(T,T.return);break;case 27:Yk(T);case 26:case 5:ps(w,T,d),d&&m===null&&D&4&&Kk(T),$d(T,T.return);break;case 12:ps(w,T,d);break;case 31:ps(w,T,d),d&&D&4&&e2(w,T);break;case 13:ps(w,T,d),d&&D&4&&t2(w,T);break;case 22:T.memoizedState===null&&ps(w,T,d),$d(T,T.return);break;case 30:break;default:ps(w,T,d)}u=u.sibling}}function h_(a,u){var d=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(d=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==d&&(a!=null&&a.refCount++,d!=null&&Rd(d))}function p_(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Rd(a))}function zi(a,u,d,m){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)i2(a,u,d,m),u=u.sibling}function i2(a,u,d,m){var w=u.flags;switch(u.tag){case 0:case 11:case 15:zi(a,u,d,m),w&2048&&zd(9,u);break;case 1:zi(a,u,d,m);break;case 3:zi(a,u,d,m),w&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Rd(a)));break;case 12:if(w&2048){zi(a,u,d,m),a=u.stateNode;try{var T=u.memoizedProps,D=T.id,$=T.onPostCommit;typeof $=="function"&&$(D,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(J){Pt(u,u.return,J)}}else zi(a,u,d,m);break;case 31:zi(a,u,d,m);break;case 13:zi(a,u,d,m);break;case 23:break;case 22:T=u.stateNode,D=u.alternate,u.memoizedState!==null?T._visibility&2?zi(a,u,d,m):Gd(a,u):T._visibility&2?zi(a,u,d,m):(T._visibility|=2,Ac(a,u,d,m,(u.subtreeFlags&10256)!==0||!1)),w&2048&&h_(D,u);break;case 24:zi(a,u,d,m),w&2048&&p_(u.alternate,u);break;default:zi(a,u,d,m)}}function Ac(a,u,d,m,w){for(w=w&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var T=a,D=u,$=d,J=m,le=D.flags;switch(D.tag){case 0:case 11:case 15:Ac(T,D,$,J,w),zd(8,D);break;case 23:break;case 22:var me=D.stateNode;D.memoizedState!==null?me._visibility&2?Ac(T,D,$,J,w):Gd(T,D):(me._visibility|=2,Ac(T,D,$,J,w)),w&&le&2048&&h_(D.alternate,D);break;case 24:Ac(T,D,$,J,w),w&&le&2048&&p_(D.alternate,D);break;default:Ac(T,D,$,J,w)}u=u.sibling}}function Gd(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var d=a,m=u,w=m.flags;switch(m.tag){case 22:Gd(d,m),w&2048&&h_(m.alternate,m);break;case 24:Gd(d,m),w&2048&&p_(m.alternate,m);break;default:Gd(d,m)}u=u.sibling}}var Hd=8192;function Cc(a,u,d){if(a.subtreeFlags&Hd)for(a=a.child;a!==null;)o2(a,u,d),a=a.sibling}function o2(a,u,d){switch(a.tag){case 26:Cc(a,u,d),a.flags&Hd&&a.memoizedState!==null&&XK(d,qi,a.memoizedState,a.memoizedProps);break;case 5:Cc(a,u,d);break;case 3:case 4:var m=qi;qi=Zg(a.stateNode.containerInfo),Cc(a,u,d),qi=m;break;case 22:a.memoizedState===null&&(m=a.alternate,m!==null&&m.memoizedState!==null?(m=Hd,Hd=16777216,Cc(a,u,d),Hd=m):Cc(a,u,d));break;default:Cc(a,u,d)}}function s2(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function Kd(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];Un=m,l2(m,a)}s2(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)a2(a),a=a.sibling}function a2(a){switch(a.tag){case 0:case 11:case 15:Kd(a),a.flags&2048&&ha(9,a,a.return);break;case 3:Kd(a);break;case 12:Kd(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,Bg(a)):Kd(a);break;default:Kd(a)}}function Bg(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var d=0;d<u.length;d++){var m=u[d];Un=m,l2(m,a)}s2(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:ha(8,u,u.return),Bg(u);break;case 22:d=u.stateNode,d._visibility&2&&(d._visibility&=-3,Bg(u));break;default:Bg(u)}a=a.sibling}}function l2(a,u){for(;Un!==null;){var d=Un;switch(d.tag){case 0:case 11:case 15:ha(8,d,u);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var m=d.memoizedState.cachePool.pool;m!=null&&m.refCount++}break;case 24:Rd(d.memoizedState.cache)}if(m=d.child,m!==null)m.return=d,Un=m;else e:for(d=a;Un!==null;){m=Un;var w=m.sibling,T=m.return;if(Qk(m),m===d){Un=null;break e}if(w!==null){w.return=T,Un=w;break e}Un=T}}}var fK={getCacheForType:function(a){var u=Kn(xn),d=u.data.get(a);return d===void 0&&(d=a(),u.data.set(a,d)),d},cacheSignal:function(){return Kn(xn).controller.signal}},dK=typeof WeakMap=="function"?WeakMap:Map,Et=0,Vt=null,rt=null,ot=0,Rt=0,$r=null,pa=!1,Ic=!1,m_=!1,ms=0,on=0,ma=0,Kl=0,g_=0,Gr=0,Nc=0,Wd=null,Ir=null,y_=!1,Fg=0,u2=0,qg=1/0,zg=null,ga=null,Nn=0,ya=null,Rc=null,gs=0,v_=0,b_=null,c2=null,Yd=0,x_=null;function Hr(){return(Et&2)!==0&&ot!==0?ot&-ot:K.T!==null?A_():$m()}function f2(){if(Gr===0)if((ot&536870912)===0||ht){var a=xl;xl<<=1,(xl&3932160)===0&&(xl=262144),Gr=a}else Gr=536870912;return a=qr.current,a!==null&&(a.flags|=32),Gr}function Nr(a,u,d){(a===Vt&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)&&(Pc(a,0),va(a,ot,Gr,!1)),_l(a,d),((Et&2)===0||a!==Vt)&&(a===Vt&&((Et&2)===0&&(Kl|=d),on===4&&va(a,ot,Gr,!1)),Io(a))}function d2(a,u,d){if((Et&6)!==0)throw Error(r(327));var m=!d&&(u&127)===0&&(u&a.expiredLanes)===0||Mi(a,u),w=m?mK(a,u):w_(a,u,!0),T=m;do{if(w===0){Ic&&!m&&va(a,u,0,!1);break}else{if(d=a.current.alternate,T&&!hK(d)){w=w_(a,u,!1),T=!1;continue}if(w===2){if(T=u,a.errorRecoveryDisabledLanes&T)var D=0;else D=a.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){u=D;e:{var $=a;w=Wd;var J=$.current.memoizedState.isDehydrated;if(J&&(Pc($,D).flags|=256),D=w_($,D,!1),D!==2){if(m_&&!J){$.errorRecoveryDisabledLanes|=T,Kl|=T,w=4;break e}T=Ir,Ir=w,T!==null&&(Ir===null?Ir=T:Ir.push.apply(Ir,T))}w=D}if(T=!1,w!==2)continue}}if(w===1){Pc(a,0),va(a,u,0,!0);break}e:{switch(m=a,T=w,T){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:va(m,u,Gr,!pa);break e;case 2:Ir=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(w=Fg+300-ln(),10<w)){if(va(m,u,Gr,!pa),uo(m,0,!0)!==0)break e;gs=u,m.timeoutHandle=z2(h2.bind(null,m,d,Ir,zg,y_,u,Gr,Kl,Nc,pa,T,"Throttled",-0,0),w);break e}h2(m,d,Ir,zg,y_,u,Gr,Kl,Nc,pa,T,null,-0,0)}}break}while(!0);Io(a)}function h2(a,u,d,m,w,T,D,$,J,le,me,be,ue,de){if(a.timeoutHandle=-1,be=u.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Li},o2(u,T,be);var Le=(T&62914560)===T?Fg-ln():(T&4194048)===T?u2-ln():0;if(Le=JK(be,Le),Le!==null){gs=T,a.cancelPendingCommit=Le(_2.bind(null,a,u,T,d,m,w,D,$,J,me,be,null,ue,de)),va(a,T,D,!le);return}}_2(a,u,T,d,m,w,D,$,J)}function hK(a){for(var u=a;;){var d=u.tag;if((d===0||d===11||d===15)&&u.flags&16384&&(d=u.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var m=0;m<d.length;m++){var w=d[m],T=w.getSnapshot;w=w.value;try{if(!Br(T(),w))return!1}catch{return!1}}if(d=u.child,u.subtreeFlags&16384&&d!==null)d.return=u,u=d;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function va(a,u,d,m){u&=~g_,u&=~Kl,a.suspendedLanes|=u,a.pingedLanes&=~u,m&&(a.warmLanes|=u),m=a.expirationTimes;for(var w=u;0<w;){var T=31-un(w),D=1<<T;m[T]=-1,w&=~D}d!==0&&wl(a,d,u)}function $g(){return(Et&6)===0?(Xd(0),!1):!0}function __(){if(rt!==null){if(Rt===0)var a=rt.return;else a=rt,os=Vl=null,Ux(a),_c=null,kd=0,a=rt;for(;a!==null;)$k(a.alternate,a),a=a.return;rt=null}}function Pc(a,u){var d=a.timeoutHandle;d!==-1&&(a.timeoutHandle=-1,MK(d)),d=a.cancelPendingCommit,d!==null&&(a.cancelPendingCommit=null,d()),gs=0,__(),Vt=a,rt=d=rs(a.current,null),ot=u,Rt=0,$r=null,pa=!1,Ic=Mi(a,u),m_=!1,Nc=Gr=g_=Kl=ma=on=0,Ir=Wd=null,y_=!1,(u&8)!==0&&(u|=u&32);var m=a.entangledLanes;if(m!==0)for(a=a.entanglements,m&=u;0<m;){var w=31-un(m),T=1<<w;u|=a[w],m&=~T}return ms=u,fg(),d}function p2(a,u){et=null,K.H=Bd,u===xc||u===bg?(u=RP(),Rt=3):u===Sx?(u=RP(),Rt=4):Rt=u===Zx?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,$r=u,rt===null&&(on=1,Mg(a,ui(u,a.current)))}function m2(){var a=qr.current;return a===null?!0:(ot&4194048)===ot?hi===null:(ot&62914560)===ot||(ot&536870912)!==0?a===hi:!1}function g2(){var a=K.H;return K.H=Bd,a===null?Bd:a}function y2(){var a=K.A;return K.A=fK,a}function Gg(){on=4,pa||(ot&4194048)!==ot&&qr.current!==null||(Ic=!0),(ma&134217727)===0&&(Kl&134217727)===0||Vt===null||va(Vt,ot,Gr,!1)}function w_(a,u,d){var m=Et;Et|=2;var w=g2(),T=y2();(Vt!==a||ot!==u)&&(zg=null,Pc(a,u)),u=!1;var D=on;e:do try{if(Rt!==0&&rt!==null){var $=rt,J=$r;switch(Rt){case 8:__(),D=6;break e;case 3:case 2:case 9:case 6:qr.current===null&&(u=!0);var le=Rt;if(Rt=0,$r=null,kc(a,$,J,le),d&&Ic){D=0;break e}break;default:le=Rt,Rt=0,$r=null,kc(a,$,J,le)}}pK(),D=on;break}catch(me){p2(a,me)}while(!0);return u&&a.shellSuspendCounter++,os=Vl=null,Et=m,K.H=w,K.A=T,rt===null&&(Vt=null,ot=0,fg()),D}function pK(){for(;rt!==null;)v2(rt)}function mK(a,u){var d=Et;Et|=2;var m=g2(),w=y2();Vt!==a||ot!==u?(zg=null,qg=ln()+500,Pc(a,u)):Ic=Mi(a,u);e:do try{if(Rt!==0&&rt!==null){u=rt;var T=$r;t:switch(Rt){case 1:Rt=0,$r=null,kc(a,u,T,1);break;case 2:case 9:if(IP(T)){Rt=0,$r=null,b2(u);break}u=function(){Rt!==2&&Rt!==9||Vt!==a||(Rt=7),Io(a)},T.then(u,u);break e;case 3:Rt=7;break e;case 4:Rt=5;break e;case 7:IP(T)?(Rt=0,$r=null,b2(u)):(Rt=0,$r=null,kc(a,u,T,7));break;case 5:var D=null;switch(rt.tag){case 26:D=rt.memoizedState;case 5:case 27:var $=rt;if(D?iM(D):$.stateNode.complete){Rt=0,$r=null;var J=$.sibling;if(J!==null)rt=J;else{var le=$.return;le!==null?(rt=le,Hg(le)):rt=null}break t}}Rt=0,$r=null,kc(a,u,T,5);break;case 6:Rt=0,$r=null,kc(a,u,T,6);break;case 8:__(),on=6;break e;default:throw Error(r(462))}}gK();break}catch(me){p2(a,me)}while(!0);return os=Vl=null,K.H=m,K.A=w,Et=d,rt!==null?0:(Vt=null,ot=0,fg(),on)}function gK(){for(;rt!==null&&!Xo();)v2(rt)}function v2(a){var u=qk(a.alternate,a,ms);a.memoizedProps=a.pendingProps,u===null?Hg(a):rt=u}function b2(a){var u=a,d=u.alternate;switch(u.tag){case 15:case 0:u=Lk(d,u,u.pendingProps,u.type,void 0,ot);break;case 11:u=Lk(d,u,u.pendingProps,u.type.render,u.ref,ot);break;case 5:Ux(u);default:$k(d,u),u=rt=yP(u,ms),u=qk(d,u,ms)}a.memoizedProps=a.pendingProps,u===null?Hg(a):rt=u}function kc(a,u,d,m){os=Vl=null,Ux(u),_c=null,kd=0;var w=u.return;try{if(iK(a,w,u,d,ot)){on=1,Mg(a,ui(d,a.current)),rt=null;return}}catch(T){if(w!==null)throw rt=w,T;on=1,Mg(a,ui(d,a.current)),rt=null;return}u.flags&32768?(ht||m===1?a=!0:Ic||(ot&536870912)!==0?a=!1:(pa=a=!0,(m===2||m===9||m===3||m===6)&&(m=qr.current,m!==null&&m.tag===13&&(m.flags|=16384))),x2(u,a)):Hg(u)}function Hg(a){var u=a;do{if((u.flags&32768)!==0){x2(u,pa);return}a=u.return;var d=aK(u.alternate,u,ms);if(d!==null){rt=d;return}if(u=u.sibling,u!==null){rt=u;return}rt=u=a}while(u!==null);on===0&&(on=5)}function x2(a,u){do{var d=lK(a.alternate,a);if(d!==null){d.flags&=32767,rt=d;return}if(d=a.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!u&&(a=a.sibling,a!==null)){rt=a;return}rt=a=d}while(a!==null);on=6,rt=null}function _2(a,u,d,m,w,T,D,$,J){a.cancelPendingCommit=null;do Kg();while(Nn!==0);if((Et&6)!==0)throw Error(r(327));if(u!==null){if(u===a.current)throw Error(r(177));if(T=u.lanes|u.childLanes,T|=cx,tx(a,d,T,D,$,J),a===Vt&&(rt=Vt=null,ot=0),Rc=u,ya=a,gs=d,v_=T,b_=w,c2=m,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,xK(so,function(){return A2(),null})):(a.callbackNode=null,a.callbackPriority=0),m=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||m){m=K.T,K.T=null,w=X.p,X.p=2,D=Et,Et|=4;try{uK(a,u,d)}finally{Et=D,X.p=w,K.T=m}}Nn=1,w2(),T2(),E2()}}function w2(){if(Nn===1){Nn=0;var a=ya,u=Rc,d=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||d){d=K.T,K.T=null;var m=X.p;X.p=2;var w=Et;Et|=4;try{n2(u,a);var T=O_,D=lP(a.containerInfo),$=T.focusedElem,J=T.selectionRange;if(D!==$&&$&&$.ownerDocument&&aP($.ownerDocument.documentElement,$)){if(J!==null&&ox($)){var le=J.start,me=J.end;if(me===void 0&&(me=le),"selectionStart"in $)$.selectionStart=le,$.selectionEnd=Math.min(me,$.value.length);else{var be=$.ownerDocument||document,ue=be&&be.defaultView||window;if(ue.getSelection){var de=ue.getSelection(),Le=$.textContent.length,ze=Math.min(J.start,Le),Lt=J.end===void 0?ze:Math.min(J.end,Le);!de.extend&&ze>Lt&&(D=Lt,Lt=ze,ze=D);var ne=sP($,ze),Z=sP($,Lt);if(ne&&Z&&(de.rangeCount!==1||de.anchorNode!==ne.node||de.anchorOffset!==ne.offset||de.focusNode!==Z.node||de.focusOffset!==Z.offset)){var se=be.createRange();se.setStart(ne.node,ne.offset),de.removeAllRanges(),ze>Lt?(de.addRange(se),de.extend(Z.node,Z.offset)):(se.setEnd(Z.node,Z.offset),de.addRange(se))}}}}for(be=[],de=$;de=de.parentNode;)de.nodeType===1&&be.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof $.focus=="function"&&$.focus(),$=0;$<be.length;$++){var ye=be[$];ye.element.scrollLeft=ye.left,ye.element.scrollTop=ye.top}}oy=!!M_,O_=M_=null}finally{Et=w,X.p=m,K.T=d}}a.current=u,Nn=2}}function T2(){if(Nn===2){Nn=0;var a=ya,u=Rc,d=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||d){d=K.T,K.T=null;var m=X.p;X.p=2;var w=Et;Et|=4;try{Jk(a,u.alternate,u)}finally{Et=w,X.p=m,K.T=d}}Nn=3}}function E2(){if(Nn===4||Nn===3){Nn=0,Jo();var a=ya,u=Rc,d=gs,m=c2;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Nn=5:(Nn=0,Rc=ya=null,S2(a,a.pendingLanes));var w=a.pendingLanes;if(w===0&&(ga=null),Zo(d),u=u.stateNode,$n&&typeof $n.onCommitFiberRoot=="function")try{$n.onCommitFiberRoot(Ur,u,void 0,(u.current.flags&128)===128)}catch{}if(m!==null){u=K.T,w=X.p,X.p=2,K.T=null;try{for(var T=a.onRecoverableError,D=0;D<m.length;D++){var $=m[D];T($.value,{componentStack:$.stack})}}finally{K.T=u,X.p=w}}(gs&3)!==0&&Kg(),Io(a),w=a.pendingLanes,(d&261930)!==0&&(w&42)!==0?a===x_?Yd++:(Yd=0,x_=a):Yd=0,Xd(0)}}function S2(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Rd(u)))}function Kg(){return w2(),T2(),E2(),A2()}function A2(){if(Nn!==5)return!1;var a=ya,u=v_;v_=0;var d=Zo(gs),m=K.T,w=X.p;try{X.p=32>d?32:d,K.T=null,d=b_,b_=null;var T=ya,D=gs;if(Nn=0,Rc=ya=null,gs=0,(Et&6)!==0)throw Error(r(331));var $=Et;if(Et|=4,a2(T.current),i2(T,T.current,D,d),Et=$,Xd(0,!1),$n&&typeof $n.onPostCommitFiberRoot=="function")try{$n.onPostCommitFiberRoot(Ur,T)}catch{}return!0}finally{X.p=w,K.T=m,S2(a,u)}}function C2(a,u,d){u=ui(d,u),u=Qx(a.stateNode,u,2),a=ca(a,u,2),a!==null&&(_l(a,2),Io(a))}function Pt(a,u,d){if(a.tag===3)C2(a,a,d);else for(;u!==null;){if(u.tag===3){C2(u,a,d);break}else if(u.tag===1){var m=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(ga===null||!ga.has(m))){a=ui(d,a),d=Ik(2),m=ca(u,d,2),m!==null&&(Nk(d,m,u,a),_l(m,2),Io(m));break}}u=u.return}}function T_(a,u,d){var m=a.pingCache;if(m===null){m=a.pingCache=new dK;var w=new Set;m.set(u,w)}else w=m.get(u),w===void 0&&(w=new Set,m.set(u,w));w.has(d)||(m_=!0,w.add(d),a=yK.bind(null,a,u,d),u.then(a,a))}function yK(a,u,d){var m=a.pingCache;m!==null&&m.delete(u),a.pingedLanes|=a.suspendedLanes&d,a.warmLanes&=~d,Vt===a&&(ot&d)===d&&(on===4||on===3&&(ot&62914560)===ot&&300>ln()-Fg?(Et&2)===0&&Pc(a,0):g_|=d,Nc===ot&&(Nc=0)),Io(a)}function I2(a,u){u===0&&(u=zm()),a=Dl(a,u),a!==null&&(_l(a,u),Io(a))}function vK(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),I2(a,d)}function bK(a,u){var d=0;switch(a.tag){case 31:case 13:var m=a.stateNode,w=a.memoizedState;w!==null&&(d=w.retryLane);break;case 19:m=a.stateNode;break;case 22:m=a.stateNode._retryCache;break;default:throw Error(r(314))}m!==null&&m.delete(u),I2(a,d)}function xK(a,u){return nt(a,u)}var Wg=null,Mc=null,E_=!1,Yg=!1,S_=!1,ba=0;function Io(a){a!==Mc&&a.next===null&&(Mc===null?Wg=Mc=a:Mc=Mc.next=a),Yg=!0,E_||(E_=!0,wK())}function Xd(a,u){if(!S_&&Yg){S_=!0;do for(var d=!1,m=Wg;m!==null;){if(a!==0){var w=m.pendingLanes;if(w===0)var T=0;else{var D=m.suspendedLanes,$=m.pingedLanes;T=(1<<31-un(42|a)+1)-1,T&=w&~(D&~$),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(d=!0,k2(m,T))}else T=ot,T=uo(m,m===Vt?T:0,m.cancelPendingCommit!==null||m.timeoutHandle!==-1),(T&3)===0||Mi(m,T)||(d=!0,k2(m,T));m=m.next}while(d);S_=!1}}function _K(){N2()}function N2(){Yg=E_=!1;var a=0;ba!==0&&kK()&&(a=ba);for(var u=ln(),d=null,m=Wg;m!==null;){var w=m.next,T=R2(m,u);T===0?(m.next=null,d===null?Wg=w:d.next=w,w===null&&(Mc=d)):(d=m,(a!==0||(T&3)!==0)&&(Yg=!0)),m=w}Nn!==0&&Nn!==5||Xd(a),ba!==0&&(ba=0)}function R2(a,u){for(var d=a.suspendedLanes,m=a.pingedLanes,w=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var D=31-un(T),$=1<<D,J=w[D];J===-1?(($&d)===0||($&m)!==0)&&(w[D]=ex($,u)):J<=u&&(a.expiredLanes|=$),T&=~$}if(u=Vt,d=ot,d=uo(a,a===u?d:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m=a.callbackNode,d===0||a===u&&(Rt===2||Rt===9)||a.cancelPendingCommit!==null)return m!==null&&m!==null&&On(m),a.callbackNode=null,a.callbackPriority=0;if((d&3)===0||Mi(a,d)){if(u=d&-d,u===a.callbackPriority)return u;switch(m!==null&&On(m),Zo(d)){case 2:case 8:d=vl;break;case 32:d=so;break;case 268435456:d=bl;break;default:d=so}return m=P2.bind(null,a),d=nt(d,m),a.callbackPriority=u,a.callbackNode=d,u}return m!==null&&m!==null&&On(m),a.callbackPriority=2,a.callbackNode=null,2}function P2(a,u){if(Nn!==0&&Nn!==5)return a.callbackNode=null,a.callbackPriority=0,null;var d=a.callbackNode;if(Kg()&&a.callbackNode!==d)return null;var m=ot;return m=uo(a,a===Vt?m:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),m===0?null:(d2(a,m,u),R2(a,ln()),a.callbackNode!=null&&a.callbackNode===d?P2.bind(null,a):null)}function k2(a,u){if(Kg())return null;d2(a,u,!0)}function wK(){OK(function(){(Et&6)!==0?nt(Ks,_K):N2()})}function A_(){if(ba===0){var a=vc;a===0&&(a=ao,ao<<=1,(ao&261888)===0&&(ao=256)),ba=a}return ba}function M2(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:rc(""+a)}function O2(a,u){var d=u.ownerDocument.createElement("input");return d.name=u.name,d.value=u.value,a.id&&d.setAttribute("form",a.id),u.parentNode.insertBefore(d,u),a=new FormData(a),d.parentNode.removeChild(d),a}function TK(a,u,d,m,w){if(u==="submit"&&d&&d.stateNode===w){var T=M2((w[Dn]||null).action),D=m.submitter;D&&(u=(u=D[Dn]||null)?M2(u.formAction):D.getAttribute("formAction"),u!==null&&(T=u,D=null));var $=new _o("action","action",null,m,w);a.push({event:$,listeners:[{instance:null,listener:function(){if(m.defaultPrevented){if(ba!==0){var J=D?O2(w,D):new FormData(w);Hx(d,{pending:!0,data:J,method:w.method,action:T},null,J)}}else typeof T=="function"&&($.preventDefault(),J=D?O2(w,D):new FormData(w),Hx(d,{pending:!0,data:J,method:w.method,action:T},T,J))},currentTarget:w}]})}}for(var C_=0;C_<ux.length;C_++){var I_=ux[C_],EK=I_.toLowerCase(),SK=I_[0].toUpperCase()+I_.slice(1);Fi(EK,"on"+SK)}Fi(fP,"onAnimationEnd"),Fi(dP,"onAnimationIteration"),Fi(hP,"onAnimationStart"),Fi("dblclick","onDoubleClick"),Fi("focusin","onFocus"),Fi("focusout","onBlur"),Fi(F7,"onTransitionRun"),Fi(q7,"onTransitionStart"),Fi(z7,"onTransitionCancel"),Fi(pP,"onTransitionEnd"),yo("onMouseEnter",["mouseout","mouseover"]),yo("onMouseLeave",["mouseout","mouseover"]),yo("onPointerEnter",["pointerout","pointerover"]),yo("onPointerLeave",["pointerout","pointerover"]),go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),go("onBeforeInput",["compositionend","keypress","textInput","paste"]),go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),AK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Jd));function D2(a,u){u=(u&4)!==0;for(var d=0;d<a.length;d++){var m=a[d],w=m.event;m=m.listeners;e:{var T=void 0;if(u)for(var D=m.length-1;0<=D;D--){var $=m[D],J=$.instance,le=$.currentTarget;if($=$.listener,J!==T&&w.isPropagationStopped())break e;T=$,w.currentTarget=le;try{T(w)}catch(me){cg(me)}w.currentTarget=null,T=J}else for(D=0;D<m.length;D++){if($=m[D],J=$.instance,le=$.currentTarget,$=$.listener,J!==T&&w.isPropagationStopped())break e;T=$,w.currentTarget=le;try{T(w)}catch(me){cg(me)}w.currentTarget=null,T=J}}}}function it(a,u){var d=u[Qu];d===void 0&&(d=u[Qu]=new Set);var m=a+"__bubble";d.has(m)||(L2(u,a,2,!1),d.add(m))}function N_(a,u,d){var m=0;u&&(m|=4),L2(d,a,m,u)}var Xg="_reactListening"+Math.random().toString(36).slice(2);function R_(a){if(!a[Xg]){a[Xg]=!0,ud.forEach(function(d){d!=="selectionchange"&&(AK.has(d)||N_(d,!1,a),N_(d,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[Xg]||(u[Xg]=!0,N_("selectionchange",!1,u))}}function L2(a,u,d,m){switch(fM(u)){case 2:var w=eW;break;case 8:w=tW;break;default:w=G_}d=w.bind(null,u,d,a),w=void 0,!Cl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(w=!0),m?w!==void 0?a.addEventListener(u,d,{capture:!0,passive:w}):a.addEventListener(u,d,!0):w!==void 0?a.addEventListener(u,d,{passive:w}):a.addEventListener(u,d,!1)}function P_(a,u,d,m,w){var T=m;if((u&1)===0&&(u&2)===0&&m!==null)e:for(;;){if(m===null)return;var D=m.tag;if(D===3||D===4){var $=m.stateNode.containerInfo;if($===w)break;if(D===4)for(D=m.return;D!==null;){var J=D.tag;if((J===3||J===4)&&D.stateNode.containerInfo===w)return;D=D.return}for(;$!==null;){if(D=po($),D===null)return;if(J=D.tag,J===5||J===6||J===26||J===27){m=T=D;continue e}$=$.parentNode}}m=m.return}ea(function(){var le=T,me=oi(d),be=[];e:{var ue=mP.get(a);if(ue!==void 0){var de=_o,Le=a;switch(a){case"keypress":if(Nl(d)===0)break e;case"keydown":case"keyup":de=ag;break;case"focusin":Le="focus",de=Pl;break;case"focusout":Le="blur",de=Pl;break;case"beforeblur":case"afterblur":de=Pl;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=wd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=Qm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=P;break;case fP:case dP:case hP:de=eg;break;case pP:de=H;break;case"scroll":case"scrollend":de=_d;break;case"wheel":de=fe;break;case"copy":case"cut":case"paste":de=tg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=ns;break;case"toggle":case"beforetoggle":de=Ze}var ze=(u&4)!==0,Lt=!ze&&(a==="scroll"||a==="scrollend"),ne=ze?ue!==null?ue+"Capture":null:ue;ze=[];for(var Z=le,se;Z!==null;){var ye=Z;if(se=ye.stateNode,ye=ye.tag,ye!==5&&ye!==26&&ye!==27||se===null||ne===null||(ye=Ui(Z,ne),ye!=null&&ze.push(Qd(Z,ye,se))),Lt)break;Z=Z.return}0<ze.length&&(ue=new de(ue,Le,null,d,me),be.push({event:ue,listeners:ze}))}}if((u&7)===0){e:{if(ue=a==="mouseover"||a==="pointerover",de=a==="mouseout"||a==="pointerout",ue&&d!==vd&&(Le=d.relatedTarget||d.fromElement)&&(po(Le)||Le[fo]))break e;if((de||ue)&&(ue=me.window===me?me:(ue=me.ownerDocument)?ue.defaultView||ue.parentWindow:window,de?(Le=d.relatedTarget||d.toElement,de=le,Le=Le?po(Le):null,Le!==null&&(Lt=o(Le),ze=Le.tag,Le!==Lt||ze!==5&&ze!==27&&ze!==6)&&(Le=null)):(de=null,Le=le),de!==Le)){if(ze=wd,ye="onMouseLeave",ne="onMouseEnter",Z="mouse",(a==="pointerout"||a==="pointerover")&&(ze=ns,ye="onPointerLeave",ne="onPointerEnter",Z="pointer"),Lt=de==null?ue:Vr(de),se=Le==null?ue:Vr(Le),ue=new ze(ye,Z+"leave",de,d,me),ue.target=Lt,ue.relatedTarget=se,ye=null,po(me)===le&&(ze=new ze(ne,Z+"enter",Le,d,me),ze.target=se,ze.relatedTarget=Lt,ye=ze),Lt=ye,de&&Le)t:{for(ze=CK,ne=de,Z=Le,se=0,ye=ne;ye;ye=ze(ye))se++;ye=0;for(var je=Z;je;je=ze(je))ye++;for(;0<se-ye;)ne=ze(ne),se--;for(;0<ye-se;)Z=ze(Z),ye--;for(;se--;){if(ne===Z||Z!==null&&ne===Z.alternate){ze=ne;break t}ne=ze(ne),Z=ze(Z)}ze=null}else ze=null;de!==null&&U2(be,ue,de,ze,!1),Le!==null&&Lt!==null&&U2(be,Lt,Le,ze,!0)}}e:{if(ue=le?Vr(le):window,de=ue.nodeName&&ue.nodeName.toLowerCase(),de==="select"||de==="input"&&ue.type==="file")var vt=eP;else if(QR(ue))if(tP)vt=V7;else{vt=L7;var Ue=D7}else de=ue.nodeName,!de||de.toLowerCase()!=="input"||ue.type!=="checkbox"&&ue.type!=="radio"?le&&nc(le.elementType)&&(vt=eP):vt=U7;if(vt&&(vt=vt(a,le))){ZR(be,vt,d,me);break e}Ue&&Ue(a,ue,le),a==="focusout"&&le&&ue.type==="number"&&le.memoizedProps.value!=null&&md(ue,"number",ue.value)}switch(Ue=le?Vr(le):window,a){case"focusin":(QR(Ue)||Ue.contentEditable==="true")&&(cc=Ue,sx=le,Cd=null);break;case"focusout":Cd=sx=cc=null;break;case"mousedown":ax=!0;break;case"contextmenu":case"mouseup":case"dragend":ax=!1,uP(be,d,me);break;case"selectionchange":if(B7)break;case"keydown":case"keyup":uP(be,d,me)}var tt;if(Tt)e:{switch(a){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else uc?kl(a,d)&&(st="onCompositionEnd"):a==="keydown"&&d.keyCode===229&&(st="onCompositionStart");st&&(Eo&&d.locale!=="ko"&&(uc||st!=="onCompositionStart"?st==="onCompositionEnd"&&uc&&(tt=xd()):(xo=me,bd="value"in xo?xo.value:xo.textContent,uc=!0)),Ue=Jg(le,st),0<Ue.length&&(st=new To(st,a,null,d,me),be.push({event:st,listeners:Ue}),tt?st.data=tt:(tt=lc(d),tt!==null&&(st.data=tt)))),(tt=ai?P7(a,d):k7(a,d))&&(st=Jg(le,"onBeforeInput"),0<st.length&&(Ue=new To("onBeforeInput","beforeinput",null,d,me),be.push({event:Ue,listeners:st}),Ue.data=tt)),TK(be,a,le,d,me)}D2(be,u)})}function Qd(a,u,d){return{instance:a,listener:u,currentTarget:d}}function Jg(a,u){for(var d=u+"Capture",m=[];a!==null;){var w=a,T=w.stateNode;if(w=w.tag,w!==5&&w!==26&&w!==27||T===null||(w=Ui(a,d),w!=null&&m.unshift(Qd(a,w,T)),w=Ui(a,u),w!=null&&m.push(Qd(a,w,T))),a.tag===3)return m;a=a.return}return[]}function CK(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function U2(a,u,d,m,w){for(var T=u._reactName,D=[];d!==null&&d!==m;){var $=d,J=$.alternate,le=$.stateNode;if($=$.tag,J!==null&&J===m)break;$!==5&&$!==26&&$!==27||le===null||(J=le,w?(le=Ui(d,T),le!=null&&D.unshift(Qd(d,le,J))):w||(le=Ui(d,T),le!=null&&D.push(Qd(d,le,J)))),d=d.return}D.length!==0&&a.push({event:u,listeners:D})}var IK=/\r\n?/g,NK=/\u0000|\uFFFD/g;function V2(a){return(typeof a=="string"?a:""+a).replace(IK,`
`).replace(NK,"")}function j2(a,u){return u=V2(u),V2(a)===u}function Dt(a,u,d,m,w,T){switch(d){case"children":typeof m=="string"?u==="body"||u==="textarea"&&m===""||Er(a,m):(typeof m=="number"||typeof m=="bigint")&&u!=="body"&&Er(a,""+m);break;case"className":jr(a,"class",m);break;case"tabIndex":jr(a,"tabindex",m);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(a,d,m);break;case"style":yd(a,m,T);break;case"data":if(u!=="object"){jr(a,"data",m);break}case"src":case"href":if(m===""&&(u!=="a"||d!=="href")){a.removeAttribute(d);break}if(m==null||typeof m=="function"||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=rc(""+m),a.setAttribute(d,m);break;case"action":case"formAction":if(typeof m=="function"){a.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(d==="formAction"?(u!=="input"&&Dt(a,u,"name",w.name,w,null),Dt(a,u,"formEncType",w.formEncType,w,null),Dt(a,u,"formMethod",w.formMethod,w,null),Dt(a,u,"formTarget",w.formTarget,w,null)):(Dt(a,u,"encType",w.encType,w,null),Dt(a,u,"method",w.method,w,null),Dt(a,u,"target",w.target,w,null)));if(m==null||typeof m=="symbol"||typeof m=="boolean"){a.removeAttribute(d);break}m=rc(""+m),a.setAttribute(d,m);break;case"onClick":m!=null&&(a.onclick=Li);break;case"onScroll":m!=null&&it("scroll",a);break;case"onScrollEnd":m!=null&&it("scrollend",a);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"multiple":a.multiple=m&&typeof m!="function"&&typeof m!="symbol";break;case"muted":a.muted=m&&typeof m!="function"&&typeof m!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(m==null||typeof m=="function"||typeof m=="boolean"||typeof m=="symbol"){a.removeAttribute("xlink:href");break}d=rc(""+m),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""+m):a.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":m&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,""):a.removeAttribute(d);break;case"capture":case"download":m===!0?a.setAttribute(d,""):m!==!1&&m!=null&&typeof m!="function"&&typeof m!="symbol"?a.setAttribute(d,m):a.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":m!=null&&typeof m!="function"&&typeof m!="symbol"&&!isNaN(m)&&1<=m?a.setAttribute(d,m):a.removeAttribute(d);break;case"rowSpan":case"start":m==null||typeof m=="function"||typeof m=="symbol"||isNaN(m)?a.removeAttribute(d):a.setAttribute(d,m);break;case"popover":it("beforetoggle",a),it("toggle",a),ec(a,"popover",m);break;case"xlinkActuate":bn(a,"http://www.w3.org/1999/xlink","xlink:actuate",m);break;case"xlinkArcrole":bn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",m);break;case"xlinkRole":bn(a,"http://www.w3.org/1999/xlink","xlink:role",m);break;case"xlinkShow":bn(a,"http://www.w3.org/1999/xlink","xlink:show",m);break;case"xlinkTitle":bn(a,"http://www.w3.org/1999/xlink","xlink:title",m);break;case"xlinkType":bn(a,"http://www.w3.org/1999/xlink","xlink:type",m);break;case"xmlBase":bn(a,"http://www.w3.org/XML/1998/namespace","xml:base",m);break;case"xmlLang":bn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",m);break;case"xmlSpace":bn(a,"http://www.w3.org/XML/1998/namespace","xml:space",m);break;case"is":ec(a,"is",m);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=Jm.get(d)||d,ec(a,d,m))}}function k_(a,u,d,m,w,T){switch(d){case"style":yd(a,m,T);break;case"dangerouslySetInnerHTML":if(m!=null){if(typeof m!="object"||!("__html"in m))throw Error(r(61));if(d=m.__html,d!=null){if(w.children!=null)throw Error(r(60));a.innerHTML=d}}break;case"children":typeof m=="string"?Er(a,m):(typeof m=="number"||typeof m=="bigint")&&Er(a,""+m);break;case"onScroll":m!=null&&it("scroll",a);break;case"onScrollEnd":m!=null&&it("scrollend",a);break;case"onClick":m!=null&&(a.onclick=Li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cd.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(w=d.endsWith("Capture"),u=d.slice(2,w?d.length-7:void 0),T=a[Dn]||null,T=T!=null?T[d]:null,typeof T=="function"&&a.removeEventListener(u,T,w),typeof m=="function")){typeof T!="function"&&T!==null&&(d in a?a[d]=null:a.hasAttribute(d)&&a.removeAttribute(d)),a.addEventListener(u,m,w);break e}d in a?a[d]=m:m===!0?a.setAttribute(d,""):ec(a,d,m)}}}function Yn(a,u,d){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":it("error",a),it("load",a);var m=!1,w=!1,T;for(T in d)if(d.hasOwnProperty(T)){var D=d[T];if(D!=null)switch(T){case"src":m=!0;break;case"srcSet":w=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Dt(a,u,T,D,d,null)}}w&&Dt(a,u,"srcSet",d.srcSet,d,null),m&&Dt(a,u,"src",d.src,d,null);return;case"input":it("invalid",a);var $=T=D=w=null,J=null,le=null;for(m in d)if(d.hasOwnProperty(m)){var me=d[m];if(me!=null)switch(m){case"name":w=me;break;case"type":D=me;break;case"checked":J=me;break;case"defaultChecked":le=me;break;case"value":T=me;break;case"defaultValue":$=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(137,u));break;default:Dt(a,u,m,me,d,null)}}Wm(a,T,$,J,le,D,w,!1);return;case"select":it("invalid",a),m=D=T=null;for(w in d)if(d.hasOwnProperty(w)&&($=d[w],$!=null))switch(w){case"value":T=$;break;case"defaultValue":D=$;break;case"multiple":m=$;default:Dt(a,u,w,$,d,null)}u=T,d=D,a.multiple=!!m,u!=null?Xs(a,!!m,u,!1):d!=null&&Xs(a,!!m,d,!0);return;case"textarea":it("invalid",a),T=w=m=null;for(D in d)if(d.hasOwnProperty(D)&&($=d[D],$!=null))switch(D){case"value":m=$;break;case"defaultValue":w=$;break;case"children":T=$;break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:Dt(a,u,D,$,d,null)}Js(a,m,w,T);return;case"option":for(J in d)if(d.hasOwnProperty(J)&&(m=d[J],m!=null))switch(J){case"selected":a.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:Dt(a,u,J,m,d,null)}return;case"dialog":it("beforetoggle",a),it("toggle",a),it("cancel",a),it("close",a);break;case"iframe":case"object":it("load",a);break;case"video":case"audio":for(m=0;m<Jd.length;m++)it(Jd[m],a);break;case"image":it("error",a),it("load",a);break;case"details":it("toggle",a);break;case"embed":case"source":case"link":it("error",a),it("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in d)if(d.hasOwnProperty(le)&&(m=d[le],m!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Dt(a,u,le,m,d,null)}return;default:if(nc(u)){for(me in d)d.hasOwnProperty(me)&&(m=d[me],m!==void 0&&k_(a,u,me,m,d,void 0));return}}for($ in d)d.hasOwnProperty($)&&(m=d[$],m!=null&&Dt(a,u,$,m,d,null))}function RK(a,u,d,m){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var w=null,T=null,D=null,$=null,J=null,le=null,me=null;for(de in d){var be=d[de];if(d.hasOwnProperty(de)&&be!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":J=be;default:m.hasOwnProperty(de)||Dt(a,u,de,null,m,be)}}for(var ue in m){var de=m[ue];if(be=d[ue],m.hasOwnProperty(ue)&&(de!=null||be!=null))switch(ue){case"type":T=de;break;case"name":w=de;break;case"checked":le=de;break;case"defaultChecked":me=de;break;case"value":D=de;break;case"defaultValue":$=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,u));break;default:de!==be&&Dt(a,u,ue,de,m,be)}}tc(a,D,$,J,le,me,T,w);return;case"select":de=D=$=ue=null;for(T in d)if(J=d[T],d.hasOwnProperty(T)&&J!=null)switch(T){case"value":break;case"multiple":de=J;default:m.hasOwnProperty(T)||Dt(a,u,T,null,m,J)}for(w in m)if(T=m[w],J=d[w],m.hasOwnProperty(w)&&(T!=null||J!=null))switch(w){case"value":ue=T;break;case"defaultValue":$=T;break;case"multiple":D=T;default:T!==J&&Dt(a,u,w,T,m,J)}u=$,d=D,m=de,ue!=null?Xs(a,!!d,ue,!1):!!m!=!!d&&(u!=null?Xs(a,!!d,u,!0):Xs(a,!!d,d?[]:"",!1));return;case"textarea":de=ue=null;for($ in d)if(w=d[$],d.hasOwnProperty($)&&w!=null&&!m.hasOwnProperty($))switch($){case"value":break;case"children":break;default:Dt(a,u,$,null,m,w)}for(D in m)if(w=m[D],T=d[D],m.hasOwnProperty(D)&&(w!=null||T!=null))switch(D){case"value":ue=w;break;case"defaultValue":de=w;break;case"children":break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(r(91));break;default:w!==T&&Dt(a,u,D,w,m,T)}Ym(a,ue,de);return;case"option":for(var Le in d)if(ue=d[Le],d.hasOwnProperty(Le)&&ue!=null&&!m.hasOwnProperty(Le))switch(Le){case"selected":a.selected=!1;break;default:Dt(a,u,Le,null,m,ue)}for(J in m)if(ue=m[J],de=d[J],m.hasOwnProperty(J)&&ue!==de&&(ue!=null||de!=null))switch(J){case"selected":a.selected=ue&&typeof ue!="function"&&typeof ue!="symbol";break;default:Dt(a,u,J,ue,m,de)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in d)ue=d[ze],d.hasOwnProperty(ze)&&ue!=null&&!m.hasOwnProperty(ze)&&Dt(a,u,ze,null,m,ue);for(le in m)if(ue=m[le],de=d[le],m.hasOwnProperty(le)&&ue!==de&&(ue!=null||de!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(r(137,u));break;default:Dt(a,u,le,ue,m,de)}return;default:if(nc(u)){for(var Lt in d)ue=d[Lt],d.hasOwnProperty(Lt)&&ue!==void 0&&!m.hasOwnProperty(Lt)&&k_(a,u,Lt,void 0,m,ue);for(me in m)ue=m[me],de=d[me],!m.hasOwnProperty(me)||ue===de||ue===void 0&&de===void 0||k_(a,u,me,ue,m,de);return}}for(var ne in d)ue=d[ne],d.hasOwnProperty(ne)&&ue!=null&&!m.hasOwnProperty(ne)&&Dt(a,u,ne,null,m,ue);for(be in m)ue=m[be],de=d[be],!m.hasOwnProperty(be)||ue===de||ue==null&&de==null||Dt(a,u,be,ue,m,de)}function B2(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function PK(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,d=performance.getEntriesByType("resource"),m=0;m<d.length;m++){var w=d[m],T=w.transferSize,D=w.initiatorType,$=w.duration;if(T&&$&&B2(D)){for(D=0,$=w.responseEnd,m+=1;m<d.length;m++){var J=d[m],le=J.startTime;if(le>$)break;var me=J.transferSize,be=J.initiatorType;me&&B2(be)&&(J=J.responseEnd,D+=me*(J<$?1:($-le)/(J-le)))}if(--m,u+=8*(T+D)/(w.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var M_=null,O_=null;function Qg(a){return a.nodeType===9?a:a.ownerDocument}function F2(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function q2(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function D_(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var L_=null;function kK(){var a=window.event;return a&&a.type==="popstate"?a===L_?!1:(L_=a,!0):(L_=null,!1)}var z2=typeof setTimeout=="function"?setTimeout:void 0,MK=typeof clearTimeout=="function"?clearTimeout:void 0,$2=typeof Promise=="function"?Promise:void 0,OK=typeof queueMicrotask=="function"?queueMicrotask:typeof $2<"u"?function(a){return $2.resolve(null).then(a).catch(DK)}:z2;function DK(a){setTimeout(function(){throw a})}function xa(a){return a==="head"}function G2(a,u){var d=u,m=0;do{var w=d.nextSibling;if(a.removeChild(d),w&&w.nodeType===8)if(d=w.data,d==="/$"||d==="/&"){if(m===0){a.removeChild(w),Uc(u);return}m--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")m++;else if(d==="html")Zd(a.ownerDocument.documentElement);else if(d==="head"){d=a.ownerDocument.head,Zd(d);for(var T=d.firstChild;T;){var D=T.nextSibling,$=T.nodeName;T[ho]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&T.rel.toLowerCase()==="stylesheet"||d.removeChild(T),T=D}}else d==="body"&&Zd(a.ownerDocument.body);d=w}while(d);Uc(u)}function H2(a,u){var d=a;a=0;do{var m=d.nextSibling;if(d.nodeType===1?u?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(u?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(a===0)break;a--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||a++;d=m}while(d)}function U_(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var d=u;switch(u=u.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":U_(d),Zu(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}a.removeChild(d)}}function LK(a,u,d,m){for(;a.nodeType===1;){var w=d;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!m&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(m){if(!a[ho])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==w.rel||a.getAttribute("href")!==(w.href==null||w.href===""?null:w.href)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin)||a.getAttribute("title")!==(w.title==null?null:w.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(w.src==null?null:w.src)||a.getAttribute("type")!==(w.type==null?null:w.type)||a.getAttribute("crossorigin")!==(w.crossOrigin==null?null:w.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var T=w.name==null?null:""+w.name;if(w.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=pi(a.nextSibling),a===null)break}return null}function UK(a,u,d){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!d||(a=pi(a.nextSibling),a===null))return null;return a}function K2(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=pi(a.nextSibling),a===null))return null;return a}function V_(a){return a.data==="$?"||a.data==="$~"}function j_(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function VK(a,u){var d=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||d.readyState!=="loading")u();else{var m=function(){u(),d.removeEventListener("DOMContentLoaded",m)};d.addEventListener("DOMContentLoaded",m),a._reactRetry=m}}function pi(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var B_=null;function W2(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="/$"||d==="/&"){if(u===0)return pi(a.nextSibling);u--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||u++}a=a.nextSibling}return null}function Y2(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var d=a.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(u===0)return a;u--}else d!=="/$"&&d!=="/&"||u++}a=a.previousSibling}return null}function X2(a,u,d){switch(u=Qg(d),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Zd(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);Zu(a)}var mi=new Map,J2=new Set;function Zg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ys=X.d;X.d={f:jK,r:BK,D:FK,C:qK,L:zK,m:$K,X:HK,S:GK,M:KK};function jK(){var a=ys.f(),u=$g();return a||u}function BK(a){var u=ii(a);u!==null&&u.tag===5&&u.type==="form"?pk(u):ys.r(a)}var Oc=typeof document>"u"?null:document;function Q2(a,u,d){var m=Oc;if(m&&typeof u=="string"&&u){var w=Tr(u);w='link[rel="'+a+'"][href="'+w+'"]',typeof d=="string"&&(w+='[crossorigin="'+d+'"]'),J2.has(w)||(J2.add(w),a={rel:a,crossOrigin:d,href:u},m.querySelector(w)===null&&(u=m.createElement("link"),Yn(u,"link",a),vn(u),m.head.appendChild(u)))}}function FK(a){ys.D(a),Q2("dns-prefetch",a,null)}function qK(a,u){ys.C(a,u),Q2("preconnect",a,u)}function zK(a,u,d){ys.L(a,u,d);var m=Oc;if(m&&a&&u){var w='link[rel="preload"][as="'+Tr(u)+'"]';u==="image"&&d&&d.imageSrcSet?(w+='[imagesrcset="'+Tr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(w+='[imagesizes="'+Tr(d.imageSizes)+'"]')):w+='[href="'+Tr(a)+'"]';var T=w;switch(u){case"style":T=Dc(a);break;case"script":T=Lc(a)}mi.has(T)||(a=p({rel:"preload",href:u==="image"&&d&&d.imageSrcSet?void 0:a,as:u},d),mi.set(T,a),m.querySelector(w)!==null||u==="style"&&m.querySelector(eh(T))||u==="script"&&m.querySelector(th(T))||(u=m.createElement("link"),Yn(u,"link",a),vn(u),m.head.appendChild(u)))}}function $K(a,u){ys.m(a,u);var d=Oc;if(d&&a){var m=u&&typeof u.as=="string"?u.as:"script",w='link[rel="modulepreload"][as="'+Tr(m)+'"][href="'+Tr(a)+'"]',T=w;switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=Lc(a)}if(!mi.has(T)&&(a=p({rel:"modulepreload",href:a},u),mi.set(T,a),d.querySelector(w)===null)){switch(m){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(th(T)))return}m=d.createElement("link"),Yn(m,"link",a),vn(m),d.head.appendChild(m)}}}function GK(a,u,d){ys.S(a,u,d);var m=Oc;if(m&&a){var w=mo(m).hoistableStyles,T=Dc(a);u=u||"default";var D=w.get(T);if(!D){var $={loading:0,preload:null};if(D=m.querySelector(eh(T)))$.loading=5;else{a=p({rel:"stylesheet",href:a,"data-precedence":u},d),(d=mi.get(T))&&F_(a,d);var J=D=m.createElement("link");vn(J),Yn(J,"link",a),J._p=new Promise(function(le,me){J.onload=le,J.onerror=me}),J.addEventListener("load",function(){$.loading|=1}),J.addEventListener("error",function(){$.loading|=2}),$.loading|=4,ey(D,u,m)}D={type:"stylesheet",instance:D,count:1,state:$},w.set(T,D)}}}function HK(a,u){ys.X(a,u);var d=Oc;if(d&&a){var m=mo(d).hoistableScripts,w=Lc(a),T=m.get(w);T||(T=d.querySelector(th(w)),T||(a=p({src:a,async:!0},u),(u=mi.get(w))&&q_(a,u),T=d.createElement("script"),vn(T),Yn(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(w,T))}}function KK(a,u){ys.M(a,u);var d=Oc;if(d&&a){var m=mo(d).hoistableScripts,w=Lc(a),T=m.get(w);T||(T=d.querySelector(th(w)),T||(a=p({src:a,async:!0,type:"module"},u),(u=mi.get(w))&&q_(a,u),T=d.createElement("script"),vn(T),Yn(T,"link",a),d.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},m.set(w,T))}}function Z2(a,u,d,m){var w=(w=we.current)?Zg(w):null;if(!w)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(u=Dc(d.href),d=mo(w).hoistableStyles,m=d.get(u),m||(m={type:"style",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){a=Dc(d.href);var T=mo(w).hoistableStyles,D=T.get(a);if(D||(w=w.ownerDocument||w,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,D),(T=w.querySelector(eh(a)))&&!T._p&&(D.instance=T,D.state.loading=5),mi.has(a)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},mi.set(a,d),T||WK(w,a,d,D.state))),u&&m===null)throw Error(r(528,""));return D}if(u&&m!==null)throw Error(r(529,""));return null;case"script":return u=d.async,d=d.src,typeof d=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Lc(d),d=mo(w).hoistableScripts,m=d.get(u),m||(m={type:"script",instance:null,count:0,state:null},d.set(u,m)),m):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Dc(a){return'href="'+Tr(a)+'"'}function eh(a){return'link[rel="stylesheet"]['+a+"]"}function eM(a){return p({},a,{"data-precedence":a.precedence,precedence:null})}function WK(a,u,d,m){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?m.loading=1:(u=a.createElement("link"),m.preload=u,u.addEventListener("load",function(){return m.loading|=1}),u.addEventListener("error",function(){return m.loading|=2}),Yn(u,"link",d),vn(u),a.head.appendChild(u))}function Lc(a){return'[src="'+Tr(a)+'"]'}function th(a){return"script[async]"+a}function tM(a,u,d){if(u.count++,u.instance===null)switch(u.type){case"style":var m=a.querySelector('style[data-href~="'+Tr(d.href)+'"]');if(m)return u.instance=m,vn(m),m;var w=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return m=(a.ownerDocument||a).createElement("style"),vn(m),Yn(m,"style",w),ey(m,d.precedence,a),u.instance=m;case"stylesheet":w=Dc(d.href);var T=a.querySelector(eh(w));if(T)return u.state.loading|=4,u.instance=T,vn(T),T;m=eM(d),(w=mi.get(w))&&F_(m,w),T=(a.ownerDocument||a).createElement("link"),vn(T);var D=T;return D._p=new Promise(function($,J){D.onload=$,D.onerror=J}),Yn(T,"link",m),u.state.loading|=4,ey(T,d.precedence,a),u.instance=T;case"script":return T=Lc(d.src),(w=a.querySelector(th(T)))?(u.instance=w,vn(w),w):(m=d,(w=mi.get(T))&&(m=p({},d),q_(m,w)),a=a.ownerDocument||a,w=a.createElement("script"),vn(w),Yn(w,"link",m),a.head.appendChild(w),u.instance=w);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(m=u.instance,u.state.loading|=4,ey(m,d.precedence,a));return u.instance}function ey(a,u,d){for(var m=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),w=m.length?m[m.length-1]:null,T=w,D=0;D<m.length;D++){var $=m[D];if($.dataset.precedence===u)T=$;else if(T!==w)break}T?T.parentNode.insertBefore(a,T.nextSibling):(u=d.nodeType===9?d.head:d,u.insertBefore(a,u.firstChild))}function F_(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function q_(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var ty=null;function nM(a,u,d){if(ty===null){var m=new Map,w=ty=new Map;w.set(d,m)}else w=ty,m=w.get(d),m||(m=new Map,w.set(d,m));if(m.has(a))return m;for(m.set(a,null),d=d.getElementsByTagName(a),w=0;w<d.length;w++){var T=d[w];if(!(T[ho]||T[yn]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var D=T.getAttribute(u)||"";D=a+D;var $=m.get(D);$?$.push(T):m.set(D,[T])}}return m}function rM(a,u,d){a=a.ownerDocument||a,a.head.insertBefore(d,u==="title"?a.querySelector("head > title"):null)}function YK(a,u,d){if(d===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return a=u.disabled,typeof u.precedence=="string"&&a==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function iM(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function XK(a,u,d,m){if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var w=Dc(m.href),T=u.querySelector(eh(w));if(T){u=T._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=ny.bind(a),u.then(a,a)),d.state.loading|=4,d.instance=T,vn(T);return}T=u.ownerDocument||u,m=eM(m),(w=mi.get(w))&&F_(m,w),T=T.createElement("link"),vn(T);var D=T;D._p=new Promise(function($,J){D.onload=$,D.onerror=J}),Yn(T,"link",m),d.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(d,u),(u=d.state.preload)&&(d.state.loading&3)===0&&(a.count++,d=ny.bind(a),u.addEventListener("load",d),u.addEventListener("error",d))}}var z_=0;function JK(a,u){return a.stylesheets&&a.count===0&&iy(a,a.stylesheets),0<a.count||0<a.imgCount?function(d){var m=setTimeout(function(){if(a.stylesheets&&iy(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+u);0<a.imgBytes&&z_===0&&(z_=62500*PK());var w=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&iy(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>z_?50:800)+u);return a.unsuspend=d,function(){a.unsuspend=null,clearTimeout(m),clearTimeout(w)}}:null}function ny(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)iy(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ry=null;function iy(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ry=new Map,u.forEach(QK,a),ry=null,ny.call(a))}function QK(a,u){if(!(u.state.loading&4)){var d=ry.get(a);if(d)var m=d.get(null);else{d=new Map,ry.set(a,d);for(var w=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<w.length;T++){var D=w[T];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),m=D)}m&&d.set(null,m)}w=u.instance,D=w.getAttribute("data-precedence"),T=d.get(D)||m,T===m&&d.set(null,w),d.set(D,w),this.count++,m=ny.bind(this),w.addEventListener("load",m),w.addEventListener("error",m),T?T.parentNode.insertBefore(w,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(w,a.firstChild)),u.state.loading|=4}}var nh={$$typeof:N,Provider:null,Consumer:null,_currentValue:te,_currentValue2:te,_threadCount:0};function ZK(a,u,d,m,w,T,D,$,J){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=co(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=co(0),this.hiddenUpdates=co(null),this.identifierPrefix=m,this.onUncaughtError=w,this.onCaughtError=T,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function oM(a,u,d,m,w,T,D,$,J,le,me,be){return a=new ZK(a,u,d,D,J,le,me,be,$),u=1,T===!0&&(u|=24),T=Fr(3,null,null,u),a.current=T,T.stateNode=a,u=wx(),u.refCount++,a.pooledCache=u,u.refCount++,T.memoizedState={element:m,isDehydrated:d,cache:u},Ax(T),a}function sM(a){return a?(a=hc,a):hc}function aM(a,u,d,m,w,T){w=sM(w),m.context===null?m.context=w:m.pendingContext=w,m=ua(u),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=ca(a,m,u),d!==null&&(Nr(d,a,u),Od(d,a,u))}function lM(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function $_(a,u){lM(a,u),(a=a.alternate)&&lM(a,u)}function uM(a){if(a.tag===13||a.tag===31){var u=Dl(a,67108864);u!==null&&Nr(u,a,67108864),$_(a,67108864)}}function cM(a){if(a.tag===13||a.tag===31){var u=Hr();u=Tl(u);var d=Dl(a,u);d!==null&&Nr(d,a,u),$_(a,u)}}var oy=!0;function eW(a,u,d,m){var w=K.T;K.T=null;var T=X.p;try{X.p=2,G_(a,u,d,m)}finally{X.p=T,K.T=w}}function tW(a,u,d,m){var w=K.T;K.T=null;var T=X.p;try{X.p=8,G_(a,u,d,m)}finally{X.p=T,K.T=w}}function G_(a,u,d,m){if(oy){var w=H_(m);if(w===null)P_(a,u,m,sy,d),dM(a,m);else if(rW(w,a,u,d,m))m.stopPropagation();else if(dM(a,m),u&4&&-1<nW.indexOf(a)){for(;w!==null;){var T=ii(w);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var D=lo(T.pendingLanes);if(D!==0){var $=T;for($.pendingLanes|=2,$.entangledLanes|=2;D;){var J=1<<31-un(D);$.entanglements[1]|=J,D&=~J}Io(T),(Et&6)===0&&(qg=ln()+500,Xd(0))}}break;case 31:case 13:$=Dl(T,2),$!==null&&Nr($,T,2),$g(),$_(T,2)}if(T=H_(m),T===null&&P_(a,u,m,sy,d),T===w)break;w=T}w!==null&&m.stopPropagation()}else P_(a,u,m,null,d)}}function H_(a){return a=oi(a),K_(a)}var sy=null;function K_(a){if(sy=null,a=po(a),a!==null){var u=o(a);if(u===null)a=null;else{var d=u.tag;if(d===13){if(a=s(u),a!==null)return a;a=null}else if(d===31){if(a=l(u),a!==null)return a;a=null}else if(d===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return sy=a,null}function fM(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qo()){case Ks:return 2;case vl:return 8;case so:case Yu:return 32;case bl:return 268435456;default:return 32}default:return 32}}var W_=!1,_a=null,wa=null,Ta=null,rh=new Map,ih=new Map,Ea=[],nW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function dM(a,u){switch(a){case"focusin":case"focusout":_a=null;break;case"dragenter":case"dragleave":wa=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":rh.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ih.delete(u.pointerId)}}function oh(a,u,d,m,w,T){return a===null||a.nativeEvent!==T?(a={blockedOn:u,domEventName:d,eventSystemFlags:m,nativeEvent:T,targetContainers:[w]},u!==null&&(u=ii(u),u!==null&&uM(u)),a):(a.eventSystemFlags|=m,u=a.targetContainers,w!==null&&u.indexOf(w)===-1&&u.push(w),a)}function rW(a,u,d,m,w){switch(u){case"focusin":return _a=oh(_a,a,u,d,m,w),!0;case"dragenter":return wa=oh(wa,a,u,d,m,w),!0;case"mouseover":return Ta=oh(Ta,a,u,d,m,w),!0;case"pointerover":var T=w.pointerId;return rh.set(T,oh(rh.get(T)||null,a,u,d,m,w)),!0;case"gotpointercapture":return T=w.pointerId,ih.set(T,oh(ih.get(T)||null,a,u,d,m,w)),!0}return!1}function hM(a){var u=po(a.target);if(u!==null){var d=o(u);if(d!==null){if(u=d.tag,u===13){if(u=s(d),u!==null){a.blockedOn=u,Oi(a.priority,function(){cM(d)});return}}else if(u===31){if(u=l(d),u!==null){a.blockedOn=u,Oi(a.priority,function(){cM(d)});return}}else if(u===3&&d.stateNode.current.memoizedState.isDehydrated){a.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}a.blockedOn=null}function ay(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var d=H_(a.nativeEvent);if(d===null){d=a.nativeEvent;var m=new d.constructor(d.type,d);vd=m,d.target.dispatchEvent(m),vd=null}else return u=ii(d),u!==null&&uM(u),a.blockedOn=d,!1;u.shift()}return!0}function pM(a,u,d){ay(a)&&d.delete(u)}function iW(){W_=!1,_a!==null&&ay(_a)&&(_a=null),wa!==null&&ay(wa)&&(wa=null),Ta!==null&&ay(Ta)&&(Ta=null),rh.forEach(pM),ih.forEach(pM)}function ly(a,u){a.blockedOn===u&&(a.blockedOn=null,W_||(W_=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iW)))}var uy=null;function mM(a){uy!==a&&(uy=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){uy===a&&(uy=null);for(var u=0;u<a.length;u+=3){var d=a[u],m=a[u+1],w=a[u+2];if(typeof m!="function"){if(K_(m||d)===null)continue;break}var T=ii(d);T!==null&&(a.splice(u,3),u-=3,Hx(T,{pending:!0,data:w,method:d.method,action:m},m,w))}}))}function Uc(a){function u(J){return ly(J,a)}_a!==null&&ly(_a,a),wa!==null&&ly(wa,a),Ta!==null&&ly(Ta,a),rh.forEach(u),ih.forEach(u);for(var d=0;d<Ea.length;d++){var m=Ea[d];m.blockedOn===a&&(m.blockedOn=null)}for(;0<Ea.length&&(d=Ea[0],d.blockedOn===null);)hM(d),d.blockedOn===null&&Ea.shift();if(d=(a.ownerDocument||a).$$reactFormReplay,d!=null)for(m=0;m<d.length;m+=3){var w=d[m],T=d[m+1],D=w[Dn]||null;if(typeof T=="function")D||mM(d);else if(D){var $=null;if(T&&T.hasAttribute("formAction")){if(w=T,D=T[Dn]||null)$=D.formAction;else if(K_(w)!==null)continue}else $=D.action;typeof $=="function"?d[m+1]=$:(d.splice(m,3),m-=3),mM(d)}}}function gM(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(D){return w=D})},focusReset:"manual",scroll:"manual"})}function u(){w!==null&&(w(),w=null),m||setTimeout(d,20)}function d(){if(!m&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var m=!1,w=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(d,100),function(){m=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),w!==null&&(w(),w=null)}}}function Y_(a){this._internalRoot=a}cy.prototype.render=Y_.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var d=u.current,m=Hr();aM(d,m,a,u,null,null)},cy.prototype.unmount=Y_.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;aM(a.current,2,null,a,null,null),$g(),u[fo]=null}};function cy(a){this._internalRoot=a}cy.prototype.unstable_scheduleHydration=function(a){if(a){var u=$m();a={blockedOn:null,target:a,priority:u};for(var d=0;d<Ea.length&&u!==0&&u<Ea[d].priority;d++);Ea.splice(d,0,a),d===0&&hM(a)}};var yM=e.version;if(yM!=="19.2.4")throw Error(r(527,yM,"19.2.4"));X.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(u),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var oW={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fy.isDisabled&&fy.supportsFiber)try{Ur=fy.inject(oW),$n=fy}catch{}}return ah.createRoot=function(a,u){if(!i(a))throw Error(r(299));var d=!1,m="",w=Ek,T=Sk,D=Ak;return u!=null&&(u.unstable_strictMode===!0&&(d=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(w=u.onUncaughtError),u.onCaughtError!==void 0&&(T=u.onCaughtError),u.onRecoverableError!==void 0&&(D=u.onRecoverableError)),u=oM(a,1,!1,null,null,d,m,null,w,T,D,gM),a[fo]=u.current,R_(a),new Y_(u)},ah.hydrateRoot=function(a,u,d){if(!i(a))throw Error(r(299));var m=!1,w="",T=Ek,D=Sk,$=Ak,J=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(w=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&($=d.onRecoverableError),d.formState!==void 0&&(J=d.formState)),u=oM(a,1,!0,u,d??null,m,w,J,T,D,$,gM),u.context=sM(null),d=u.current,m=Hr(),m=Tl(m),w=ua(m),w.callback=null,ca(d,w,m),d=m,u.current.lanes=d,_l(u,d),Io(u),a[fo]=u.current,R_(a),new cy(u)},ah.version="19.2.4",ah}var CM;function mW(){if(CM)return Q_.exports;CM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Q_.exports=pW(),Q_.exports}var gW=mW();const yW=Bt(gW);var Fe=(t=>(t.BUSINESS="BUSINESS",t.INFLUENCER="INFLUENCER",t.ADMIN="ADMIN",t))(Fe||{}),ar=(t=>(t.ACTIVE="ACTIVE",t.BANNED="BANNED",t.SHADOW_BANNED="SHADOW_BANNED",t))(ar||{}),lr=(t=>(t.VERIFIED="VERIFIED",t.PENDING="PENDING",t.UNVERIFIED="UNVERIFIED",t.REJECTED="REJECTED",t))(lr||{});const vW=()=>{};var IM={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},bW=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],l=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},$B={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,l=s?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=o>>2,p=(o&3)<<4|l>>4;let g=(l&15)<<2|f>>6,_=f&63;c||(_=64,s||(g=64)),r.push(n[h],n[p],n[g],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zB(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bW(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||l==null||f==null||p==null)throw new xW;const g=o<<2|l>>4;if(r.push(g),f!==64){const _=l<<4&240|f>>2;if(r.push(_),p!==64){const S=f<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class xW extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _W=function(t){const e=zB(t);return $B.encodeByteArray(e,!0)},cv=function(t){return _W(t).replace(/\./g,"")},GB=function(t){try{return $B.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TW=()=>wW().__FIREBASE_DEFAULTS__,EW=()=>{if(typeof process>"u"||typeof IM>"u")return;const t=IM.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SW=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GB(t[1]);return e&&JSON.parse(e)},V0=()=>{try{return vW()||TW()||EW()||SW()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},HB=t=>{var e,n;return(n=(e=V0())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},KB=t=>{const e=HB(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},WB=()=>{var t;return(t=V0())==null?void 0:t.config},YB=t=>{var e;return(e=V0())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function lI(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[cv(JSON.stringify(n)),cv(JSON.stringify(s)),""].join(".")}const jh={};function CW(){const t={prod:[],emulator:[]};for(const e of Object.keys(jh))jh[e]?t.emulator.push(e):t.prod.push(e);return t}function IW(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let NM=!1;function uI(t,e){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||jh[t]===e||jh[t]||NM)return;jh[t]=e;function n(g){return`__firebase__banner__${g}`}const r="__firebase__banner",o=CW().prod.length>0;function s(){const g=document.getElementById(r);g&&g.remove()}function l(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,_){g.setAttribute("width","24"),g.setAttribute("id",_),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function f(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{NM=!0,s()},g}function h(g,_){g.setAttribute("id",_),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=IW(r),_=n("text"),S=document.getElementById(_)||document.createElement("span"),A=n("learnmore"),E=document.getElementById(A)||document.createElement("a"),M=n("preprendIcon"),I=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const N=g.element;l(N),h(E,A);const C=f();c(I,M),N.append(I,S,E,C),document.body.appendChild(N)}o?(S.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",_)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NW(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hr())}function RW(){var e;const t=(e=V0())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PW(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kW(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MW(){const t=hr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OW(){return!RW()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function QB(){try{return typeof indexedDB=="object"}catch{return!1}}function ZB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}function DW(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LW="FirebaseError";class Pi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=LW,Object.setPrototypeOf(this,Pi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Du.prototype.create)}}class Du{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?UW(o,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Pi(i,l,r)}}function UW(t,e){return t.replace(VW,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VW=/\{\$([^}]+)}/g;function jW(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Wa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(RM(o)&&RM(s)){if(!Wa(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function RM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Sh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ah(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BW(t,e){const n=new FW(t,e);return n.subscribe.bind(n)}class FW{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qW(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nw),i.error===void 0&&(i.error=nw),i.complete===void 0&&(i.complete=nw);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qW(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nw(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zW=1e3,$W=2,GW=14400*1e3,HW=.5;function PM(t,e=zW,n=$W){const r=e*Math.pow(n,t),i=Math.round(HW*r*(Math.random()-.5)*2);return Math.min(GW,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t){return t&&t._delegate?t._delegate:t}class Ii{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new AW;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YW(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(o);r===l&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:WW(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function WW(t){return t===Ql?void 0:t}function YW(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KW(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const JW={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},QW=at.INFO,ZW={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},eY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZW[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class j0{constructor(e){this.name=e,this._logLevel=QW,this._logHandler=eY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?JW[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const tY=(t,e)=>e.some(n=>t instanceof n);let kM,MM;function nY(){return kM||(kM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rY(){return MM||(MM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eF=new WeakMap,FS=new WeakMap,tF=new WeakMap,rw=new WeakMap,cI=new WeakMap;function iY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(qa(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&eF.set(n,t)}).catch(()=>{}),cI.set(e,t),e}function oY(t){if(FS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});FS.set(t,e)}let qS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return FS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tF.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qa(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sY(t){qS=t(qS)}function aY(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(iw(this),e,...n);return tF.set(r,e.sort?e.sort():[e]),qa(r)}:rY().includes(t)?function(...e){return t.apply(iw(this),e),qa(eF.get(this))}:function(...e){return qa(t.apply(iw(this),e))}}function lY(t){return typeof t=="function"?aY(t):(t instanceof IDBTransaction&&oY(t),tY(t,nY())?new Proxy(t,qS):t)}function qa(t){if(t instanceof IDBRequest)return iY(t);if(rw.has(t))return rw.get(t);const e=lY(t);return e!==t&&(rw.set(t,e),cI.set(e,t)),e}const iw=t=>cI.get(t);function nF(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),l=qa(s);return r&&s.addEventListener("upgradeneeded",c=>{r(qa(s.result),c.oldVersion,c.newVersion,qa(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),l}const uY=["get","getKey","getAll","getAllKeys","count"],cY=["put","add","delete","clear"],ow=new Map;function OM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ow.get(e))return ow.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=cY.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uY.includes(n)))return;const o=async function(s,...l){const c=this.transaction(s,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return ow.set(e,o),o}sY(t=>({...t,get:(e,n,r)=>OM(e,n)||t.get(e,n,r),has:(e,n)=>!!OM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fY{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dY(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dY(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zS="@firebase/app",DM="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new j0("@firebase/app"),hY="@firebase/app-compat",pY="@firebase/analytics-compat",mY="@firebase/analytics",gY="@firebase/app-check-compat",yY="@firebase/app-check",vY="@firebase/auth",bY="@firebase/auth-compat",xY="@firebase/database",_Y="@firebase/data-connect",wY="@firebase/database-compat",TY="@firebase/functions",EY="@firebase/functions-compat",SY="@firebase/installations",AY="@firebase/installations-compat",CY="@firebase/messaging",IY="@firebase/messaging-compat",NY="@firebase/performance",RY="@firebase/performance-compat",PY="@firebase/remote-config",kY="@firebase/remote-config-compat",MY="@firebase/storage",OY="@firebase/storage-compat",DY="@firebase/firestore",LY="@firebase/ai",UY="@firebase/firestore-compat",VY="firebase",jY="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="[DEFAULT]",BY={[zS]:"fire-core",[hY]:"fire-core-compat",[mY]:"fire-analytics",[pY]:"fire-analytics-compat",[yY]:"fire-app-check",[gY]:"fire-app-check-compat",[vY]:"fire-auth",[bY]:"fire-auth-compat",[xY]:"fire-rtdb",[_Y]:"fire-data-connect",[wY]:"fire-rtdb-compat",[TY]:"fire-fn",[EY]:"fire-fn-compat",[SY]:"fire-iid",[AY]:"fire-iid-compat",[CY]:"fire-fcm",[IY]:"fire-fcm-compat",[NY]:"fire-perf",[RY]:"fire-perf-compat",[PY]:"fire-rc",[kY]:"fire-rc-compat",[MY]:"fire-gcs",[OY]:"fire-gcs-compat",[DY]:"fire-fst",[UY]:"fire-fst-compat",[LY]:"fire-vertex","fire-js":"fire-js",[VY]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp=new Map,FY=new Map,GS=new Map;function LM(t,e){try{t.container.addComponent(e)}catch(n){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function eo(t){const e=t.name;if(GS.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;GS.set(e,t);for(const n of sp.values())LM(n,t);for(const n of FY.values())LM(n,t);return!0}function ol(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qY={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new Du("app","Firebase",qY);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ii("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lu=jY;function rF(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:$S,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw za.create("bad-app-name",{appName:String(i)});if(n||(n=WB()),!n)throw za.create("no-options");const o=sp.get(i);if(o){if(Wa(n,o.options)&&Wa(r,o.config))return o;throw za.create("duplicate-app",{appName:i})}const s=new XW(i);for(const c of GS.values())s.addComponent(c);const l=new zY(n,r,s);return sp.set(i,l),l}function fm(t=$S){const e=sp.get(t);if(!e&&t===$S&&WB())return rF();if(!e)throw za.create("no-app",{appName:t});return e}function $Y(){return Array.from(sp.values())}function Mr(t,e,n){let r=BY[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(s.join(" "));return}eo(new Ii(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GY="firebase-heartbeat-database",HY=1,ap="firebase-heartbeat-store";let sw=null;function iF(){return sw||(sw=nF(GY,HY,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ap)}catch(n){console.warn(n)}}}}).catch(t=>{throw za.create("idb-open",{originalErrorMessage:t.message})})),sw}async function KY(t){try{const n=(await iF()).transaction(ap),r=await n.objectStore(ap).get(oF(t));return await n.done,r}catch(e){if(e instanceof Pi)Ms.warn(e.message);else{const n=za.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(n.message)}}}async function UM(t,e){try{const r=(await iF()).transaction(ap,"readwrite");await r.objectStore(ap).put(e,oF(t)),await r.done}catch(n){if(n instanceof Pi)Ms.warn(n.message);else{const r=za.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ms.warn(r.message)}}}function oF(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WY=1024,YY=30;class XY{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QY(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=VM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>YY){const s=ZY(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VM(),{heartbeatsToSend:r,unsentEntries:i}=JY(this._heartbeatsCache.heartbeats),o=cv(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ms.warn(n),""}}}function VM(){return new Date().toISOString().substring(0,10)}function JY(t,e=WY){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),jM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),jM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return QB()?ZB().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KY(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return UM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function jM(t){return cv(JSON.stringify({version:2,heartbeats:t})).length}function ZY(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(t){eo(new Ii("platform-logger",e=>new fY(e),"PRIVATE")),eo(new Ii("heartbeat",e=>new XY(e),"PRIVATE")),Mr(zS,DM,t),Mr(zS,DM,"esm2020"),Mr("fire-js","")}eX("");var BM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $a,sF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,O){function V(){}V.prototype=O.prototype,k.F=O.prototype,k.prototype=new V,k.prototype.constructor=k,k.D=function(F,q,z){for(var B=Array(arguments.length-2),Q=2;Q<arguments.length;Q++)B[Q-2]=arguments[Q];return O.prototype[q].apply(F,B)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,O,V){V||(V=0);const F=Array(16);if(typeof O=="string")for(var q=0;q<16;++q)F[q]=O.charCodeAt(V++)|O.charCodeAt(V++)<<8|O.charCodeAt(V++)<<16|O.charCodeAt(V++)<<24;else for(q=0;q<16;++q)F[q]=O[V++]|O[V++]<<8|O[V++]<<16|O[V++]<<24;O=k.g[0],V=k.g[1],q=k.g[2];let z=k.g[3],B;B=O+(z^V&(q^z))+F[0]+3614090360&4294967295,O=V+(B<<7&4294967295|B>>>25),B=z+(q^O&(V^q))+F[1]+3905402710&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(V^z&(O^V))+F[2]+606105819&4294967295,q=z+(B<<17&4294967295|B>>>15),B=V+(O^q&(z^O))+F[3]+3250441966&4294967295,V=q+(B<<22&4294967295|B>>>10),B=O+(z^V&(q^z))+F[4]+4118548399&4294967295,O=V+(B<<7&4294967295|B>>>25),B=z+(q^O&(V^q))+F[5]+1200080426&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(V^z&(O^V))+F[6]+2821735955&4294967295,q=z+(B<<17&4294967295|B>>>15),B=V+(O^q&(z^O))+F[7]+4249261313&4294967295,V=q+(B<<22&4294967295|B>>>10),B=O+(z^V&(q^z))+F[8]+1770035416&4294967295,O=V+(B<<7&4294967295|B>>>25),B=z+(q^O&(V^q))+F[9]+2336552879&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(V^z&(O^V))+F[10]+4294925233&4294967295,q=z+(B<<17&4294967295|B>>>15),B=V+(O^q&(z^O))+F[11]+2304563134&4294967295,V=q+(B<<22&4294967295|B>>>10),B=O+(z^V&(q^z))+F[12]+1804603682&4294967295,O=V+(B<<7&4294967295|B>>>25),B=z+(q^O&(V^q))+F[13]+4254626195&4294967295,z=O+(B<<12&4294967295|B>>>20),B=q+(V^z&(O^V))+F[14]+2792965006&4294967295,q=z+(B<<17&4294967295|B>>>15),B=V+(O^q&(z^O))+F[15]+1236535329&4294967295,V=q+(B<<22&4294967295|B>>>10),B=O+(q^z&(V^q))+F[1]+4129170786&4294967295,O=V+(B<<5&4294967295|B>>>27),B=z+(V^q&(O^V))+F[6]+3225465664&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^V&(z^O))+F[11]+643717713&4294967295,q=z+(B<<14&4294967295|B>>>18),B=V+(z^O&(q^z))+F[0]+3921069994&4294967295,V=q+(B<<20&4294967295|B>>>12),B=O+(q^z&(V^q))+F[5]+3593408605&4294967295,O=V+(B<<5&4294967295|B>>>27),B=z+(V^q&(O^V))+F[10]+38016083&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^V&(z^O))+F[15]+3634488961&4294967295,q=z+(B<<14&4294967295|B>>>18),B=V+(z^O&(q^z))+F[4]+3889429448&4294967295,V=q+(B<<20&4294967295|B>>>12),B=O+(q^z&(V^q))+F[9]+568446438&4294967295,O=V+(B<<5&4294967295|B>>>27),B=z+(V^q&(O^V))+F[14]+3275163606&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^V&(z^O))+F[3]+4107603335&4294967295,q=z+(B<<14&4294967295|B>>>18),B=V+(z^O&(q^z))+F[8]+1163531501&4294967295,V=q+(B<<20&4294967295|B>>>12),B=O+(q^z&(V^q))+F[13]+2850285829&4294967295,O=V+(B<<5&4294967295|B>>>27),B=z+(V^q&(O^V))+F[2]+4243563512&4294967295,z=O+(B<<9&4294967295|B>>>23),B=q+(O^V&(z^O))+F[7]+1735328473&4294967295,q=z+(B<<14&4294967295|B>>>18),B=V+(z^O&(q^z))+F[12]+2368359562&4294967295,V=q+(B<<20&4294967295|B>>>12),B=O+(V^q^z)+F[5]+4294588738&4294967295,O=V+(B<<4&4294967295|B>>>28),B=z+(O^V^q)+F[8]+2272392833&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^V)+F[11]+1839030562&4294967295,q=z+(B<<16&4294967295|B>>>16),B=V+(q^z^O)+F[14]+4259657740&4294967295,V=q+(B<<23&4294967295|B>>>9),B=O+(V^q^z)+F[1]+2763975236&4294967295,O=V+(B<<4&4294967295|B>>>28),B=z+(O^V^q)+F[4]+1272893353&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^V)+F[7]+4139469664&4294967295,q=z+(B<<16&4294967295|B>>>16),B=V+(q^z^O)+F[10]+3200236656&4294967295,V=q+(B<<23&4294967295|B>>>9),B=O+(V^q^z)+F[13]+681279174&4294967295,O=V+(B<<4&4294967295|B>>>28),B=z+(O^V^q)+F[0]+3936430074&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^V)+F[3]+3572445317&4294967295,q=z+(B<<16&4294967295|B>>>16),B=V+(q^z^O)+F[6]+76029189&4294967295,V=q+(B<<23&4294967295|B>>>9),B=O+(V^q^z)+F[9]+3654602809&4294967295,O=V+(B<<4&4294967295|B>>>28),B=z+(O^V^q)+F[12]+3873151461&4294967295,z=O+(B<<11&4294967295|B>>>21),B=q+(z^O^V)+F[15]+530742520&4294967295,q=z+(B<<16&4294967295|B>>>16),B=V+(q^z^O)+F[2]+3299628645&4294967295,V=q+(B<<23&4294967295|B>>>9),B=O+(q^(V|~z))+F[0]+4096336452&4294967295,O=V+(B<<6&4294967295|B>>>26),B=z+(V^(O|~q))+F[7]+1126891415&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~V))+F[14]+2878612391&4294967295,q=z+(B<<15&4294967295|B>>>17),B=V+(z^(q|~O))+F[5]+4237533241&4294967295,V=q+(B<<21&4294967295|B>>>11),B=O+(q^(V|~z))+F[12]+1700485571&4294967295,O=V+(B<<6&4294967295|B>>>26),B=z+(V^(O|~q))+F[3]+2399980690&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~V))+F[10]+4293915773&4294967295,q=z+(B<<15&4294967295|B>>>17),B=V+(z^(q|~O))+F[1]+2240044497&4294967295,V=q+(B<<21&4294967295|B>>>11),B=O+(q^(V|~z))+F[8]+1873313359&4294967295,O=V+(B<<6&4294967295|B>>>26),B=z+(V^(O|~q))+F[15]+4264355552&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~V))+F[6]+2734768916&4294967295,q=z+(B<<15&4294967295|B>>>17),B=V+(z^(q|~O))+F[13]+1309151649&4294967295,V=q+(B<<21&4294967295|B>>>11),B=O+(q^(V|~z))+F[4]+4149444226&4294967295,O=V+(B<<6&4294967295|B>>>26),B=z+(V^(O|~q))+F[11]+3174756917&4294967295,z=O+(B<<10&4294967295|B>>>22),B=q+(O^(z|~V))+F[2]+718787259&4294967295,q=z+(B<<15&4294967295|B>>>17),B=V+(z^(q|~O))+F[9]+3951481745&4294967295,k.g[0]=k.g[0]+O&4294967295,k.g[1]=k.g[1]+(q+(B<<21&4294967295|B>>>11))&4294967295,k.g[2]=k.g[2]+q&4294967295,k.g[3]=k.g[3]+z&4294967295}r.prototype.v=function(k,O){O===void 0&&(O=k.length);const V=O-this.blockSize,F=this.C;let q=this.h,z=0;for(;z<O;){if(q==0)for(;z<=V;)i(this,k,z),z+=this.blockSize;if(typeof k=="string"){for(;z<O;)if(F[q++]=k.charCodeAt(z++),q==this.blockSize){i(this,F),q=0;break}}else for(;z<O;)if(F[q++]=k[z++],q==this.blockSize){i(this,F),q=0;break}}this.h=q,this.o+=O},r.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var O=1;O<k.length-8;++O)k[O]=0;O=this.o*8;for(var V=k.length-8;V<k.length;++V)k[V]=O&255,O/=256;for(this.v(k),k=Array(16),O=0,V=0;V<4;++V)for(let F=0;F<32;F+=8)k[O++]=this.g[V]>>>F&255;return k};function o(k,O){var V=l;return Object.prototype.hasOwnProperty.call(V,k)?V[k]:V[k]=O(k)}function s(k,O){this.h=O;const V=[];let F=!0;for(let q=k.length-1;q>=0;q--){const z=k[q]|0;F&&z==O||(V[q]=z,F=!1)}this.g=V}var l={};function c(k){return-128<=k&&k<128?o(k,function(O){return new s([O|0],O<0?-1:0)}):new s([k|0],k<0?-1:0)}function f(k){if(isNaN(k)||!isFinite(k))return p;if(k<0)return E(f(-k));const O=[];let V=1;for(let F=0;k>=V;F++)O[F]=k/V|0,V*=4294967296;return new s(O,0)}function h(k,O){if(k.length==0)throw Error("number format error: empty string");if(O=O||10,O<2||36<O)throw Error("radix out of range: "+O);if(k.charAt(0)=="-")return E(h(k.substring(1),O));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const V=f(Math.pow(O,8));let F=p;for(let z=0;z<k.length;z+=8){var q=Math.min(8,k.length-z);const B=parseInt(k.substring(z,z+q),O);q<8?(q=f(Math.pow(O,q)),F=F.j(q).add(f(B))):(F=F.j(V),F=F.add(f(B)))}return F}var p=c(0),g=c(1),_=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-E(this).m();let k=0,O=1;for(let V=0;V<this.g.length;V++){const F=this.i(V);k+=(F>=0?F:4294967296+F)*O,O*=4294967296}return k},t.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(S(this))return"0";if(A(this))return"-"+E(this).toString(k);const O=f(Math.pow(k,6));var V=this;let F="";for(;;){const q=C(V,O).g;V=M(V,q.j(O));let z=((V.g.length>0?V.g[0]:V.h)>>>0).toString(k);if(V=q,S(V))return z+F;for(;z.length<6;)z="0"+z;F=z+F}},t.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function S(k){if(k.h!=0)return!1;for(let O=0;O<k.g.length;O++)if(k.g[O]!=0)return!1;return!0}function A(k){return k.h==-1}t.l=function(k){return k=M(this,k),A(k)?-1:S(k)?0:1};function E(k){const O=k.g.length,V=[];for(let F=0;F<O;F++)V[F]=~k.g[F];return new s(V,~k.h).add(g)}t.abs=function(){return A(this)?E(this):this},t.add=function(k){const O=Math.max(this.g.length,k.g.length),V=[];let F=0;for(let q=0;q<=O;q++){let z=F+(this.i(q)&65535)+(k.i(q)&65535),B=(z>>>16)+(this.i(q)>>>16)+(k.i(q)>>>16);F=B>>>16,z&=65535,B&=65535,V[q]=B<<16|z}return new s(V,V[V.length-1]&-2147483648?-1:0)};function M(k,O){return k.add(E(O))}t.j=function(k){if(S(this)||S(k))return p;if(A(this))return A(k)?E(this).j(E(k)):E(E(this).j(k));if(A(k))return E(this.j(E(k)));if(this.l(_)<0&&k.l(_)<0)return f(this.m()*k.m());const O=this.g.length+k.g.length,V=[];for(var F=0;F<2*O;F++)V[F]=0;for(F=0;F<this.g.length;F++)for(let q=0;q<k.g.length;q++){const z=this.i(F)>>>16,B=this.i(F)&65535,Q=k.i(q)>>>16,oe=k.i(q)&65535;V[2*F+2*q]+=B*oe,I(V,2*F+2*q),V[2*F+2*q+1]+=z*oe,I(V,2*F+2*q+1),V[2*F+2*q+1]+=B*Q,I(V,2*F+2*q+1),V[2*F+2*q+2]+=z*Q,I(V,2*F+2*q+2)}for(k=0;k<O;k++)V[k]=V[2*k+1]<<16|V[2*k];for(k=O;k<2*O;k++)V[k]=0;return new s(V,0)};function I(k,O){for(;(k[O]&65535)!=k[O];)k[O+1]+=k[O]>>>16,k[O]&=65535,O++}function N(k,O){this.g=k,this.h=O}function C(k,O){if(S(O))throw Error("division by zero");if(S(k))return new N(p,p);if(A(k))return O=C(E(k),O),new N(E(O.g),E(O.h));if(A(O))return O=C(k,E(O)),new N(E(O.g),O.h);if(k.g.length>30){if(A(k)||A(O))throw Error("slowDivide_ only works with positive integers.");for(var V=g,F=O;F.l(k)<=0;)V=R(V),F=R(F);var q=U(V,1),z=U(F,1);for(F=U(F,2),V=U(V,2);!S(F);){var B=z.add(F);B.l(k)<=0&&(q=q.add(V),z=B),F=U(F,1),V=U(V,1)}return O=M(k,q.j(O)),new N(q,O)}for(q=p;k.l(O)>=0;){for(V=Math.max(1,Math.floor(k.m()/O.m())),F=Math.ceil(Math.log(V)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),z=f(V),B=z.j(O);A(B)||B.l(k)>0;)V-=F,z=f(V),B=z.j(O);S(z)&&(z=g),q=q.add(z),k=M(k,B)}return new N(q,k)}t.B=function(k){return C(this,k).h},t.and=function(k){const O=Math.max(this.g.length,k.g.length),V=[];for(let F=0;F<O;F++)V[F]=this.i(F)&k.i(F);return new s(V,this.h&k.h)},t.or=function(k){const O=Math.max(this.g.length,k.g.length),V=[];for(let F=0;F<O;F++)V[F]=this.i(F)|k.i(F);return new s(V,this.h|k.h)},t.xor=function(k){const O=Math.max(this.g.length,k.g.length),V=[];for(let F=0;F<O;F++)V[F]=this.i(F)^k.i(F);return new s(V,this.h^k.h)};function R(k){const O=k.g.length+1,V=[];for(let F=0;F<O;F++)V[F]=k.i(F)<<1|k.i(F-1)>>>31;return new s(V,k.h)}function U(k,O){const V=O>>5;O%=32;const F=k.g.length-V,q=[];for(let z=0;z<F;z++)q[z]=O>0?k.i(z+V)>>>O|k.i(z+V+1)<<32-O:k.i(z+V);return new s(q,k.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,sF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=f,s.fromString=h,$a=s}).apply(typeof BM<"u"?BM:typeof self<"u"?self:typeof window<"u"?window:{});var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aF,Ch,lF,Ky,HS,uF,cF,fF;(function(){var t,e=Object.defineProperty;function n(x){x=[typeof globalThis=="object"&&globalThis,x,typeof window=="object"&&window,typeof self=="object"&&self,typeof hy=="object"&&hy];for(var P=0;P<x.length;++P){var j=x[P];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(x,P){if(P)e:{var j=r;x=x.split(".");for(var H=0;H<x.length-1;H++){var ie=x[H];if(!(ie in j))break e;j=j[ie]}x=x[x.length-1],H=j[x],P=P(H),P!=H&&P!=null&&e(j,x,{configurable:!0,writable:!0,value:P})}}i("Symbol.dispose",function(x){return x||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(x){return x||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(x){return x||function(P){var j=[],H;for(H in P)Object.prototype.hasOwnProperty.call(P,H)&&j.push([H,P[H]]);return j}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function l(x){var P=typeof x;return P=="object"&&x!=null||P=="function"}function c(x,P,j){return x.call.apply(x.bind,arguments)}function f(x,P,j){return f=c,f.apply(null,arguments)}function h(x,P){var j=Array.prototype.slice.call(arguments,1);return function(){var H=j.slice();return H.push.apply(H,arguments),x.apply(this,H)}}function p(x,P){function j(){}j.prototype=P.prototype,x.Z=P.prototype,x.prototype=new j,x.prototype.constructor=x,x.Ob=function(H,ie,fe){for(var Ne=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)Ne[Ze-2]=arguments[Ze];return P.prototype[ie].apply(H,Ne)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?x=>x&&AsyncContext.Snapshot.wrap(x):x=>x;function _(x){const P=x.length;if(P>0){const j=Array(P);for(let H=0;H<P;H++)j[H]=x[H];return j}return[]}function S(x,P){for(let H=1;H<arguments.length;H++){const ie=arguments[H];var j=typeof ie;if(j=j!="object"?j:ie?Array.isArray(ie)?"array":j:"null",j=="array"||j=="object"&&typeof ie.length=="number"){j=x.length||0;const fe=ie.length||0;x.length=j+fe;for(let Ne=0;Ne<fe;Ne++)x[j+Ne]=ie[Ne]}else x.push(ie)}}class A{constructor(P,j){this.i=P,this.j=j,this.h=0,this.g=null}get(){let P;return this.h>0?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}function E(x){s.setTimeout(()=>{throw x},0)}function M(){var x=k;let P=null;return x.g&&(P=x.g,x.g=x.g.next,x.g||(x.h=null),P.next=null),P}class I{constructor(){this.h=this.g=null}add(P,j){const H=N.get();H.set(P,j),this.h?this.h.next=H:this.g=H,this.h=H}}var N=new A(()=>new C,x=>x.reset());class C{constructor(){this.next=this.g=this.h=null}set(P,j){this.h=P,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let R,U=!1,k=new I,O=()=>{const x=Promise.resolve(void 0);R=()=>{x.then(V)}};function V(){for(var x;x=M();){try{x.h.call(x.g)}catch(j){E(j)}var P=N;P.j(x),P.h<100&&(P.h++,x.next=P.g,P.g=x)}U=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function q(x,P){this.type=x,this.g=this.target=P,this.defaultPrevented=!1}q.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var x=!1,P=Object.defineProperty({},"passive",{get:function(){x=!0}});try{const j=()=>{};s.addEventListener("test",j,P),s.removeEventListener("test",j,P)}catch{}return x})();function B(x){return/^[\s\xa0]*$/.test(x)}function Q(x,P){q.call(this,x?x.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,x&&this.init(x,P)}p(Q,q),Q.prototype.init=function(x,P){const j=this.type=x.type,H=x.changedTouches&&x.changedTouches.length?x.changedTouches[0]:null;this.target=x.target||x.srcElement,this.g=P,P=x.relatedTarget,P||(j=="mouseover"?P=x.fromElement:j=="mouseout"&&(P=x.toElement)),this.relatedTarget=P,H?(this.clientX=H.clientX!==void 0?H.clientX:H.pageX,this.clientY=H.clientY!==void 0?H.clientY:H.pageY,this.screenX=H.screenX||0,this.screenY=H.screenY||0):(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0),this.button=x.button,this.key=x.key||"",this.ctrlKey=x.ctrlKey,this.altKey=x.altKey,this.shiftKey=x.shiftKey,this.metaKey=x.metaKey,this.pointerId=x.pointerId||0,this.pointerType=x.pointerType,this.state=x.state,this.i=x,x.defaultPrevented&&Q.Z.h.call(this)},Q.prototype.h=function(){Q.Z.h.call(this);const x=this.i;x.preventDefault?x.preventDefault():x.returnValue=!1};var oe="closure_listenable_"+(Math.random()*1e6|0),K=0;function X(x,P,j,H,ie){this.listener=x,this.proxy=null,this.src=P,this.type=j,this.capture=!!H,this.ha=ie,this.key=++K,this.da=this.fa=!1}function te(x){x.da=!0,x.listener=null,x.proxy=null,x.src=null,x.ha=null}function ce(x,P,j){for(const H in x)P.call(j,x[H],H,x)}function Y(x,P){for(const j in x)P.call(void 0,x[j],j,x)}function L(x){const P={};for(const j in x)P[j]=x[j];return P}const G="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ee(x,P){let j,H;for(let ie=1;ie<arguments.length;ie++){H=arguments[ie];for(j in H)x[j]=H[j];for(let fe=0;fe<G.length;fe++)j=G[fe],Object.prototype.hasOwnProperty.call(H,j)&&(x[j]=H[j])}}function ae(x){this.src=x,this.g={},this.h=0}ae.prototype.add=function(x,P,j,H,ie){const fe=x.toString();x=this.g[fe],x||(x=this.g[fe]=[],this.h++);const Ne=we(x,P,H,ie);return Ne>-1?(P=x[Ne],j||(P.fa=!1)):(P=new X(P,this.src,fe,!!H,ie),P.fa=j,x.push(P)),P};function ge(x,P){const j=P.type;if(j in x.g){var H=x.g[j],ie=Array.prototype.indexOf.call(H,P,void 0),fe;(fe=ie>=0)&&Array.prototype.splice.call(H,ie,1),fe&&(te(P),x.g[j].length==0&&(delete x.g[j],x.h--))}}function we(x,P,j,H){for(let ie=0;ie<x.length;++ie){const fe=x[ie];if(!fe.da&&fe.listener==P&&fe.capture==!!j&&fe.ha==H)return ie}return-1}var Te="closure_lm_"+(Math.random()*1e6|0),Re={};function pe(x,P,j,H,ie){if(Array.isArray(P)){for(let fe=0;fe<P.length;fe++)pe(x,P[fe],j,H,ie);return null}return j=It(j),x&&x[oe]?x.J(P,j,l(H)?!!H.capture:!1,ie):Ce(x,P,j,!1,H,ie)}function Ce(x,P,j,H,ie,fe){if(!P)throw Error("Invalid event type");const Ne=l(ie)?!!ie.capture:!!ie;let Ze=We(x);if(Ze||(x[Te]=Ze=new ae(x)),j=Ze.add(P,j,H,Ne,fe),j.proxy)return j;if(H=Ie(),j.proxy=H,H.src=x,H.listener=j,x.addEventListener)z||(ie=Ne),ie===void 0&&(ie=!1),x.addEventListener(P.toString(),H,ie);else if(x.attachEvent)x.attachEvent(Ee(P.toString()),H);else if(x.addListener&&x.removeListener)x.addListener(H);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Ie(){function x(j){return P.call(x.src,x.listener,j)}const P=Ve;return x}function he(x,P,j,H,ie){if(Array.isArray(P))for(var fe=0;fe<P.length;fe++)he(x,P[fe],j,H,ie);else H=l(H)?!!H.capture:!!H,j=It(j),x&&x[oe]?(x=x.i,fe=String(P).toString(),fe in x.g&&(P=x.g[fe],j=we(P,j,H,ie),j>-1&&(te(P[j]),Array.prototype.splice.call(P,j,1),P.length==0&&(delete x.g[fe],x.h--)))):x&&(x=We(x))&&(P=x.g[P.toString()],x=-1,P&&(x=we(P,j,H,ie)),(j=x>-1?P[x]:null)&&Se(j))}function Se(x){if(typeof x!="number"&&x&&!x.da){var P=x.src;if(P&&P[oe])ge(P.i,x);else{var j=x.type,H=x.proxy;P.removeEventListener?P.removeEventListener(j,H,x.capture):P.detachEvent?P.detachEvent(Ee(j),H):P.addListener&&P.removeListener&&P.removeListener(H),(j=We(P))?(ge(j,x),j.h==0&&(j.src=null,P[Te]=null)):te(x)}}}function Ee(x){return x in Re?Re[x]:Re[x]="on"+x}function Ve(x,P){if(x.da)x=!0;else{P=new Q(P,this);const j=x.listener,H=x.ha||x.src;x.fa&&Se(x),x=j.call(H,P)}return x}function We(x){return x=x[Te],x instanceof ae?x:null}var dt="__closure_events_fn_"+(Math.random()*1e9>>>0);function It(x){return typeof x=="function"?x:(x[dt]||(x[dt]=function(P){return x.handleEvent(P)}),x[dt])}function mt(){F.call(this),this.i=new ae(this),this.M=this,this.G=null}p(mt,F),mt.prototype[oe]=!0,mt.prototype.removeEventListener=function(x,P,j,H){he(this,x,P,j,H)};function nt(x,P){var j,H=x.G;if(H)for(j=[];H;H=H.G)j.push(H);if(x=x.M,H=P.type||P,typeof P=="string")P=new q(P,x);else if(P instanceof q)P.target=P.target||x;else{var ie=P;P=new q(H,x),ee(P,ie)}ie=!0;let fe,Ne;if(j)for(Ne=j.length-1;Ne>=0;Ne--)fe=P.g=j[Ne],ie=On(fe,H,!0,P)&&ie;if(fe=P.g=x,ie=On(fe,H,!0,P)&&ie,ie=On(fe,H,!1,P)&&ie,j)for(Ne=0;Ne<j.length;Ne++)fe=P.g=j[Ne],ie=On(fe,H,!1,P)&&ie}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var x=this.i;for(const P in x.g){const j=x.g[P];for(let H=0;H<j.length;H++)te(j[H]);delete x.g[P],x.h--}}this.G=null},mt.prototype.J=function(x,P,j,H){return this.i.add(String(x),P,!1,j,H)},mt.prototype.K=function(x,P,j,H){return this.i.add(String(x),P,!0,j,H)};function On(x,P,j,H){if(P=x.i.g[String(P)],!P)return!0;P=P.concat();let ie=!0;for(let fe=0;fe<P.length;++fe){const Ne=P[fe];if(Ne&&!Ne.da&&Ne.capture==j){const Ze=Ne.listener,cn=Ne.ha||Ne.src;Ne.fa&&ge(x.i,Ne),ie=Ze.call(cn,H)!==!1&&ie}}return ie&&!H.defaultPrevented}function Xo(x,P){if(typeof x!="function")if(x&&typeof x.handleEvent=="function")x=f(x.handleEvent,x);else throw Error("Invalid listener argument");return Number(P)>2147483647?-1:s.setTimeout(x,P||0)}function Jo(x){x.g=Xo(()=>{x.g=null,x.i&&(x.i=!1,Jo(x))},x.l);const P=x.h;x.h=null,x.m.apply(null,P)}class ln extends F{constructor(P,j){super(),this.m=P,this.l=j,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Jo(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qo(x){F.call(this),this.h=x,this.g={}}p(Qo,F);var Ks=[];function vl(x){ce(x.g,function(P,j){this.g.hasOwnProperty(j)&&Se(P)},x),x.g={}}Qo.prototype.N=function(){Qo.Z.N.call(this),vl(this)},Qo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var so=s.JSON.stringify,Yu=s.JSON.parse,bl=class{stringify(x){return s.JSON.stringify(x,void 0)}parse(x){return s.JSON.parse(x,void 0)}};function Ws(){}function Xu(){}var Ur={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function $n(){q.call(this,"d")}p($n,q);function ri(){q.call(this,"c")}p(ri,q);var un={},Fm=null;function Ju(){return Fm=Fm||new mt}un.Ia="serverreachability";function qm(x){q.call(this,un.Ia,x)}p(qm,q);function ao(x){const P=Ju();nt(P,new qm(P))}un.STAT_EVENT="statevent";function xl(x,P){q.call(this,un.STAT_EVENT,x),this.stat=P}p(xl,q);function gn(x){const P=Ju();nt(P,new xl(P,x))}un.Ja="timingevent";function lo(x,P){q.call(this,un.Ja,x),this.size=P}p(lo,q);function uo(x,P){if(typeof x!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){x()},P)}function Mi(){this.g=!0}Mi.prototype.ua=function(){this.g=!1};function ex(x,P,j,H,ie,fe){x.info(function(){if(x.g)if(fe){var Ne="",Ze=fe.split("&");for(let Tt=0;Tt<Ze.length;Tt++){var cn=Ze[Tt].split("=");if(cn.length>1){const Yt=cn[0];cn=cn[1];const ai=Yt.split("_");Ne=ai.length>=2&&ai[1]=="type"?Ne+(Yt+"="+cn+"&"):Ne+(Yt+"=redacted&")}}}else Ne=null;else Ne=fe;return"XMLHTTP REQ ("+H+") [attempt "+ie+"]: "+P+`
`+j+`
`+Ne})}function zm(x,P,j,H,ie,fe,Ne){x.info(function(){return"XMLHTTP RESP ("+H+") [ attempt "+ie+"]: "+P+`
`+j+`
`+fe+" "+Ne})}function co(x,P,j,H){x.info(function(){return"XMLHTTP TEXT ("+P+"): "+tx(x,j)+(H?" "+H:"")})}function _l(x,P){x.info(function(){return"TIMEOUT: "+P})}Mi.prototype.info=function(){};function tx(x,P){if(!x.g)return P;if(!P)return null;try{const fe=JSON.parse(P);if(fe){for(x=0;x<fe.length;x++)if(Array.isArray(fe[x])){var j=fe[x];if(!(j.length<2)){var H=j[1];if(Array.isArray(H)&&!(H.length<1)){var ie=H[0];if(ie!="noop"&&ie!="stop"&&ie!="close")for(let Ne=1;Ne<H.length;Ne++)H[Ne]=""}}}}return so(fe)}catch{return P}}var wl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ad={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ld;function Tl(){}p(Tl,Ws),Tl.prototype.g=function(){return new XMLHttpRequest},ld=new Tl;function Zo(x){return encodeURIComponent(String(x))}function $m(x){var P=1;x=x.split(":");const j=[];for(;P>0&&x.length;)j.push(x.shift()),P--;return x.length&&j.push(x.join(":")),j}function Oi(x,P,j,H){this.j=x,this.i=P,this.l=j,this.S=H||1,this.V=new Qo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Di}function Di(){this.i=null,this.g="",this.h=!1}var yn={},Dn={};function fo(x,P,j){x.M=1,x.A=El(bn(P)),x.u=j,x.R=!0,Qu(x,null)}function Qu(x,P){x.F=Date.now(),ho(x),x.B=bn(x.A);var j=x.B,H=x.S;Array.isArray(H)||(H=[String(H)]),nc(j.i,"t",H),x.C=0,j=x.j.L,x.h=new Di,x.g=og(x.j,j?P:null,!x.u),x.P>0&&(x.O=new ln(f(x.Y,x,x.g),x.P)),P=x.V,j=x.g,H=x.ba;var ie="readystatechange";Array.isArray(ie)||(ie&&(Ks[0]=ie.toString()),ie=Ks);for(let fe=0;fe<ie.length;fe++){const Ne=pe(j,ie[fe],H||P.handleEvent,!1,P.h||P);if(!Ne)break;P.g[Ne.key]=Ne}P=x.J?L(x.J):{},x.u?(x.v||(x.v="POST"),P["Content-Type"]="application/x-www-form-urlencoded",x.g.ea(x.B,x.v,x.u,P)):(x.v="GET",x.g.ea(x.B,x.v,null,P)),ao(),ex(x.i,x.v,x.B,x.l,x.S,x.u)}Oi.prototype.ba=function(x){x=x.target;const P=this.O;P&&Vi(x)==3?P.j():this.Y(x)},Oi.prototype.Y=function(x){try{if(x==this.g)e:{const Ze=Vi(this.g),cn=this.g.ya(),Tt=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||Gn(this.g)))){this.K||Ze!=4||cn==7||(cn==8||Tt<=0?ao(3):ao(2)),po(this);var P=this.g.ca();this.X=P;var j=nx(this);if(this.o=P==200,zm(this.i,this.v,this.B,this.l,this.S,Ze,P),this.o){if(this.U&&!this.L){t:{if(this.g){var H,ie=this.g;if((H=ie.g?ie.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(H)){var fe=H;break t}}fe=null}if(x=fe)co(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mo(this,x);else{this.o=!1,this.m=3,gn(12),Vr(this),ii(this);break e}}if(this.R){x=!0;let Yt;for(;!this.K&&this.C<j.length;)if(Yt=Hm(this,j),Yt==Dn){Ze==4&&(this.m=4,gn(14),x=!1),co(this.i,this.l,null,"[Incomplete Response]");break}else if(Yt==yn){this.m=4,gn(15),co(this.i,this.l,j,"[Invalid Chunk]"),x=!1;break}else co(this.i,this.l,Yt,null),mo(this,Yt);if(Gm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||j.length!=0||this.h.h||(this.m=1,gn(16),x=!1),this.o=this.o&&x,!x)co(this.i,this.l,j,"[Invalid Chunked Response]"),Vr(this),ii(this);else if(j.length>0&&!this.W){this.W=!0;var Ne=this.j;Ne.g==this&&Ne.aa&&!Ne.P&&(Ne.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),Td(Ne),Ne.P=!0,gn(11))}}else co(this.i,this.l,j,null),mo(this,j);Ze==4&&Vr(this),this.o&&!this.K&&(Ze==4?tg(this.j,this):(this.o=!1,ho(this)))}else ts(this.g),P==400&&j.indexOf("Unknown SID")>0?(this.m=3,gn(12)):(this.m=0,gn(13)),Vr(this),ii(this)}}}catch{}finally{}};function nx(x){if(!Gm(x))return x.g.la();const P=Gn(x.g);if(P==="")return"";let j="";const H=P.length,ie=Vi(x.g)==4;if(!x.h.i){if(typeof TextDecoder>"u")return Vr(x),ii(x),"";x.h.i=new s.TextDecoder}for(let fe=0;fe<H;fe++)x.h.h=!0,j+=x.h.i.decode(P[fe],{stream:!(ie&&fe==H-1)});return P.length=0,x.h.g+=j,x.C=0,x.h.g}function Gm(x){return x.g?x.v=="GET"&&x.M!=2&&x.j.Aa:!1}function Hm(x,P){var j=x.C,H=P.indexOf(`
`,j);return H==-1?Dn:(j=Number(P.substring(j,H)),isNaN(j)?yn:(H+=1,H+j>P.length?Dn:(P=P.slice(H,H+j),x.C=H+j,P)))}Oi.prototype.cancel=function(){this.K=!0,Vr(this)};function ho(x){x.T=Date.now()+x.H,Zu(x,x.H)}function Zu(x,P){if(x.D!=null)throw Error("WatchDog timer not null");x.D=uo(f(x.aa,x),P)}function po(x){x.D&&(s.clearTimeout(x.D),x.D=null)}Oi.prototype.aa=function(){this.D=null;const x=Date.now();x-this.T>=0?(_l(this.i,this.B),this.M!=2&&(ao(),gn(17)),Vr(this),this.m=2,ii(this)):Zu(this,this.T-x)};function ii(x){x.j.I==0||x.K||tg(x.j,x)}function Vr(x){po(x);var P=x.O;P&&typeof P.dispose=="function"&&P.dispose(),x.O=null,vl(x.V),x.g&&(P=x.g,x.g=null,P.abort(),P.dispose())}function mo(x,P){try{var j=x.j;if(j.I!=0&&(j.g==x||yo(j.h,x))){if(!x.L&&yo(j.h,x)&&j.I==3){try{var H=j.Ba.g.parse(P)}catch{H=null}if(Array.isArray(H)&&H.length==3){var ie=H;if(ie[0]==0){e:if(!j.v){if(j.g)if(j.g.F+3e3<x.F)ac(j),na(j);else break e;Pl(j),gn(18)}}else j.xa=ie[1],0<j.xa-j.K&&ie[2]<37500&&j.F&&j.A==0&&!j.C&&(j.C=uo(f(j.Va,j),6e3));go(j.h)<=1&&j.ta&&(j.ta=void 0)}else To(j,11)}else if((x.L||j.g==x)&&ac(j),!B(P))for(ie=j.Ba.g.parse(P),P=0;P<ie.length;P++){let Tt=ie[P];const Yt=Tt[0];if(!(Yt<=j.K))if(j.K=Yt,Tt=Tt[1],j.I==2)if(Tt[0]=="c"){j.M=Tt[1],j.ba=Tt[2];const ai=Tt[3];ai!=null&&(j.ka=ai,j.j.info("VER="+j.ka));const Eo=Tt[4];Eo!=null&&(j.za=Eo,j.j.info("SVER="+j.za));const ji=Tt[5];ji!=null&&typeof ji=="number"&&ji>0&&(H=1.5*ji,j.O=H,j.j.info("backChannelRequestTimeoutMs_="+H)),H=j;const Bi=x.g;if(Bi){const kl=Bi.g?Bi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kl){var fe=H.h;fe.g||kl.indexOf("spdy")==-1&&kl.indexOf("quic")==-1&&kl.indexOf("h2")==-1||(fe.j=fe.l,fe.g=new Set,fe.h&&(fd(fe,fe.h),fe.h=null))}if(H.G){const lc=Bi.g?Bi.g.getResponseHeader("X-HTTP-Session-Id"):null;lc&&(H.wa=lc,Nt(H.J,H.G,lc))}}j.I=3,j.l&&j.l.ra(),j.aa&&(j.T=Date.now()-x.F,j.j.info("Handshake RTT: "+j.T+"ms")),H=j;var Ne=x;if(H.na=ig(H,H.L?H.ba:null,H.W),Ne.L){dd(H.h,Ne);var Ze=Ne,cn=H.O;cn&&(Ze.H=cn),Ze.D&&(po(Ze),ho(Ze)),H.g=Ne}else Zm(H);j.i.length>0&&wo(j)}else Tt[0]!="stop"&&Tt[0]!="close"||To(j,7);else j.I==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?To(j,7):_d(j):Tt[0]!="noop"&&j.l&&j.l.qa(Tt),j.A=0)}}ao(4)}catch{}}var vn=class{constructor(x,P){this.g=x,this.map=P}};function ud(x){this.l=x||10,s.PerformanceNavigationTiming?(x=s.performance.getEntriesByType("navigation"),x=x.length>0&&(x[0].nextHopProtocol=="hq"||x[0].nextHopProtocol=="h2")):x=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=x?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function cd(x){return x.h?!0:x.g?x.g.size>=x.j:!1}function go(x){return x.h?1:x.g?x.g.size:0}function yo(x,P){return x.h?x.h==P:x.g?x.g.has(P):!1}function fd(x,P){x.g?x.g.add(P):x.h=P}function dd(x,P){x.h&&x.h==P?x.h=null:x.g&&x.g.has(P)&&x.g.delete(P)}ud.prototype.cancel=function(){if(this.i=hd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const x of this.g.values())x.cancel();this.g.clear()}};function hd(x){if(x.h!=null)return x.i.concat(x.h.G);if(x.g!=null&&x.g.size!==0){let P=x.i;for(const j of x.g.values())P=P.concat(j.G);return P}return _(x.i)}var Km=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ec(x,P){if(x){x=x.split("&");for(let j=0;j<x.length;j++){const H=x[j].indexOf("=");let ie,fe=null;H>=0?(ie=x[j].substring(0,H),fe=x[j].substring(H+1)):ie=x[j],P(ie,fe?decodeURIComponent(fe.replace(/\+/g," ")):"")}}}function jr(x){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let P;x instanceof jr?(this.l=x.l,Ln(this,x.j),this.o=x.o,this.g=x.g,Ys(this,x.u),this.h=x.h,pd(this,Jm(x.i)),this.m=x.m):x&&(P=String(x).match(Km))?(this.l=!1,Ln(this,P[1]||"",!0),this.o=vo(P[2]||""),this.g=vo(P[3]||"",!0),Ys(this,P[4]),this.h=vo(P[5]||"",!0),pd(this,P[6]||"",!0),this.m=vo(P[7]||"")):(this.l=!1,this.i=new Js(null,this.l))}jr.prototype.toString=function(){const x=[];var P=this.j;P&&x.push(Sl(P,tc,!0),":");var j=this.g;return(j||P=="file")&&(x.push("//"),(P=this.o)&&x.push(Sl(P,tc,!0),"@"),x.push(Zo(j).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.u,j!=null&&x.push(":",String(j))),(j=this.h)&&(this.g&&j.charAt(0)!="/"&&x.push("/"),x.push(Sl(j,j.charAt(0)=="/"?md:Wm,!0))),(j=this.i.toString())&&x.push("?",j),(j=this.m)&&x.push("#",Sl(j,Ym)),x.join("")},jr.prototype.resolve=function(x){const P=bn(this);let j=!!x.j;j?Ln(P,x.j):j=!!x.o,j?P.o=x.o:j=!!x.g,j?P.g=x.g:j=x.u!=null;var H=x.h;if(j)Ys(P,x.u);else if(j=!!x.h){if(H.charAt(0)!="/")if(this.g&&!this.h)H="/"+H;else{var ie=P.h.lastIndexOf("/");ie!=-1&&(H=P.h.slice(0,ie+1)+H)}if(ie=H,ie==".."||ie==".")H="";else if(ie.indexOf("./")!=-1||ie.indexOf("/.")!=-1){H=ie.lastIndexOf("/",0)==0,ie=ie.split("/");const fe=[];for(let Ne=0;Ne<ie.length;){const Ze=ie[Ne++];Ze=="."?H&&Ne==ie.length&&fe.push(""):Ze==".."?((fe.length>1||fe.length==1&&fe[0]!="")&&fe.pop(),H&&Ne==ie.length&&fe.push("")):(fe.push(Ze),H=!0)}H=fe.join("/")}else H=ie}return j?P.h=H:j=x.i.toString()!=="",j?pd(P,Jm(x.i)):j=!!x.m,j&&(P.m=x.m),P};function bn(x){return new jr(x)}function Ln(x,P,j){x.j=j?vo(P,!0):P,x.j&&(x.j=x.j.replace(/:$/,""))}function Ys(x,P){if(P){if(P=Number(P),isNaN(P)||P<0)throw Error("Bad port number "+P);x.u=P}else x.u=null}function pd(x,P,j){P instanceof Js?(x.i=P,rc(x.i,x.l)):(j||(P=Sl(P,Xs)),x.i=new Js(P,x.l))}function Nt(x,P,j){x.i.set(P,j)}function El(x){return Nt(x,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),x}function vo(x,P){return x?P?decodeURI(x.replace(/%25/g,"%2525")):decodeURIComponent(x):""}function Sl(x,P,j){return typeof x=="string"?(x=encodeURI(x).replace(P,Tr),j&&(x=x.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x):null}function Tr(x){return x=x.charCodeAt(0),"%"+(x>>4&15).toString(16)+(x&15).toString(16)}var tc=/[#\/\?@]/g,Wm=/[#\?:]/g,md=/[#\?]/g,Xs=/[#\?@]/g,Ym=/#/g;function Js(x,P){this.h=this.g=null,this.i=x||null,this.j=!!P}function Er(x){x.g||(x.g=new Map,x.h=0,x.i&&ec(x.i,function(P,j){x.add(decodeURIComponent(P.replace(/\+/g," ")),j)}))}t=Js.prototype,t.add=function(x,P){Er(this),this.i=null,x=Qs(this,x);let j=this.g.get(x);return j||this.g.set(x,j=[]),j.push(P),this.h+=1,this};function Xm(x,P){Er(x),P=Qs(x,P),x.g.has(P)&&(x.i=null,x.h-=x.g.get(P).length,x.g.delete(P))}function gd(x,P){return Er(x),P=Qs(x,P),x.g.has(P)}t.forEach=function(x,P){Er(this),this.g.forEach(function(j,H){j.forEach(function(ie){x.call(P,ie,H,this)},this)},this)};function yd(x,P){Er(x);let j=[];if(typeof P=="string")gd(x,P)&&(j=j.concat(x.g.get(Qs(x,P))));else for(x=Array.from(x.g.values()),P=0;P<x.length;P++)j=j.concat(x[P]);return j}t.set=function(x,P){return Er(this),this.i=null,x=Qs(this,x),gd(this,x)&&(this.h-=this.g.get(x).length),this.g.set(x,[P]),this.h+=1,this},t.get=function(x,P){return x?(x=yd(this,x),x.length>0?String(x[0]):P):P};function nc(x,P,j){Xm(x,P),j.length>0&&(x.i=null,x.g.set(Qs(x,P),_(j)),x.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const x=[],P=Array.from(this.g.keys());for(let H=0;H<P.length;H++){var j=P[H];const ie=Zo(j);j=yd(this,j);for(let fe=0;fe<j.length;fe++){let Ne=ie;j[fe]!==""&&(Ne+="="+Zo(j[fe])),x.push(Ne)}}return this.i=x.join("&")};function Jm(x){const P=new Js;return P.i=x.i,x.g&&(P.g=new Map(x.g),P.h=x.h),P}function Qs(x,P){return P=String(P),x.j&&(P=P.toLowerCase()),P}function rc(x,P){P&&!x.j&&(Er(x),x.i=null,x.g.forEach(function(j,H){const ie=H.toLowerCase();H!=ie&&(Xm(this,H),nc(this,ie,j))},x)),x.j=P}function Li(x,P){const j=new Mi;if(s.Image){const H=new Image;H.onload=h(oi,j,"TestLoadImage: loaded",!0,P,H),H.onerror=h(oi,j,"TestLoadImage: error",!1,P,H),H.onabort=h(oi,j,"TestLoadImage: abort",!1,P,H),H.ontimeout=h(oi,j,"TestLoadImage: timeout",!1,P,H),s.setTimeout(function(){H.ontimeout&&H.ontimeout()},1e4),H.src=x}else P(!1)}function vd(x,P){const j=new Mi,H=new AbortController,ie=setTimeout(()=>{H.abort(),oi(j,"TestPingServer: timeout",!1,P)},1e4);fetch(x,{signal:H.signal}).then(fe=>{clearTimeout(ie),fe.ok?oi(j,"TestPingServer: ok",!0,P):oi(j,"TestPingServer: server error",!1,P)}).catch(()=>{clearTimeout(ie),oi(j,"TestPingServer: error",!1,P)})}function oi(x,P,j,H,ie){try{ie&&(ie.onload=null,ie.onerror=null,ie.onabort=null,ie.ontimeout=null),H(j)}catch{}}function Zs(){this.g=new bl}function bo(x){this.i=x.Sb||null,this.h=x.ab||!1}p(bo,Ws),bo.prototype.g=function(){return new Al(this.i,this.h)};function Al(x,P){mt.call(this),this.H=x,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Al,mt),t=Al.prototype,t.open=function(x,P){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=x,this.D=P,this.readyState=1,Ui(this)},t.send=function(x){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const P={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};x&&(P.body=x),(this.H||s).fetch(new Request(this.D,P)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ea(this)),this.readyState=0},t.Pa=function(x){if(this.g&&(this.l=x,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=x.headers,this.readyState=2,Ui(this)),this.g&&(this.readyState=3,Ui(this),this.g)))if(this.responseType==="arraybuffer")x.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in x){if(this.j=x.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ic(this)}else x.text().then(this.Oa.bind(this),this.ga.bind(this))};function ic(x){x.j.read().then(x.Ma.bind(x)).catch(x.ga.bind(x))}t.Ma=function(x){if(this.g){if(this.o&&x.value)this.response.push(x.value);else if(!this.o){var P=x.value?x.value:new Uint8Array(0);(P=this.B.decode(P,{stream:!x.done}))&&(this.response=this.responseText+=P)}x.done?ea(this):Ui(this),this.readyState==3&&ic(this)}},t.Oa=function(x){this.g&&(this.response=this.responseText=x,ea(this))},t.Na=function(x){this.g&&(this.response=x,ea(this))},t.ga=function(){this.g&&ea(this)};function ea(x){x.readyState=4,x.l=null,x.j=null,x.B=null,Ui(x)}t.setRequestHeader=function(x,P){this.A.append(x,P)},t.getResponseHeader=function(x){return this.h&&this.h.get(x.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const x=[],P=this.h.entries();for(var j=P.next();!j.done;)j=j.value,x.push(j[0]+": "+j[1]),j=P.next();return x.join(`\r
`)};function Ui(x){x.onreadystatechange&&x.onreadystatechange.call(x)}Object.defineProperty(Al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(x){this.m=x?"include":"same-origin"}});function si(x){let P="";return ce(x,function(j,H){P+=H,P+=":",P+=j,P+=`\r
`}),P}function Cl(x,P,j){e:{for(H in j){var H=!1;break e}H=!0}H||(j=si(j),typeof x=="string"?j!=null&&Zo(j):Nt(x,P,j))}function Mt(x){mt.call(this),this.headers=new Map,this.L=x||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Mt,mt);var xo=/^https?$/i,bd=["POST","PUT"];t=Mt.prototype,t.Fa=function(x){this.H=x},t.ea=function(x,P,j,H){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+x);P=P?P.toUpperCase():"GET",this.D=x,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ld.g(),this.g.onreadystatechange=g(f(this.Ca,this));try{this.B=!0,this.g.open(P,String(x),!0),this.B=!1}catch(fe){Il(this,fe);return}if(x=j||"",j=new Map(this.headers),H)if(Object.getPrototypeOf(H)===Object.prototype)for(var ie in H)j.set(ie,H[ie]);else if(typeof H.keys=="function"&&typeof H.get=="function")for(const fe of H.keys())j.set(fe,H.get(fe));else throw Error("Unknown input type for opt_headers: "+String(H));H=Array.from(j.keys()).find(fe=>fe.toLowerCase()=="content-type"),ie=s.FormData&&x instanceof s.FormData,!(Array.prototype.indexOf.call(bd,P,void 0)>=0)||H||ie||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[fe,Ne]of j)this.g.setRequestHeader(fe,Ne);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(x),this.v=!1}catch(fe){Il(this,fe)}};function Il(x,P){x.h=!1,x.g&&(x.j=!0,x.g.abort(),x.j=!1),x.l=P,x.o=5,xd(x),es(x)}function xd(x){x.A||(x.A=!0,nt(x,"complete"),nt(x,"error"))}t.abort=function(x){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=x||7,nt(this,"complete"),nt(this,"abort"),es(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),Mt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Nl(this):this.Xa())},t.Xa=function(){Nl(this)};function Nl(x){if(x.h&&typeof o<"u"){if(x.v&&Vi(x)==4)setTimeout(x.Ca.bind(x),0);else if(nt(x,"readystatechange"),Vi(x)==4){x.h=!1;try{const fe=x.ca();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var j;if(!(j=P)){var H;if(H=fe===0){let Ne=String(x.D).match(Km)[1]||null;!Ne&&s.self&&s.self.location&&(Ne=s.self.location.protocol.slice(0,-1)),H=!xo.test(Ne?Ne.toLowerCase():"")}j=H}if(j)nt(x,"complete"),nt(x,"success");else{x.o=6;try{var ie=Vi(x)>2?x.g.statusText:""}catch{ie=""}x.l=ie+" ["+x.ca()+"]",xd(x)}}finally{es(x)}}}}function es(x,P){if(x.g){x.m&&(clearTimeout(x.m),x.m=null);const j=x.g;x.g=null,P||nt(x,"ready");try{j.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vi(x){return x.g?x.g.readyState:0}t.ca=function(){try{return Vi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(x){if(this.g){var P=this.g.responseText;return x&&P.indexOf(x)==0&&(P=P.substring(x.length)),Yu(P)}};function Gn(x){try{if(!x.g)return null;if("response"in x.g)return x.g.response;switch(x.F){case"":case"text":return x.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in x.g)return x.g.mozResponseArrayBuffer}return null}catch{return null}}function ts(x){const P={};x=(x.g&&Vi(x)>=2&&x.g.getAllResponseHeaders()||"").split(`\r
`);for(let H=0;H<x.length;H++){if(B(x[H]))continue;var j=$m(x[H]);const ie=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const fe=P[ie]||[];P[ie]=fe,fe.push(j)}Y(P,function(H){return H.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function _o(x,P,j){return j&&j.internalChannelParams&&j.internalChannelParams[x]||P}function ta(x){this.za=0,this.i=[],this.j=new Mi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=_o("failFast",!1,x),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=_o("baseRetryDelayMs",5e3,x),this.Za=_o("retryDelaySeedMs",1e4,x),this.Ta=_o("forwardChannelMaxRetries",2,x),this.va=_o("forwardChannelRequestTimeoutMs",2e4,x),this.ma=x&&x.xmlHttpFactory||void 0,this.Ua=x&&x.Rb||void 0,this.Aa=x&&x.useFetchStreams||!1,this.O=void 0,this.L=x&&x.supportsCrossDomainXhr||!1,this.M="",this.h=new ud(x&&x.concurrentRequestLimit),this.Ba=new Zs,this.S=x&&x.fastHandshake||!1,this.R=x&&x.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=x&&x.Pb||!1,x&&x.ua&&this.j.ua(),x&&x.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&x&&x.detectBufferingProxy||!1,this.ia=void 0,x&&x.longPollingTimeout&&x.longPollingTimeout>0&&(this.ia=x.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ta.prototype,t.ka=8,t.I=1,t.connect=function(x,P,j,H){gn(0),this.W=x,this.H=P||{},j&&H!==void 0&&(this.H.OSID=j,this.H.OAID=H),this.F=this.X,this.J=ig(this,null,this.W),wo(this)};function _d(x){if(oc(x),x.I==3){var P=x.V++,j=bn(x.J);if(Nt(j,"SID",x.M),Nt(j,"RID",P),Nt(j,"TYPE","terminate"),Rl(x,j),P=new Oi(x,x.j,P),P.M=2,P.A=El(bn(j)),j=!1,s.navigator&&s.navigator.sendBeacon)try{j=s.navigator.sendBeacon(P.A.toString(),"")}catch{}!j&&s.Image&&(new Image().src=P.A,j=!0),j||(P.g=og(P.j,null),P.g.ea(P.A)),P.F=Date.now(),ho(P)}rg(x)}function na(x){x.g&&(Td(x),x.g.cancel(),x.g=null)}function oc(x){na(x),x.v&&(s.clearTimeout(x.v),x.v=null),ac(x),x.h.cancel(),x.m&&(typeof x.m=="number"&&s.clearTimeout(x.m),x.m=null)}function wo(x){if(!cd(x.h)&&!x.m){x.m=!0;var P=x.Ea;R||O(),U||(R(),U=!0),k.add(P,x),x.D=0}}function sc(x,P){return go(x.h)>=x.h.j-(x.m?1:0)?!1:x.m?(x.i=P.G.concat(x.i),!0):x.I==1||x.I==2||x.D>=(x.Sa?0:x.Ta)?!1:(x.m=uo(f(x.Ea,x,P),ng(x,x.D)),x.D++,!0)}t.Ea=function(x){if(this.m)if(this.m=null,this.I==1){if(!x){this.V=Math.floor(Math.random()*1e5),x=this.V++;const ie=new Oi(this,this.j,x);let fe=this.o;if(this.U&&(fe?(fe=L(fe),ee(fe,this.U)):fe=this.U),this.u!==null||this.R||(ie.J=fe,fe=null),this.S)e:{for(var P=0,j=0;j<this.i.length;j++){t:{var H=this.i[j];if("__data__"in H.map&&(H=H.map.__data__,typeof H=="string")){H=H.length;break t}H=void 0}if(H===void 0)break;if(P+=H,P>4096){P=j;break e}if(P===4096||j===this.i.length-1){P=j+1;break e}}P=1e3}else P=1e3;P=Qm(this,ie,P),j=bn(this.J),Nt(j,"RID",x),Nt(j,"CVER",22),this.G&&Nt(j,"X-HTTP-Session-Id",this.G),Rl(this,j),fe&&(this.R?P="headers="+Zo(si(fe))+"&"+P:this.u&&Cl(j,this.u,fe)),fd(this.h,ie),this.Ra&&Nt(j,"TYPE","init"),this.S?(Nt(j,"$req",P),Nt(j,"SID","null"),ie.U=!0,fo(ie,j,null)):fo(ie,j,P),this.I=2}}else this.I==3&&(x?wd(this,x):this.i.length==0||cd(this.h)||wd(this))};function wd(x,P){var j;P?j=P.l:j=x.V++;const H=bn(x.J);Nt(H,"SID",x.M),Nt(H,"RID",j),Nt(H,"AID",x.K),Rl(x,H),x.u&&x.o&&Cl(H,x.u,x.o),j=new Oi(x,x.j,j,x.D+1),x.u===null&&(j.J=x.o),P&&(x.i=P.G.concat(x.i)),P=Qm(x,j,1e3),j.H=Math.round(x.va*.5)+Math.round(x.va*.5*Math.random()),fd(x.h,j),fo(j,H,P)}function Rl(x,P){x.H&&ce(x.H,function(j,H){Nt(P,H,j)}),x.l&&ce({},function(j,H){Nt(P,H,j)})}function Qm(x,P,j){j=Math.min(x.i.length,j);const H=x.l?f(x.l.Ka,x.l,x):null;e:{var ie=x.i;let Ze=-1;for(;;){const cn=["count="+j];Ze==-1?j>0?(Ze=ie[0].g,cn.push("ofs="+Ze)):Ze=0:cn.push("ofs="+Ze);let Tt=!0;for(let Yt=0;Yt<j;Yt++){var fe=ie[Yt].g;const ai=ie[Yt].map;if(fe-=Ze,fe<0)Ze=Math.max(0,ie[Yt].g-100),Tt=!1;else try{fe="req"+fe+"_"||"";try{var Ne=ai instanceof Map?ai:Object.entries(ai);for(const[Eo,ji]of Ne){let Bi=ji;l(ji)&&(Bi=so(ji)),cn.push(fe+Eo+"="+encodeURIComponent(Bi))}}catch(Eo){throw cn.push(fe+"type="+encodeURIComponent("_badmap")),Eo}}catch{H&&H(ai)}}if(Tt){Ne=cn.join("&");break e}}Ne=void 0}return x=x.i.splice(0,j),P.G=x,Ne}function Zm(x){if(!x.g&&!x.v){x.Y=1;var P=x.Da;R||O(),U||(R(),U=!0),k.add(P,x),x.A=0}}function Pl(x){return x.g||x.v||x.A>=3?!1:(x.Y++,x.v=uo(f(x.Da,x),ng(x,x.A)),x.A++,!0)}t.Da=function(){if(this.v=null,eg(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var x=4*this.T;this.j.info("BP detection timer enabled: "+x),this.B=uo(f(this.Wa,this),x)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gn(10),na(this),eg(this))};function Td(x){x.B!=null&&(s.clearTimeout(x.B),x.B=null)}function eg(x){x.g=new Oi(x,x.j,"rpc",x.Y),x.u===null&&(x.g.J=x.o),x.g.P=0;var P=bn(x.na);Nt(P,"RID","rpc"),Nt(P,"SID",x.M),Nt(P,"AID",x.K),Nt(P,"CI",x.F?"0":"1"),!x.F&&x.ia&&Nt(P,"TO",x.ia),Nt(P,"TYPE","xmlhttp"),Rl(x,P),x.u&&x.o&&Cl(P,x.u,x.o),x.O&&(x.g.H=x.O);var j=x.g;x=x.ba,j.M=1,j.A=El(bn(P)),j.u=null,j.R=!0,Qu(j,x)}t.Va=function(){this.C!=null&&(this.C=null,na(this),Pl(this),gn(19))};function ac(x){x.C!=null&&(s.clearTimeout(x.C),x.C=null)}function tg(x,P){var j=null;if(x.g==P){ac(x),Td(x),x.g=null;var H=2}else if(yo(x.h,P))j=P.G,dd(x.h,P),H=1;else return;if(x.I!=0){if(P.o)if(H==1){j=P.u?P.u.length:0,P=Date.now()-P.F;var ie=x.D;H=Ju(),nt(H,new lo(H,j)),wo(x)}else Zm(x);else if(ie=P.m,ie==3||ie==0&&P.X>0||!(H==1&&sc(x,P)||H==2&&Pl(x)))switch(j&&j.length>0&&(P=x.h,P.i=P.i.concat(j)),ie){case 1:To(x,5);break;case 4:To(x,10);break;case 3:To(x,6);break;default:To(x,2)}}}function ng(x,P){let j=x.Qa+Math.floor(Math.random()*x.Za);return x.isActive()||(j*=2),j*P}function To(x,P){if(x.j.info("Error code "+P),P==2){var j=f(x.bb,x),H=x.Ua;const ie=!H;H=new jr(H||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Ln(H,"https"),El(H),ie?Li(H.toString(),j):vd(H.toString(),j)}else gn(2);x.I=0,x.l&&x.l.pa(P),rg(x),oc(x)}t.bb=function(x){x?(this.j.info("Successfully pinged google.com"),gn(2)):(this.j.info("Failed to ping google.com"),gn(1))};function rg(x){if(x.I=0,x.ja=[],x.l){const P=hd(x.h);(P.length!=0||x.i.length!=0)&&(S(x.ja,P),S(x.ja,x.i),x.h.i.length=0,_(x.i),x.i.length=0),x.l.oa()}}function ig(x,P,j){var H=j instanceof jr?bn(j):new jr(j);if(H.g!="")P&&(H.g=P+"."+H.g),Ys(H,H.u);else{var ie=s.location;H=ie.protocol,P=P?P+"."+ie.hostname:ie.hostname,ie=+ie.port;const fe=new jr(null);H&&Ln(fe,H),P&&(fe.g=P),ie&&Ys(fe,ie),j&&(fe.h=j),H=fe}return j=x.G,P=x.wa,j&&P&&Nt(H,j,P),Nt(H,"VER",x.ka),Rl(x,H),H}function og(x,P,j){if(P&&!x.L)throw Error("Can't create secondary domain capable XhrIo object.");return P=x.Aa&&!x.ma?new Mt(new bo({ab:j})):new Mt(x.ma),P.Fa(x.L),P}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function sg(){}t=sg.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ra(){}ra.prototype.g=function(x,P){return new mr(x,P)};function mr(x,P){mt.call(this),this.g=new ta(P),this.l=x,this.h=P&&P.messageUrlParams||null,x=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(x?x["X-Client-Protocol"]="webchannel":x={"X-Client-Protocol":"webchannel"}),this.g.o=x,x=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(x?x["X-WebChannel-Content-Type"]=P.messageContentType:x={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.sa&&(x?x["X-WebChannel-Client-Profile"]=P.sa:x={"X-WebChannel-Client-Profile":P.sa}),this.g.U=x,(x=P&&P.Qb)&&!B(x)&&(this.g.u=x),this.A=P&&P.supportsCrossDomainXhr||!1,this.v=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!B(P)&&(this.g.G=P,x=this.h,x!==null&&P in x&&(x=this.h,P in x&&delete x[P])),this.j=new ns(this)}p(mr,mt),mr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mr.prototype.close=function(){_d(this.g)},mr.prototype.o=function(x){var P=this.g;if(typeof x=="string"){var j={};j.__data__=x,x=j}else this.v&&(j={},j.__data__=so(x),x=j);P.i.push(new vn(P.Ya++,x)),P.I==3&&wo(P)},mr.prototype.N=function(){this.g.l=null,delete this.j,_d(this.g),delete this.g,mr.Z.N.call(this)};function ag(x){$n.call(this),x.__headers__&&(this.headers=x.__headers__,this.statusCode=x.__status__,delete x.__headers__,delete x.__status__);var P=x.__sm__;if(P){e:{for(const j in P){x=j;break e}x=void 0}(this.i=x)&&(x=this.i,P=P!==null&&x in P?P[x]:void 0),this.data=P}else this.data=x}p(ag,$n);function lg(){ri.call(this),this.status=1}p(lg,ri);function ns(x){this.g=x}p(ns,sg),ns.prototype.ra=function(){nt(this.g,"a")},ns.prototype.qa=function(x){nt(this.g,new ag(x))},ns.prototype.pa=function(x){nt(this.g,new lg)},ns.prototype.oa=function(){nt(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,mr.prototype.send=mr.prototype.o,mr.prototype.open=mr.prototype.m,mr.prototype.close=mr.prototype.close,fF=function(){return new ra},cF=function(){return Ju()},uF=un,HS={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wl.NO_ERROR=0,wl.TIMEOUT=8,wl.HTTP_ERROR=6,Ky=wl,ad.COMPLETE="complete",lF=ad,Xu.EventType=Ur,Ur.OPEN="a",Ur.CLOSE="b",Ur.ERROR="c",Ur.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Ch=Xu,Mt.prototype.listenOnce=Mt.prototype.K,Mt.prototype.getLastError=Mt.prototype.Ha,Mt.prototype.getLastErrorCode=Mt.prototype.ya,Mt.prototype.getStatus=Mt.prototype.ca,Mt.prototype.getResponseJson=Mt.prototype.La,Mt.prototype.getResponseText=Mt.prototype.la,Mt.prototype.send=Mt.prototype.ea,Mt.prototype.setWithCredentials=Mt.prototype.Fa,aF=Mt}).apply(typeof hy<"u"?hy:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};sr.UNAUTHENTICATED=new sr(null),sr.GOOGLE_CREDENTIALS=new sr("google-credentials-uid"),sr.FIRST_PARTY=new sr("first-party-uid"),sr.MOCK_USER=new sr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ff="12.9.0";function tX(t){Ff=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tu=new j0("@firebase/firestore");function qc(){return Tu.logLevel}function Oe(t,...e){if(Tu.logLevel<=at.DEBUG){const n=e.map(fI);Tu.debug(`Firestore (${Ff}): ${t}`,...n)}}function Os(t,...e){if(Tu.logLevel<=at.ERROR){const n=e.map(fI);Tu.error(`Firestore (${Ff}): ${t}`,...n)}}function Eu(t,...e){if(Tu.logLevel<=at.WARN){const n=e.map(fI);Tu.warn(`Firestore (${Ff}): ${t}`,...n)}}function fI(t){if(typeof t=="string")return t;try{return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,dF(t,r,n)}function dF(t,e,n){let r=`FIRESTORE (${Ff}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Os(r),new Error(r)}function Ct(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||dF(e,i,r)}function Qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Pi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hF{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class nX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(sr.UNAUTHENTICATED)))}shutdown(){}}class rX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class iX{constructor(e){this.t=e,this.currentUser=sr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ct(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new As;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new As,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},l=c=>{Oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>l(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new As)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ct(typeof r.accessToken=="string",31837,{l:r}),new hF(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ct(e===null||typeof e=="string",2055,{h:e}),new sr(e)}}class oX{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=sr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class sX{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new oX(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(sr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class FM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aX{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ct(this.o===void 0,3512);const r=o=>{o.error!=null&&Oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,Oe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{Oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):Oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new FM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Ct(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new FM(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lX(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=lX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function lt(t,e){return t<e?-1:t>e?1:0}function KS(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return aw(i)===aw(o)?lt(i,o):aw(i)?1:-1}return lt(t.length,e.length)}const uX=55296,cX=57343;function aw(t){const e=t.charCodeAt(0);return e>=uX&&e<=cX}function gf(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qM="__name__";class ko{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ko.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ko?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=ko.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return lt(e.length,n.length)}static compareSegments(e,n){const r=ko.isNumericId(e),i=ko.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?ko.extractNumericId(e).compare(ko.extractNumericId(n)):KS(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $a.fromString(e.substring(4,e.length-2))}}class qt extends ko{construct(e,n,r){return new qt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(ve.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new qt(n)}static emptyPath(){return new qt([])}}const fX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zn extends ko{construct(e,n,r){return new Zn(e,n,r)}static isValidIdentifier(e){return fX.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qM}static keyField(){return new Zn([qM])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ke(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ke(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(o(),i++)}if(o(),s)throw new ke(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zn(n)}static emptyPath(){return new Zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.path=e}static fromPath(e){return new Be(qt.fromString(e))}static fromName(e){return new Be(qt.fromString(e).popFirst(5))}static empty(){return new Be(qt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new qt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(t,e,n){if(!n)throw new ke(ve.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function dX(t,e,n,r){if(e===!0&&r===!0)throw new ke(ve.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zM(t){if(!Be.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $M(t){if(Be.isDocumentKey(t))throw new ke(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function B0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function to(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=B0(t);throw new ke(ve.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(t,e){const n={typeString:t};return e&&(n.value=e),n}function dm(t,e){if(!mF(t))throw new ke(ve.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ke(ve.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM=-62135596800,HM=1e6;class Kt{static now(){return Kt.fromMillis(Date.now())}static fromDate(e){return Kt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*HM);return new Kt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<GM)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HM}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Kt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dm(e,Kt._jsonSchema))return new Kt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-GM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Kt._jsonSchemaVersion="firestore/timestamp/1.0",Kt._jsonSchema={type:Cn("string",Kt._jsonSchemaVersion),seconds:Cn("number"),nanoseconds:Cn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{static fromTimestamp(e){return new Xe(e)}static min(){return new Xe(new Kt(0,0))}static max(){return new Xe(new Kt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function hX(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Xe.fromTimestamp(r===1e9?new Kt(n+1,0):new Kt(n,r));return new Ya(i,Be.empty(),e)}function pX(t){return new Ya(t.readTime,t.key,lp)}class Ya{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ya(Xe.min(),Be.empty(),lp)}static max(){return new Ya(Xe.max(),Be.empty(),lp)}}function mX(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Be.comparator(t.documentKey,e.documentKey),n!==0?n:lt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qf(t){if(t.code!==ve.FAILED_PRECONDITION||t.message!==gX)throw t;Oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new _e(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof _e?n:_e.resolve(n)}catch(n){return _e.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):_e.reject(n)}static resolve(e){return new _e(((n,r)=>{n(e)}))}static reject(e){return new _e(((n,r)=>{r(e)}))}static waitFor(e){return new _e(((n,r)=>{let i=0,o=0,s=!1;e.forEach((l=>{++i,l.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=_e.resolve(!1);for(const r of e)n=n.next((i=>i?_e.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new _e(((r,i)=>{const o=e.length,s=new Array(o);let l=0;for(let c=0;c<o;c++){const f=c;n(e[f]).next((h=>{s[f]=h,++l,l===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new _e(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}function vX(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function zf(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}F0.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=-1;function q0(t){return t==null}function fv(t){return t===0&&1/t==-1/0}function bX(t){return typeof t=="number"&&Number.isInteger(t)&&!fv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gF="";function xX(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=KM(e)),e=_X(t.get(n),e);return KM(e)}function _X(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case gF:n+="";break;default:n+=o}}return n}function KM(t){return t+gF+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WM(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function sl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function yF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e,n){this.comparator=e,this.root=n||Qn.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qn.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new py(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new py(this.root,e,this.comparator,!1)}getReverseIterator(){return new py(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new py(this.root,e,this.comparator,!0)}}class py{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Qn.RED,this.left=i??Qn.EMPTY,this.right=o??Qn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Qn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Qn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Qn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Qn.EMPTY=null,Qn.RED=!0,Qn.BLACK=!1;Qn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Qn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new YM(this.data.getIterator())}getIteratorFrom(e){return new YM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kn(this.comparator);return n.data=e,n}}class YM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(e){this.fields=e,e.sort(Zn.comparator)}static empty(){return new Qr([])}unionWith(e){let n=new kn(Zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return gf(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new vF("Invalid base64 string: "+o):o}})(e);return new tr(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new tr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const wX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xa(t){if(Ct(!!t,39018),typeof t=="string"){let e=0;const n=wX.exec(t);if(Ct(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(t.seconds),nanos:pn(t.nanos)}}function pn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ja(t){return typeof t=="string"?tr.fromBase64String(t):tr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bF="server_timestamp",xF="__type__",_F="__previous_value__",wF="__local_write_time__";function pI(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[xF])==null?void 0:r.stringValue)===bF}function z0(t){const e=t.mapValue.fields[_F];return pI(e)?z0(e):e}function up(t){const e=Xa(t.mapValue.fields[wF].timestampValue);return new Kt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TX{constructor(e,n,r,i,o,s,l,c,f,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=f,this.isUsingEmulator=h,this.apiKey=p}}const dv="(default)";class cp{constructor(e,n){this.projectId=e,this.database=n||dv}static empty(){return new cp("","")}get isDefaultDatabase(){return this.database===dv}isEqual(e){return e instanceof cp&&e.projectId===this.projectId&&e.database===this.database}}function EX(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ke(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF="__type__",SX="__max__",my={mapValue:{}},EF="__vector__",hv="value";function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?pI(t)?4:CX(t)?9007199254740991:AX(t)?10:11:He(28295,{value:t})}function Ho(t,e){if(t===e)return!0;const n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return up(t).isEqual(up(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Xa(i.timestampValue),l=Xa(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return Ja(i.bytesValue).isEqual(Ja(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return pn(i.geoPointValue.latitude)===pn(o.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return pn(i.integerValue)===pn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=pn(i.doubleValue),l=pn(o.doubleValue);return s===l?fv(s)===fv(l):isNaN(s)&&isNaN(l)}return!1})(t,e);case 9:return gf(t.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},l=o.mapValue.fields||{};if(WM(s)!==WM(l))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!Ho(s[c],l[c])))return!1;return!0})(t,e);default:return He(52216,{left:t})}}function fp(t,e){return(t.values||[]).find((n=>Ho(n,e)))!==void 0}function yf(t,e){if(t===e)return 0;const n=Qa(t),r=Qa(e);if(n!==r)return lt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lt(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const l=pn(o.integerValue||o.doubleValue),c=pn(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1})(t,e);case 3:return XM(t.timestampValue,e.timestampValue);case 4:return XM(up(t),up(e));case 5:return KS(t.stringValue,e.stringValue);case 6:return(function(o,s){const l=Ja(o),c=Ja(s);return l.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const l=o.split("/"),c=s.split("/");for(let f=0;f<l.length&&f<c.length;f++){const h=lt(l[f],c[f]);if(h!==0)return h}return lt(l.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const l=lt(pn(o.latitude),pn(s.latitude));return l!==0?l:lt(pn(o.longitude),pn(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return JM(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var g,_,S,A;const l=o.fields||{},c=s.fields||{},f=(g=l[hv])==null?void 0:g.arrayValue,h=(_=c[hv])==null?void 0:_.arrayValue,p=lt(((S=f==null?void 0:f.values)==null?void 0:S.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return p!==0?p:JM(f,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===my.mapValue&&s===my.mapValue)return 0;if(o===my.mapValue)return 1;if(s===my.mapValue)return-1;const l=o.fields||{},c=Object.keys(l),f=s.fields||{},h=Object.keys(f);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){const g=KS(c[p],h[p]);if(g!==0)return g;const _=yf(l[c[p]],f[h[p]]);if(_!==0)return _}return lt(c.length,h.length)})(t.mapValue,e.mapValue);default:throw He(23264,{he:n})}}function XM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return lt(t,e);const n=Xa(t),r=Xa(e),i=lt(n.seconds,r.seconds);return i!==0?i:lt(n.nanos,r.nanos)}function JM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=yf(n[i],r[i]);if(o)return o}return lt(n.length,r.length)}function vf(t){return WS(t)}function WS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=Xa(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Ja(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return Be.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=WS(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${WS(n.fields[s])}`;return i+"}"})(t.mapValue):He(61005,{value:t})}function Wy(t){switch(Qa(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=z0(t);return e?16+Wy(e):16;case 5:return 2*t.stringValue.length;case 6:return Ja(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+Wy(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return sl(r.fields,((o,s)=>{i+=o.length+Wy(s)})),i})(t.mapValue);default:throw He(13486,{value:t})}}function QM(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function YS(t){return!!t&&"integerValue"in t}function mI(t){return!!t&&"arrayValue"in t}function ZM(t){return!!t&&"nullValue"in t}function eO(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yy(t){return!!t&&"mapValue"in t}function AX(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[TF])==null?void 0:r.stringValue)===EF}function Bh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return sl(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Bh(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bh(t.arrayValue.values[n]);return e}return{...t}}function CX(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===SX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(e){this.value=e}static empty(){return new Pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bh(n)}setAll(e){let n=Zn.emptyPath(),r={},i=[];e.forEach(((s,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=Bh(s):i.push(l.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Yy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Yy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){sl(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Pr(Bh(this.value))}}function SF(t){const e=[];return sl(t.fields,((n,r)=>{const i=new Zn([n]);if(Yy(r)){const o=SF(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new Qr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(e,n,r,i,o,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new ur(e,0,Xe.min(),Xe.min(),Xe.min(),Pr.empty(),0)}static newFoundDocument(e,n,r,i){return new ur(e,1,n,Xe.min(),r,i,0)}static newNoDocument(e,n){return new ur(e,2,n,Xe.min(),Xe.min(),Pr.empty(),0)}static newUnknownDocument(e,n){return new ur(e,3,n,Xe.min(),Xe.min(),Pr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ur&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ur(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(e,n){this.position=e,this.inclusive=n}}function tO(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Be.comparator(Be.fromName(s.referenceValue),n.key):r=yf(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function nO(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ho(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n="asc"){this.field=e,this.dir=n}}function IX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AF=class{};class Sn extends AF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new RX(e,n,r):n==="array-contains"?new MX(e,r):n==="in"?new OX(e,r):n==="not-in"?new DX(e,r):n==="array-contains-any"?new LX(e,r):new Sn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new PX(e,r):new kX(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yf(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.matchesComparison(yf(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class no extends AF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new no(e,n)}matches(e){return CF(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function CF(t){return t.op==="and"}function IF(t){return NX(t)&&CF(t)}function NX(t){for(const e of t.filters)if(e instanceof no)return!1;return!0}function XS(t){if(t instanceof Sn)return t.field.canonicalString()+t.op.toString()+vf(t.value);if(IF(t))return t.filters.map((e=>XS(e))).join(",");{const e=t.filters.map((n=>XS(n))).join(",");return`${t.op}(${e})`}}function NF(t,e){return t instanceof Sn?(function(r,i){return i instanceof Sn&&r.op===i.op&&r.field.isEqual(i.field)&&Ho(r.value,i.value)})(t,e):t instanceof no?(function(r,i){return i instanceof no&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,l)=>o&&NF(s,i.filters[l])),!0):!1})(t,e):void He(19439)}function RF(t){return t instanceof Sn?(function(n){return`${n.field.canonicalString()} ${n.op} ${vf(n.value)}`})(t):t instanceof no?(function(n){return n.op.toString()+" {"+n.getFilters().map(RF).join(" ,")+"}"})(t):"Filter"}class RX extends Sn{constructor(e,n,r){super(e,n,r),this.key=Be.fromName(r.referenceValue)}matches(e){const n=Be.comparator(e.key,this.key);return this.matchesComparison(n)}}class PX extends Sn{constructor(e,n){super(e,"in",n),this.keys=PF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class kX extends Sn{constructor(e,n){super(e,"not-in",n),this.keys=PF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function PF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>Be.fromName(r.referenceValue)))}class MX extends Sn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return mI(n)&&fp(n.arrayValue,this.value)}}class OX extends Sn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fp(this.value.arrayValue,n)}}class DX extends Sn{constructor(e,n){super(e,"not-in",n)}matches(e){if(fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fp(this.value.arrayValue,n)}}class LX extends Sn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!mI(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>fp(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UX{constructor(e,n=null,r=[],i=[],o=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=l,this.Te=null}}function rO(t,e=null,n=[],r=[],i=null,o=null,s=null){return new UX(t,e,n,r,i,o,s)}function gI(t){const e=Qe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>XS(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),q0(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vf(r))).join(",")),e.Te=n}return e.Te}function yI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!NF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!nO(t.startAt,e.startAt)&&nO(t.endAt,e.endAt)}function JS(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,n=null,r=[],i=[],o=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function VX(t,e,n,r,i,o,s,l){return new $f(t,e,n,r,i,o,s,l)}function vI(t){return new $f(t)}function iO(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function jX(t){return Be.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function kF(t){return t.collectionGroup!==null}function Fh(t){const e=Qe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new kn(Zn.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((f=>{f.isInequality()&&(l=l.add(f.field))}))})),l})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new dp(o,r))})),n.has(Zn.keyField().canonicalString())||e.Ie.push(new dp(Zn.keyField(),r))}return e.Ie}function Vo(t){const e=Qe(t);return e.Ee||(e.Ee=BX(e,Fh(t))),e.Ee}function BX(t,e){if(t.limitType==="F")return rO(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new dp(i.field,o)}));const n=t.endAt?new pv(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pv(t.startAt.position,t.startAt.inclusive):null;return rO(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function QS(t,e){const n=t.filters.concat([e]);return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function FX(t,e){const n=t.explicitOrderBy.concat([e]);return new $f(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function ZS(t,e,n){return new $f(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function $0(t,e){return yI(Vo(t),Vo(e))&&t.limitType===e.limitType}function MF(t){return`${gI(Vo(t))}|lt:${t.limitType}`}function zc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>RF(i))).join(", ")}]`),q0(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>vf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>vf(i))).join(",")),`Target(${r})`})(Vo(t))}; limitType=${t.limitType})`}function G0(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Be.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Fh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,l,c){const f=tO(s,l,c);return s.inclusive?f<=0:f<0})(r.startAt,Fh(r),i)||r.endAt&&!(function(s,l,c){const f=tO(s,l,c);return s.inclusive?f>=0:f>0})(r.endAt,Fh(r),i))})(t,e)}function qX(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function OF(t){return(e,n)=>{let r=!1;for(const i of Fh(t)){const o=zX(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function zX(t,e,n){const r=t.field.isKeyField()?Be.comparator(e.key,n.key):(function(o,s,l){const c=s.data.field(o),f=l.data.field(o);return c!==null&&f!==null?yf(c,f):He(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return yF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $X=new nn(Be.comparator);function Ds(){return $X}const DF=new nn(Be.comparator);function Ih(...t){let e=DF;for(const n of t)e=e.insert(n.key,n);return e}function LF(t){let e=DF;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function au(){return qh()}function UF(){return qh()}function qh(){return new Uu((t=>t.toString()),((t,e)=>t.isEqual(e)))}const GX=new nn(Be.comparator),HX=new kn(Be.comparator);function ct(...t){let e=HX;for(const n of t)e=e.add(n);return e}const KX=new kn(lt);function WX(){return KX}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fv(e)?"-0":e}}function VF(t){return{integerValue:""+t}}function YX(t,e){return bX(e)?VF(e):bI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H0{constructor(){this._=void 0}}function XX(t,e,n){return t instanceof mv?(function(i,o){const s={fields:{[xF]:{stringValue:bF},[wF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pI(o)&&(o=z0(o)),o&&(s.fields[_F]=o),{mapValue:s}})(n,e):t instanceof hp?BF(t,e):t instanceof pp?FF(t,e):(function(i,o){const s=jF(i,o),l=oO(s)+oO(i.Ae);return YS(s)&&YS(i.Ae)?VF(l):bI(i.serializer,l)})(t,e)}function JX(t,e,n){return t instanceof hp?BF(t,e):t instanceof pp?FF(t,e):n}function jF(t,e){return t instanceof gv?(function(r){return YS(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class mv extends H0{}class hp extends H0{constructor(e){super(),this.elements=e}}function BF(t,e){const n=qF(e);for(const r of t.elements)n.some((i=>Ho(i,r)))||n.push(r);return{arrayValue:{values:n}}}class pp extends H0{constructor(e){super(),this.elements=e}}function FF(t,e){let n=qF(e);for(const r of t.elements)n=n.filter((i=>!Ho(i,r)));return{arrayValue:{values:n}}}class gv extends H0{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function oO(t){return pn(t.integerValue||t.doubleValue)}function qF(t){return mI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function QX(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof hp&&i instanceof hp||r instanceof pp&&i instanceof pp?gf(r.elements,i.elements,Ho):r instanceof gv&&i instanceof gv?Ho(r.Ae,i.Ae):r instanceof mv&&i instanceof mv})(t.transform,e.transform)}class ZX{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class K0{}function zF(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xI(t.key,Or.none()):new hm(t.key,t.data,Or.none());{const n=t.data,r=Pr.empty();let i=new kn(Zn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new al(t.key,r,new Qr(i.toArray()),Or.none())}}function eJ(t,e,n){t instanceof hm?(function(i,o,s){const l=i.value.clone(),c=aO(i.fieldTransforms,o,s.transformResults);l.setAll(c),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()})(t,e,n):t instanceof al?(function(i,o,s){if(!Xy(i.precondition,o))return void o.convertToUnknownDocument(s.version);const l=aO(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll($F(i)),c.setAll(l),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function zh(t,e,n,r){return t instanceof hm?(function(o,s,l,c){if(!Xy(o.precondition,s))return l;const f=o.value.clone(),h=lO(o.fieldTransforms,c,s);return f.setAll(h),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null})(t,e,n,r):t instanceof al?(function(o,s,l,c){if(!Xy(o.precondition,s))return l;const f=lO(o.fieldTransforms,c,s),h=s.data;return h.setAll($F(o)),h.setAll(f),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),l===null?null:l.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((p=>p.field)))})(t,e,n,r):(function(o,s,l){return Xy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l})(t,e,n)}function tJ(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=jF(r.transform,i||null);o!=null&&(n===null&&(n=Pr.empty()),n.set(r.field,o))}return n||null}function sO(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&gf(r,i,((o,s)=>QX(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class hm extends K0{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class al extends K0{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $F(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function aO(t,e,n){const r=new Map;Ct(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,l=e.data.field(o.field);r.set(o.field,JX(s,l,n[i]))}return r}function lO(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,XX(o,s,e))}return r}class xI extends K0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nJ extends K0{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rJ{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eJ(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=zh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UF();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let l=this.applyToLocalView(s,o.mutatedFields);l=n.has(i.key)?null:l;const c=zF(s,l);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Xe.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ct())}isEqual(e){return this.batchId===e.batchId&&gf(this.mutations,e.mutations,((n,r)=>sO(n,r)))&&gf(this.baseMutations,e.baseMutations,((n,r)=>sO(n,r)))}}class _I{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ct(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return GX})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new _I(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iJ{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var En,pt;function sJ(t){switch(t){case ve.OK:return He(64938);case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function GF(t){if(t===void 0)return Os("GRPC error has no .code"),ve.UNKNOWN;switch(t){case En.OK:return ve.OK;case En.CANCELLED:return ve.CANCELLED;case En.UNKNOWN:return ve.UNKNOWN;case En.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case En.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case En.INTERNAL:return ve.INTERNAL;case En.UNAVAILABLE:return ve.UNAVAILABLE;case En.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case En.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case En.NOT_FOUND:return ve.NOT_FOUND;case En.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case En.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case En.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case En.ABORTED:return ve.ABORTED;case En.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case En.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case En.DATA_LOSS:return ve.DATA_LOSS;default:return He(39323,{code:t})}}(pt=En||(En={}))[pt.OK=0]="OK",pt[pt.CANCELLED=1]="CANCELLED",pt[pt.UNKNOWN=2]="UNKNOWN",pt[pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pt[pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pt[pt.NOT_FOUND=5]="NOT_FOUND",pt[pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",pt[pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",pt[pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",pt[pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pt[pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pt[pt.ABORTED=10]="ABORTED",pt[pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",pt[pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",pt[pt.INTERNAL=13]="INTERNAL",pt[pt.UNAVAILABLE=14]="UNAVAILABLE",pt[pt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aJ(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ=new $a([4294967295,4294967295],0);function uO(t){const e=aJ().encode(t),n=new sF;return n.update(e),new Uint8Array(n.digest())}function cO(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new $a([n,r],0),new $a([i,o],0)]}class wI{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nh(`Invalid padding: ${n}`);if(r<0)throw new Nh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Nh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Nh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=$a.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply($a.fromNumber(r)));return i.compare(lJ)===1&&(i=new $a([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=uO(e),[r,i]=cO(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new wI(o,i,n);return r.forEach((l=>s.insert(l))),s}insert(e){if(this.ge===0)return;const n=uO(e),[r,i]=cO(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.be(s)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Nh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,pm.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new W0(Xe.min(),i,new nn(lt),Ds(),ct())}}class pm{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new pm(r,n,ct(),ct(),ct())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class HF{constructor(e,n){this.targetId=e,this.Ce=n}}class KF{constructor(e,n,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class fO{constructor(){this.ve=0,this.Fe=dO(),this.Me=tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ct(),n=ct(),r=ct();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:He(38017,{changeType:o})}})),new pm(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=dO()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ct(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class uJ{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ds(),this.He=gy(),this.Je=gy(),this.Ze=new nn(lt)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:He(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(JS(o))if(r===0){const s=new Be(o.path);this.et(n,s,ur.newNoDocument(s,Xe.min()))}else Ct(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const l=this.ut(e),c=l?this.ct(l,e,s):1;if(c!==0){this.it(n);const f=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,f)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,l;try{s=Ja(r).toUint8Array()}catch(c){if(c instanceof vF)return Eu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new wI(s,i,o)}catch(c){return Eu(c instanceof Nh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),l=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(l)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const l=this.ot(s);if(l){if(o.current&&JS(l.target)){const c=new Be(l.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,ur.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.Ke())}}));let r=ct();this.Je.forEach(((o,s)=>{let l=!0;s.forEachWhile((c=>{const f=this.ot(c);return!f||f.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)})),l&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new W0(e,n,this.Ze,this.je,r);return this.je=Ds(),this.He=gy(),this.Je=gy(),this.Ze=new nn(lt),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new fO,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new kn(lt),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new kn(lt),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fO),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function gy(){return new nn(Be.comparator)}function dO(){return new nn(Be.comparator)}const cJ={asc:"ASCENDING",desc:"DESCENDING"},fJ={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},dJ={and:"AND",or:"OR"};class hJ{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eA(t,e){return t.useProto3Json||q0(e)?e:{value:e}}function yv(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function WF(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function pJ(t,e){return yv(t,e.toTimestamp())}function jo(t){return Ct(!!t,49232),Xe.fromTimestamp((function(n){const r=Xa(n);return new Kt(r.seconds,r.nanos)})(t))}function TI(t,e){return tA(t,e).canonicalString()}function tA(t,e){const n=(function(i){return new qt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function YF(t){const e=qt.fromString(t);return Ct(eq(e),10190,{key:e.toString()}),e}function nA(t,e){return TI(t.databaseId,e.path)}function lw(t,e){const n=YF(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Be(JF(n))}function XF(t,e){return TI(t.databaseId,e)}function mJ(t){const e=YF(t);return e.length===4?qt.emptyPath():JF(e)}function rA(t){return new qt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function JF(t){return Ct(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function hO(t,e,n){return{name:nA(t,e),fields:n.value.mapValue.fields}}function gJ(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:He(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(f,h){return f.useProto3Json?(Ct(h===void 0||typeof h=="string",58123),tr.fromBase64String(h||"")):(Ct(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),tr.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&(function(f){const h=f.code===void 0?ve.UNKNOWN:GF(f.code);return new ke(h,f.message||"")})(s);n=new KF(r,i,o,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=lw(t,r.document.name),o=jo(r.document.updateTime),s=r.document.createTime?jo(r.document.createTime):Xe.min(),l=new Pr({mapValue:{fields:r.document.fields}}),c=ur.newFoundDocument(i,o,s,l),f=r.targetIds||[],h=r.removedTargetIds||[];n=new Jy(f,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=lw(t,r.document),o=r.readTime?jo(r.readTime):Xe.min(),s=ur.newNoDocument(i,o),l=r.removedTargetIds||[];n=new Jy([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=lw(t,r.document),o=r.removedTargetIds||[];n=new Jy([],o,i,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new oJ(i,o),l=r.targetId;n=new HF(l,s)}}return n}function yJ(t,e){let n;if(e instanceof hm)n={update:hO(t,e.key,e.value)};else if(e instanceof xI)n={delete:nA(t,e.key)};else if(e instanceof al)n={update:hO(t,e.key,e.data),updateMask:AJ(e.fieldMask)};else{if(!(e instanceof nJ))return He(16599,{dt:e.type});n={verify:nA(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const l=s.transform;if(l instanceof mv)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof hp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof pp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof gv)return{fieldPath:s.field.canonicalString(),increment:l.Ae};throw He(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:pJ(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:He(27497)})(t,e.precondition)),n}function vJ(t,e){return t&&t.length>0?(Ct(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?jo(i.updateTime):jo(o);return s.isEqual(Xe.min())&&(s=jo(o)),new ZX(s,i.transformResults||[])})(n,e)))):[]}function bJ(t,e){return{documents:[XF(t,e.path)]}}function xJ(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=XF(t,i);const o=(function(f){if(f.length!==0)return ZF(no.create(f,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(f){if(f.length!==0)return f.map((h=>(function(g){return{field:$c(g.field),direction:TJ(g.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=eA(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:n,parent:i}}function _J(t){let e=mJ(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ct(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(p){const g=QF(p);return g instanceof no&&IF(g)?g.getFilters():[g]})(n.where));let s=[];n.orderBy&&(s=(function(p){return p.map((g=>(function(S){return new dp(Gc(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(g)))})(n.orderBy));let l=null;n.limit&&(l=(function(p){let g;return g=typeof p=="object"?p.value:p,q0(g)?null:g})(n.limit));let c=null;n.startAt&&(c=(function(p){const g=!!p.before,_=p.values||[];return new pv(_,g)})(n.startAt));let f=null;return n.endAt&&(f=(function(p){const g=!p.before,_=p.values||[];return new pv(_,g)})(n.endAt)),VX(e,i,s,o,l,"F",c,f)}function wJ(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function QF(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Gc(n.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gc(n.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gc(n.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Gc(n.unaryFilter.field);return Sn.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}})(t):t.fieldFilter!==void 0?(function(n){return Sn.create(Gc(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return no.create(n.compositeFilter.filters.map((r=>QF(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return He(1026)}})(n.compositeFilter.op))})(t):He(30097,{filter:t})}function TJ(t){return cJ[t]}function EJ(t){return fJ[t]}function SJ(t){return dJ[t]}function $c(t){return{fieldPath:t.canonicalString()}}function Gc(t){return Zn.fromServerFormat(t.fieldPath)}function ZF(t){return t instanceof Sn?(function(n){if(n.op==="=="){if(eO(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NAN"}};if(ZM(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eO(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NAN"}};if(ZM(n.value))return{unaryFilter:{field:$c(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$c(n.field),op:EJ(n.op),value:n.value}}})(t):t instanceof no?(function(n){const r=n.getFilters().map((i=>ZF(i)));return r.length===1?r[0]:{compositeFilter:{op:SJ(n.op),filters:r}}})(t):He(54877,{filter:t})}function AJ(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function eq(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function tq(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e,n,r,i,o=Xe.min(),s=Xe.min(),l=tr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Ua(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e){this.yt=e}}function IJ(t){const e=_J({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ZS(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NJ{constructor(){this.Sn=new RJ}addToCollectionParentIndex(e,n){return this.Sn.add(n),_e.resolve()}getCollectionParents(e,n){return _e.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return _e.resolve()}deleteFieldIndex(e,n){return _e.resolve()}deleteAllFieldIndexes(e){return _e.resolve()}createTargetIndexes(e,n){return _e.resolve()}getDocumentsMatchingTarget(e,n){return _e.resolve(null)}getIndexType(e,n){return _e.resolve(0)}getFieldIndexes(e,n){return _e.resolve([])}getNextCollectionGroupToUpdate(e){return _e.resolve(null)}getMinOffset(e,n){return _e.resolve(Ya.min())}getMinOffsetFromCollectionGroup(e,n){return _e.resolve(Ya.min())}updateCollectionGroup(e,n,r){return _e.resolve()}updateIndexEntries(e,n){return _e.resolve()}}class RJ{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new kn(qt.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(qt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nq=41943040;class Rr{static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(nq,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bf(0)}static ar(){return new bf(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO="LruGarbageCollector",PJ=1048576;function gO([t,e],[n,r]){const i=lt(t,n);return i===0?lt(e,r):i}class kJ{constructor(e){this.Pr=e,this.buffer=new kn(gO),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();gO(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class MJ{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){Oe(mO,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){zf(n)?Oe(mO,"Ignoring IndexedDB error during garbage collection: ",n):await qf(n)}await this.Ar(3e5)}))}}class OJ{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return _e.resolve(F0.ce);const r=new kJ(n);return this.Vr.forEachTarget(e,(i=>r.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>r.Er(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),_e.resolve(pO)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pO):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,o,s,l,c,f;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(r=p,l=Date.now(),this.removeTargets(e,r,n)))).next((p=>(o=p,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((p=>(f=Date.now(),qc()<=at.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${o} targets in `+(c-l)+`ms
	Removed ${p} documents in `+(f-c)+`ms
Total Duration: ${f-h}ms`),_e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p}))))}}function DJ(t,e){return new OJ(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LJ{constructor(){this.changes=new Uu((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ur.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?_e.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VJ{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&zh(r.mutation,i,Qr.empty(),Kt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ct()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ct()){const i=au();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=Ih();return o.forEach(((l,c)=>{s=s.insert(l,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=au();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ct())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,l)=>{n.set(s,l)}))}))}computeViews(e,n,r,i){let o=Ds();const s=qh(),l=(function(){return qh()})();return n.forEach(((c,f)=>{const h=r.get(f.key);i.has(f.key)&&(h===void 0||h.mutation instanceof al)?o=o.insert(f.key,f):h!==void 0?(s.set(f.key,h.mutation.getFieldMask()),zh(h.mutation,f,h.mutation.getFieldMask(),Kt.now())):s.set(f.key,Qr.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((f,h)=>s.set(f,h))),n.forEach(((f,h)=>l.set(f,new UJ(h,s.get(f)??null)))),l)))}recalculateAndSaveOverlays(e,n){const r=qh();let i=new nn(((s,l)=>s-l)),o=ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const l of s)l.keys().forEach((c=>{const f=n.get(c);if(f===null)return;let h=r.get(c)||Qr.empty();h=l.applyToLocalView(f,h),r.set(c,h);const p=(i.get(l.batchId)||ct()).add(c);i=i.insert(l.batchId,p)}))})).next((()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),f=c.key,h=c.value,p=UF();h.forEach((g=>{if(!o.has(g)){const _=zF(n.get(g),r.get(g));_!==null&&p.set(g,_),o=o.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,f,p))}return _e.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return jX(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):_e.resolve(au());let l=lp,c=o;return s.next((f=>_e.forEach(f,((h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),o.get(h)?_e.resolve():this.remoteDocumentCache.getEntry(e,h).next((g=>{c=c.insert(h,g)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,c,f,ct()))).next((h=>({batchId:l,changes:LF(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Be(n)).next((r=>{let i=Ih();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Ih();return this.indexManager.getCollectionParents(e,o).next((l=>_e.forEach(l,(c=>{const f=(function(p,g){return new $f(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next((h=>{h.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,f)=>{const h=f.getKey();s.get(h)===null&&(s=s.insert(h,ur.newInvalidDocument(h)))}));let l=Ih();return s.forEach(((c,f)=>{const h=o.get(c);h!==void 0&&zh(h.mutation,f,Qr.empty(),Kt.now()),G0(n,f)&&(l=l.insert(c,f))})),l}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jJ{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return _e.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:jo(i.createTime)}})(n)),_e.resolve()}getNamedQuery(e,n){return _e.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(i){return{name:i.name,query:IJ(i.bundledQuery),readTime:jo(i.readTime)}})(n)),_e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BJ{constructor(){this.overlays=new nn(Be.comparator),this.Lr=new Map}getOverlay(e,n){return _e.resolve(this.overlays.get(n))}getOverlays(e,n){const r=au();return _e.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.bt(e,n,o)})),_e.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.Lr.delete(r)),_e.resolve()}getOverlaysForCollection(e,n,r){const i=au(),o=n.length+1,s=new Be(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const c=l.getNext().value,f=c.getKey();if(!n.isPrefixOf(f.path))break;f.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return _e.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new nn(((f,h)=>f-h));const s=this.overlays.getIterator();for(;s.hasNext();){const f=s.getNext().value;if(f.getKey().getCollectionGroup()===n&&f.largestBatchId>r){let h=o.get(f.largestBatchId);h===null&&(h=au(),o=o.insert(f.largestBatchId,h)),h.set(f.getKey(),f)}}const l=au(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((f,h)=>l.set(f,h))),!(l.size()>=i)););return _e.resolve(l)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new iJ(n,r));let o=this.Lr.get(n);o===void 0&&(o=ct(),this.Lr.set(n,o)),this.Lr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return _e.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,_e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.kr=new kn(Bn.Kr),this.qr=new kn(Bn.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Bn(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Bn(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new Be(new qt([])),r=new Bn(n,e),i=new Bn(n,e+1),o=[];return this.qr.forEachInRange([r,i],(s=>{this.Wr(s),o.push(s.key)})),o}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Be(new qt([])),r=new Bn(n,e),i=new Bn(n,e+1);let o=ct();return this.qr.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new Bn(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bn{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Be.comparator(e.key,n.key)||lt(e.Hr,n.Hr)}static Ur(e,n){return lt(e.Hr,n.Hr)||Be.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new kn(Bn.Kr)}checkEmpty(e){return _e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new rJ(o,n,r,i);this.mutationQueue.push(s);for(const l of i)this.Jr=this.Jr.add(new Bn(l.key,o)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return _e.resolve(s)}lookupMutationBatch(e,n){return _e.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),o=i<0?0:i;return _e.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return _e.resolve(this.mutationQueue.length===0?hI:this.Yn-1)}getAllMutationBatches(e){return _e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bn(n,0),i=new Bn(n,Number.POSITIVE_INFINITY),o=[];return this.Jr.forEachInRange([r,i],(s=>{const l=this.Zr(s.Hr);o.push(l)})),_e.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new kn(lt);return n.forEach((i=>{const o=new Bn(i,0),s=new Bn(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([o,s],(l=>{r=r.add(l.Hr)}))})),_e.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;Be.isDocumentKey(o)||(o=o.child(""));const s=new Bn(new Be(o),0);let l=new kn(lt);return this.Jr.forEachWhile((c=>{const f=c.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(l=l.add(c.Hr)),!0)}),s),_e.resolve(this.Yr(l))}Yr(e){const n=[];return e.forEach((r=>{const i=this.Zr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Ct(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return _e.forEach(n.mutations,(i=>{const o=new Bn(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Bn(n,0),i=this.Jr.firstAfterOrEqual(r);return _e.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_e.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zJ{constructor(e){this.ti=e,this.docs=(function(){return new nn(Be.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return _e.resolve(r?r.document.mutableCopy():ur.newInvalidDocument(n))}getEntries(e,n){let r=Ds();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ur.newInvalidDocument(i))})),_e.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ds();const s=n.path,l=new Be(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:f,value:{document:h}}=c.getNext();if(!s.isPrefixOf(f.path))break;f.path.length>s.length+1||mX(pX(h),r)<=0||(i.has(h.key)||G0(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return _e.resolve(o)}getAllFromCollectionGroup(e,n,r,i){He(9500)}ni(e,n){return _e.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new $J(this)}getSize(e){return _e.resolve(this.size)}}class $J extends LJ{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)})),_e.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(e){this.persistence=e,this.ri=new Uu((n=>gI(n)),yI),this.lastRemoteSnapshotVersion=Xe.min(),this.highestTargetId=0,this.ii=0,this.si=new EI,this.targetCount=0,this.oi=bf._r()}forEachTarget(e,n){return this.ri.forEach(((r,i)=>n(i))),_e.resolve()}getLastRemoteSnapshotVersion(e){return _e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _e.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),_e.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),_e.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bf(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,_e.resolve()}updateTargetData(e,n){return this.lr(n),_e.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,_e.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.ri.forEach(((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ri.delete(s),o.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)})),_e.waitFor(o).next((()=>i))}getTargetCount(e){return _e.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return _e.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),_e.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),_e.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),_e.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return _e.resolve(r)}containsKey(e,n){return _e.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e,n){this._i={},this.overlays={},this.ai=new F0(0),this.ui=!1,this.ui=!0,this.ci=new FJ,this.referenceDelegate=e(this),this.li=new GJ(this),this.indexManager=new NJ,this.remoteDocumentCache=(function(i){return new zJ(i)})((r=>this.referenceDelegate.hi(r))),this.serializer=new CJ(n),this.Pi=new jJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new BJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new qJ(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){Oe("MemoryPersistence","Starting transaction:",e);const i=new HJ(this.ai.next());return this.referenceDelegate.Ti(),r(i).next((o=>this.referenceDelegate.Ii(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ei(e,n){return _e.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class HJ extends yX{constructor(e){super(),this.currentSequenceNumber=e}}class SI{constructor(e){this.persistence=e,this.Ri=new EI,this.Ai=null}static Vi(e){return new SI(e)}get di(){if(this.Ai)return this.Ai;throw He(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),_e.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),_e.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),_e.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((i=>this.di.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.di.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _e.forEach(this.di,(r=>{const i=Be.fromPath(r);return this.mi(e,i).next((o=>{o||n.removeEntry(i,Xe.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return _e.or([()=>_e.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class vv{constructor(e,n){this.persistence=e,this.fi=new Uu((r=>xX(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=DJ(this,n)}static Vi(e,n){return new vv(e,n)}Ti(){}Ii(e){return _e.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return _e.forEach(this.fi,((r,i)=>this.wr(e,r,i).next((o=>o?_e.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,n).next((l=>{l||(r++,o.removeEntry(s,Xe.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),_e.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),_e.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),_e.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),_e.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Wy(e.data.value)),n}wr(e,n,r){return _e.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return _e.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ct(),i=ct();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new AI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KJ{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WJ{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return OW()?8:vX(hr())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.gs(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ps(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new KJ;return this.ys(e,n,s).next((l=>{if(o.result=l,this.As)return this.ws(e,n,s,l.size)}))})).next((()=>o.result))}ws(e,n,r,i){return r.documentReadCount<this.Vs?(qc()<=at.DEBUG&&Oe("QueryEngine","SDK will not create cache indexes for query:",zc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),_e.resolve()):(qc()<=at.DEBUG&&Oe("QueryEngine","Query:",zc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(qc()<=at.DEBUG&&Oe("QueryEngine","The SDK decides to create cache indexes for query:",zc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vo(n))):_e.resolve())}gs(e,n){if(iO(n))return _e.resolve(null);let r=Vo(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=ZS(n,null,"F"),r=Vo(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=ct(...o);return this.fs.getDocuments(e,s).next((l=>this.indexManager.getMinOffset(e,r).next((c=>{const f=this.bs(n,l);return this.Ss(n,f,s,c.readTime)?this.gs(e,ZS(n,null,"F")):this.Ds(e,f,n,c)}))))})))))}ps(e,n,r,i){return iO(n)||i.isEqual(Xe.min())?_e.resolve(null):this.fs.getDocuments(e,r).next((o=>{const s=this.bs(n,o);return this.Ss(n,s,r,i)?_e.resolve(null):(qc()<=at.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zc(n)),this.Ds(e,s,n,hX(i,lp)).next((l=>l)))}))}bs(e,n){let r=new kn(OF(e));return n.forEach(((i,o)=>{G0(e,o)&&(r=r.add(o))})),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ys(e,n,r){return qc()<=at.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",zc(n)),this.fs.getDocumentsMatchingQuery(e,n,Ya.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="LocalStore",YJ=3e8;class XJ{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new nn(lt),this.Fs=new Uu((o=>gI(o)),yI),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VJ(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function JJ(t,e,n,r){return new XJ(t,e,n,r)}async function iq(t,e){const n=Qe(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],l=[];let c=ct();for(const f of i){s.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}for(const f of o){l.push(f.batchId);for(const h of f.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((f=>({Ns:f,removedBatchIds:s,addedBatchIds:l})))}))}))}function QJ(t,e){const n=Qe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.xs.newChangeBuffer({trackRemovals:!0});return(function(l,c,f,h){const p=f.batch,g=p.keys();let _=_e.resolve();return g.forEach((S=>{_=_.next((()=>h.getEntry(c,S))).next((A=>{const E=f.docVersions.get(S);Ct(E!==null,48541),A.version.compareTo(E)<0&&(p.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),h.addEntry(A)))}))})),_.next((()=>l.mutationQueue.removeMutationBatch(c,p)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(l){let c=ct();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(c=c.add(l.batch.mutations[f].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function oq(t){const e=Qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ZJ(t,e){const n=Qe(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const l=[];e.targetChanges.forEach(((h,p)=>{const g=i.get(p);if(!g)return;l.push(n.li.removeMatchingKeys(o,h.removedDocuments,p).next((()=>n.li.addMatchingKeys(o,h.addedDocuments,p))));let _=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?_=_.withResumeToken(tr.EMPTY_BYTE_STRING,Xe.min()).withLastLimboFreeSnapshotVersion(Xe.min()):h.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(h.resumeToken,r)),i=i.insert(p,_),(function(A,E,M){return A.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=YJ?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(g,_,h)&&l.push(n.li.updateTargetData(o,_))}));let c=Ds(),f=ct();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),l.push(eQ(o,s,e.documentUpdates).next((h=>{c=h.Bs,f=h.Ls}))),!r.isEqual(Xe.min())){const h=n.li.getLastRemoteSnapshotVersion(o).next((p=>n.li.setTargetsMetadata(o,o.currentSequenceNumber,r)));l.push(h)}return _e.waitFor(l).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,f))).next((()=>c))})).then((o=>(n.vs=i,o)))}function eQ(t,e,n){let r=ct(),i=ct();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=Ds();return n.forEach(((l,c)=>{const f=o.get(l);c.isFoundDocument()!==f.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(Xe.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!f.isValidDocument()||c.version.compareTo(f.version)>0||c.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):Oe(CI,"Ignoring outdated watch update for ",l,". Current version:",f.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function tQ(t,e){const n=Qe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=hI),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function nQ(t,e){const n=Qe(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.li.getTargetData(r,e).next((o=>o?(i=o,_e.resolve(i)):n.li.allocateTargetId(r).next((s=>(i=new Ua(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function iA(t,e,n){const r=Qe(t),i=r.vs.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!zf(s))throw s;Oe(CI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function yO(t,e,n){const r=Qe(t);let i=Xe.min(),o=ct();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,f,h){const p=Qe(c),g=p.Fs.get(h);return g!==void 0?_e.resolve(p.vs.get(g)):p.li.getTargetData(f,h)})(r,s,Vo(e)).next((l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(s,l.targetId).next((c=>{o=c}))})).next((()=>r.Cs.getDocumentsMatchingQuery(s,e,n?i:Xe.min(),n?o:ct()))).next((l=>(rQ(r,qX(e),l),{documents:l,ks:o})))))}function rQ(t,e,n){let r=t.Ms.get(e)||Xe.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Ms.set(e,r)}class vO{constructor(){this.activeTargetIds=WX()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iQ{constructor(){this.vo=new vO,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new vO,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO="ConnectivityMonitor";class xO{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Oe(bO,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Oe(bO,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy=null;function oA(){return yy===null?yy=(function(){return 268435456+Math.round(2147483648*Math.random())})():yy++,"0x"+yy.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="RestConnection",sQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class aQ{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===dv?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,o){const s=oA(),l=this.Qo(e,n.toUriEncodedString());Oe(uw,`Sending RPC '${e}' ${s}:`,l,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,o);const{host:f}=new URL(l),h=il(f);return this.zo(e,l,c,r,h).then((p=>(Oe(uw,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw Eu(uw,`RPC '${e}' ${s} failed with error: `,p,"url: ",l,"request:",r),p}))}jo(e,n,r,i,o,s){return this.Wo(e,n,r,i,o)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ff})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}Qo(e,n){const r=sQ[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="WebChannelConnection",lh=(t,e,n)=>{t.listen(e,(r=>{try{n(r)}catch(i){setTimeout((()=>{throw i}),0)}}))};class rf extends aQ{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!rf.c_){const e=cF();lh(e,uF.STAT_EVENT,(n=>{n.stat===HS.PROXY?Oe(rr,"STAT_EVENT: detected buffering proxy"):n.stat===HS.NOPROXY&&Oe(rr,"STAT_EVENT: detected no buffering proxy")})),rf.c_=!0}}zo(e,n,r,i,o){const s=oA();return new Promise(((l,c)=>{const f=new aF;f.setWithCredentials(!0),f.listenOnce(lF.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Ky.NO_ERROR:const p=f.getResponseJson();Oe(rr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),l(p);break;case Ky.TIMEOUT:Oe(rr,`RPC '${e}' ${s} timed out`),c(new ke(ve.DEADLINE_EXCEEDED,"Request time out"));break;case Ky.HTTP_ERROR:const g=f.getStatus();if(Oe(rr,`RPC '${e}' ${s} failed with status:`,g,"response text:",f.getResponseText()),g>0){let _=f.getResponseJson();Array.isArray(_)&&(_=_[0]);const S=_==null?void 0:_.error;if(S&&S.status&&S.message){const A=(function(M){const I=M.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(I)>=0?I:ve.UNKNOWN})(S.status);c(new ke(A,S.message))}else c(new ke(ve.UNKNOWN,"Server responded with status "+f.getStatus()))}else c(new ke(ve.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:s,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Oe(rr,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);Oe(rr,`RPC '${e}' ${s} sending request:`,i),f.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=oA(),o=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Go(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const f=o.join("");Oe(rr,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=s.createWebChannel(f,l);this.I_(h);let p=!1,g=!1;const _=new lQ({Ho:S=>{g?Oe(rr,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(p||(Oe(rr,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),Oe(rr,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return lh(h,Ch.EventType.OPEN,(()=>{g||(Oe(rr,`RPC '${e}' stream ${i} transport opened.`),_.i_())})),lh(h,Ch.EventType.CLOSE,(()=>{g||(g=!0,Oe(rr,`RPC '${e}' stream ${i} transport closed`),_.o_(),this.E_(h))})),lh(h,Ch.EventType.ERROR,(S=>{g||(g=!0,Eu(rr,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),_.o_(new ke(ve.UNAVAILABLE,"The operation could not be completed")))})),lh(h,Ch.EventType.MESSAGE,(S=>{var A;if(!g){const E=S.data[0];Ct(!!E,16349);const M=E,I=(M==null?void 0:M.error)||((A=M[0])==null?void 0:A.error);if(I){Oe(rr,`RPC '${e}' stream ${i} received error:`,I);const N=I.status;let C=(function(k){const O=En[k];if(O!==void 0)return GF(O)})(N),R=I.message;N==="NOT_FOUND"&&R.includes("database")&&R.includes("does not exist")&&R.includes(this.databaseId.database)&&Eu(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),C===void 0&&(C=ve.INTERNAL,R="Unknown error status: "+N+" with message "+I.message),g=!0,_.o_(new ke(C,R)),h.close()}else Oe(rr,`RPC '${e}' stream ${i} received:`,E),_.__(E)}})),rf.u_(),setTimeout((()=>{_.s_()}),0),_}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return fF()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){return new rf(t)}function cw(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(t){return new hJ(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rf.c_=!1;class sq{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=o,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&Oe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O="PersistentStream";class aq{constructor(e,n,r,i,o,s,l,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sq(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===ve.RESOURCE_EXHAUSTED?(Os(n.toString()),Os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===ve.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ke(ve.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Oe(_O,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(Oe(_O,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cQ extends aq{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=gJ(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Xe.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Xe.min():s.readTime?jo(s.readTime):Xe.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=rA(this.serializer),n.addTarget=(function(o,s){let l;const c=s.target;if(l=JS(c)?{documents:bJ(o,c)}:{query:xJ(o,c).ft},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=WF(o,s.resumeToken);const f=eA(o,s.expectedCount);f!==null&&(l.expectedCount=f)}else if(s.snapshotVersion.compareTo(Xe.min())>0){l.readTime=yv(o,s.snapshotVersion.toTimestamp());const f=eA(o,s.expectedCount);f!==null&&(l.expectedCount=f)}return l})(this.serializer,e);const r=wJ(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=rA(this.serializer),n.removeTarget=e,this.K_(n)}}class fQ extends aq{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ct(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ct(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ct(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=vJ(e.writeResults,e.commitTime),r=jo(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rA(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>yJ(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{}class hQ extends dQ{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Wo(e,tA(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(ve.UNKNOWN,o.toString())}))}jo(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,l])=>this.connection.jo(e,tA(n,r),i,s,l,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ke(ve.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function pQ(t,e,n,r){return new hQ(t,e,n,r)}class mQ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Os(n),this.aa=!1):Oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Su="RemoteStore";class gQ{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=o,this.Aa.Mo((s=>{r.enqueueAndForget((async()=>{Vu(this)&&(Oe(Su,"Restarting streams for network reachability change."),await(async function(c){const f=Qe(c);f.Ea.add(4),await mm(f),f.Va.set("Unknown"),f.Ea.delete(4),await X0(f)})(this))}))})),this.Va=new mQ(r,i)}}async function X0(t){if(Vu(t))for(const e of t.Ra)await e(!0)}async function mm(t){for(const e of t.Ra)await e(!1)}function lq(t,e){const n=Qe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),PI(n)?RI(n):Gf(n).O_()&&NI(n,e))}function II(t,e){const n=Qe(t),r=Gf(n);n.Ia.delete(e),r.O_()&&uq(n,e),n.Ia.size===0&&(r.O_()?r.L_():Vu(n)&&n.Va.set("Unknown"))}function NI(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Xe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Gf(t).Z_(e)}function uq(t,e){t.da.$e(e),Gf(t).X_(e)}function RI(t){t.da=new uJ({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Gf(t).start(),t.Va.ua()}function PI(t){return Vu(t)&&!Gf(t).x_()&&t.Ia.size>0}function Vu(t){return Qe(t).Ea.size===0}function cq(t){t.da=void 0}async function yQ(t){t.Va.set("Online")}async function vQ(t){t.Ia.forEach(((e,n)=>{NI(t,e)}))}async function bQ(t,e){cq(t),PI(t)?(t.Va.ha(e),RI(t)):t.Va.set("Unknown")}async function xQ(t,e,n){if(t.Va.set("Online"),e instanceof KF&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const l of o.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i.Ia.delete(l),i.da.removeTarget(l))})(t,e)}catch(r){Oe(Su,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await bv(t,r)}else if(e instanceof Jy?t.da.Xe(e):e instanceof HF?t.da.st(e):t.da.tt(e),!n.isEqual(Xe.min()))try{const r=await oq(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const l=o.da.Tt(s);return l.targetChanges.forEach(((c,f)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(f);h&&o.Ia.set(f,h.withResumeToken(c.resumeToken,s))}})),l.targetMismatches.forEach(((c,f)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(tr.EMPTY_BYTE_STRING,h.snapshotVersion)),uq(o,c);const p=new Ua(h.target,c,f,h.sequenceNumber);NI(o,p)})),o.remoteSyncer.applyRemoteEvent(l)})(t,n)}catch(r){Oe(Su,"Failed to raise snapshot:",r),await bv(t,r)}}async function bv(t,e,n){if(!zf(e))throw e;t.Ea.add(1),await mm(t),t.Va.set("Offline"),n||(n=()=>oq(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Oe(Su,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await X0(t)}))}function fq(t,e){return e().catch((n=>bv(t,n,e)))}async function J0(t){const e=Qe(t),n=Za(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:hI;for(;_Q(e);)try{const i=await tQ(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,wQ(e,i)}catch(i){await bv(e,i)}dq(e)&&hq(e)}function _Q(t){return Vu(t)&&t.Ta.length<10}function wQ(t,e){t.Ta.push(e);const n=Za(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function dq(t){return Vu(t)&&!Za(t).x_()&&t.Ta.length>0}function hq(t){Za(t).start()}async function TQ(t){Za(t).ra()}async function EQ(t){const e=Za(t);for(const n of t.Ta)e.ea(n.mutations)}async function SQ(t,e,n){const r=t.Ta.shift(),i=_I.from(r,e,n);await fq(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await J0(t)}async function AQ(t,e){e&&Za(t).Y_&&await(async function(r,i){if((function(s){return sJ(s)&&s!==ve.ABORTED})(i.code)){const o=r.Ta.shift();Za(r).B_(),await fq(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await J0(r)}})(t,e),dq(t)&&hq(t)}async function wO(t,e){const n=Qe(t);n.asyncQueue.verifyOperationInProgress(),Oe(Su,"RemoteStore received new credentials");const r=Vu(n);n.Ea.add(3),await mm(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await X0(n)}async function CQ(t,e){const n=Qe(t);e?(n.Ea.delete(2),await X0(n)):e||(n.Ea.add(2),await mm(n),n.Va.set("Unknown"))}function Gf(t){return t.ma||(t.ma=(function(n,r,i){const o=Qe(n);return o.sa(),new cQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:yQ.bind(null,t),Yo:vQ.bind(null,t),t_:bQ.bind(null,t),J_:xQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),PI(t)?RI(t):t.Va.set("Unknown")):(await t.ma.stop(),cq(t))}))),t.ma}function Za(t){return t.fa||(t.fa=(function(n,r,i){const o=Qe(n);return o.sa(),new fQ(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:TQ.bind(null,t),t_:AQ.bind(null,t),ta:EQ.bind(null,t),na:SQ.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await J0(t)):(await t.fa.stop(),t.Ta.length>0&&(Oe(Su,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new As,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,l=new kI(e,n,s,i,o);return l.start(r),l}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(ve.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function MI(t,e){if(Os("AsyncQueue",`${e}: ${t}`),zf(t))return new ke(ve.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{static emptySet(e){return new of(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Be.comparator(n.key,r.key):(n,r)=>Be.comparator(n.key,r.key),this.keyedMap=Ih(),this.sortedSet=new nn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof of)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new of;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.ga=new nn(Be.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class xf{constructor(e,n,r,i,o,s,l,c,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=f}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((l=>{s.push({type:0,doc:l})})),new xf(e,n,of.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class NQ{constructor(){this.queries=EO(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Qe(n),o=i.queries;i.queries=EO(),o.forEach(((s,l)=>{for(const c of l.ba)c.onError(r)}))})(this,new ke(ve.ABORTED,"Firestore shutting down"))}}function EO(){return new Uu((t=>MF(t)),$0)}async function pq(t,e){const n=Qe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.Sa()&&e.Da()&&(r=2):(o=new IQ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=MI(s,`Initialization of query '${zc(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,o),o.ba.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&OI(n)}async function mq(t,e){const n=Qe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.ba.indexOf(e);s>=0&&(o.ba.splice(s,1),o.ba.length===0?i=e.Da()?0:1:!o.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function RQ(t,e){const n=Qe(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const l of s.ba)l.Fa(i)&&(r=!0);s.wa=i}}r&&OI(n)}function PQ(t,e,n){const r=Qe(t),i=r.queries.get(e);if(i)for(const o of i.ba)o.onError(n);r.queries.delete(e)}function OI(t){t.Ca.forEach((e=>{e.next()}))}var sA,SO;(SO=sA||(sA={})).Ma="default",SO.Cache="cache";class gq{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new xf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=xf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==sA.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.key=e}}class vq{constructor(e){this.key=e}}class kQ{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ct(),this.mutatedKeys=ct(),this.eu=OF(e),this.tu=new of(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new TO,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,f=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,p)=>{const g=i.get(h),_=G0(this.query,p)?p:null,S=!!g&&this.mutatedKeys.has(g.key),A=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations);let E=!1;g&&_?g.data.isEqual(_.data)?S!==A&&(r.track({type:3,doc:_}),E=!0):this.su(g,_)||(r.track({type:2,doc:_}),E=!0,(c&&this.eu(_,c)>0||f&&this.eu(_,f)<0)&&(l=!0)):!g&&_?(r.track({type:0,doc:_}),E=!0):g&&!_&&(r.track({type:1,doc:g}),E=!0,(c||f)&&(l=!0)),E&&(_?(s=s.add(_),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Ss:l,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,p)=>(function(_,S){const A=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:E})}};return A(_)-A(S)})(h.type,p.type)||this.eu(h.doc,p.doc))),this.ou(r),i=i??!1;const l=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,f=c!==this.Xa;return this.Xa=c,s.length!==0||f?{snapshot:new xf(this.query,e.tu,o,s,e.mutatedKeys,c===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new TO,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ct(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new vq(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new yq(r))})),n}cu(e){this.Za=e.ks,this.Ya=ct();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return xf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const DI="SyncEngine";class MQ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class OQ{constructor(e){this.key=e,this.hu=!1}}class DQ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Uu((l=>MF(l)),$0),this.Iu=new Map,this.Eu=new Set,this.Ru=new nn(Be.comparator),this.Au=new Map,this.Vu=new EI,this.du={},this.mu=new Map,this.fu=bf.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function LQ(t,e,n=!0){const r=Eq(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await bq(r,e,n,!0),i}async function UQ(t,e){const n=Eq(t);await bq(n,e,!0,!1)}async function bq(t,e,n,r){const i=await nQ(t.localStore,Vo(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let l;return r&&(l=await VQ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&lq(t.remoteStore,i),l}async function VQ(t,e,n,r,i){t.pu=(p,g,_)=>(async function(A,E,M,I){let N=E.view.ru(M);N.Ss&&(N=await yO(A.localStore,E.query,!1).then((({documents:k})=>E.view.ru(k,N))));const C=I&&I.targetChanges.get(E.targetId),R=I&&I.targetMismatches.get(E.targetId)!=null,U=E.view.applyChanges(N,A.isPrimaryClient,C,R);return CO(A,E.targetId,U.au),U.snapshot})(t,p,g,_);const o=await yO(t.localStore,e,!0),s=new kQ(e,o.ks),l=s.ru(o.documents),c=pm.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),f=s.applyChanges(l,t.isPrimaryClient,c);CO(t,n,f.au);const h=new MQ(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),f.snapshot}async function jQ(t,e,n){const r=Qe(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!$0(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await iA(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&II(r.remoteStore,i.targetId),aA(r,i.targetId)})).catch(qf)):(aA(r,i.targetId),await iA(r.localStore,i.targetId,!0))}async function BQ(t,e){const n=Qe(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),II(n.remoteStore,r.targetId))}async function FQ(t,e,n){const r=WQ(t);try{const i=await(function(s,l){const c=Qe(s),f=Kt.now(),h=l.reduce(((_,S)=>_.add(S.key)),ct());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(_=>{let S=Ds(),A=ct();return c.xs.getEntries(_,h).next((E=>{S=E,S.forEach(((M,I)=>{I.isValidDocument()||(A=A.add(M))}))})).next((()=>c.localDocuments.getOverlayedDocuments(_,S))).next((E=>{p=E;const M=[];for(const I of l){const N=tJ(I,p.get(I.key).overlayedDocument);N!=null&&M.push(new al(I.key,N,SF(N.value.mapValue),Or.exists(!0)))}return c.mutationQueue.addMutationBatch(_,f,M,l)})).next((E=>{g=E;const M=E.applyToLocalDocumentSet(p,A);return c.documentOverlayCache.saveOverlays(_,E.batchId,M)}))})).then((()=>({batchId:g.batchId,changes:LF(p)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,l,c){let f=s.du[s.currentUser.toKey()];f||(f=new nn(lt)),f=f.insert(l,c),s.du[s.currentUser.toKey()]=f})(r,i.batchId,n),await gm(r,i.changes),await J0(r.remoteStore)}catch(i){const o=MI(i,"Failed to persist write");n.reject(o)}}async function xq(t,e){const n=Qe(t);try{const r=await ZJ(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(Ct(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Ct(s.hu,14607):i.removedDocuments.size>0&&(Ct(s.hu,42227),s.hu=!1))})),await gm(n,r,e)}catch(r){await qf(r)}}function AO(t,e,n){const r=Qe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const l=s.view.va(e);l.snapshot&&i.push(l.snapshot)})),(function(s,l){const c=Qe(s);c.onlineState=l;let f=!1;c.queries.forEach(((h,p)=>{for(const g of p.ba)g.va(l)&&(f=!0)})),f&&OI(c)})(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function qQ(t,e,n){const r=Qe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new nn(Be.comparator);s=s.insert(o,ur.newNoDocument(o,Xe.min()));const l=ct().add(o),c=new W0(Xe.min(),new Map,new nn(lt),s,l);await xq(r,c),r.Ru=r.Ru.remove(o),r.Au.delete(e),LI(r)}else await iA(r.localStore,e,!1).then((()=>aA(r,e,n))).catch(qf)}async function zQ(t,e){const n=Qe(t),r=e.batch.batchId;try{const i=await QJ(n.localStore,e);wq(n,r,null),_q(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await gm(n,i)}catch(i){await qf(i)}}async function $Q(t,e,n){const r=Qe(t);try{const i=await(function(s,l){const c=Qe(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let h;return c.mutationQueue.lookupMutationBatch(f,l).next((p=>(Ct(p!==null,37113),h=p.keys(),c.mutationQueue.removeMutationBatch(f,p)))).next((()=>c.mutationQueue.performConsistencyCheck(f))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(f,h,l))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,h))).next((()=>c.localDocuments.getDocuments(f,h)))}))})(r.localStore,e);wq(r,e,n),_q(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await gm(r,i)}catch(i){await qf(i)}}function _q(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function wq(t,e,n){const r=Qe(t);let i=r.du[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function aA(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((r=>{t.Vu.containsKey(r)||Tq(t,r)}))}function Tq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(II(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),LI(t))}function CO(t,e,n){for(const r of n)r instanceof yq?(t.Vu.addReference(r.key,e),GQ(t,r)):r instanceof vq?(Oe(DI,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||Tq(t,r.key)):He(19791,{wu:r})}function GQ(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(Oe(DI,"New document in limbo: "+n),t.Eu.add(r),LI(t))}function LI(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Be(qt.fromString(e)),r=t.fu.next();t.Au.set(r,new OQ(n)),t.Ru=t.Ru.insert(n,r),lq(t.remoteStore,new Ua(Vo(vI(n.path)),r,"TargetPurposeLimboResolution",F0.ce))}}async function gm(t,e,n){const r=Qe(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((l,c)=>{s.push(r.pu(c,e,n).then((f=>{var h;if((f||n)&&r.isPrimaryClient){const p=f?!f.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(f){i.push(f);const p=AI.Es(c.targetId,f);o.push(p)}})))})),await Promise.all(s),r.Pu.J_(i),await(async function(c,f){const h=Qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>_e.forEach(f,(g=>_e.forEach(g.Ts,(_=>h.persistence.referenceDelegate.addReference(p,g.targetId,_))).next((()=>_e.forEach(g.Is,(_=>h.persistence.referenceDelegate.removeReference(p,g.targetId,_)))))))))}catch(p){if(!zf(p))throw p;Oe(CI,"Failed to update sequence numbers: "+p)}for(const p of f){const g=p.targetId;if(!p.fromCache){const _=h.vs.get(g),S=_.snapshotVersion,A=_.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(g,A)}}})(r.localStore,o))}async function HQ(t,e){const n=Qe(t);if(!n.currentUser.isEqual(e)){Oe(DI,"User change. New user:",e.toKey());const r=await iq(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((l=>{l.forEach((c=>{c.reject(new ke(ve.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await gm(n,r.Ns)}}function KQ(t,e){const n=Qe(t),r=n.Au.get(e);if(r&&r.hu)return ct().add(r.key);{let i=ct();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const l=n.Tu.get(s);i=i.unionWith(l.view.nu)}return i}}function Eq(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KQ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qQ.bind(null,e),e.Pu.J_=RQ.bind(null,e.eventManager),e.Pu.yu=PQ.bind(null,e.eventManager),e}function WQ(t){const e=Qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=zQ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$Q.bind(null,e),e}class xv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Y0(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return JJ(this.persistence,new WJ,e.initialUser,this.serializer)}Cu(e){return new rq(SI.Vi,this.serializer)}Du(e){return new iQ}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xv.provider={build:()=>new xv};class YQ extends xv{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ct(this.persistence.referenceDelegate instanceof vv,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new MJ(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new rq((r=>vv.Vi(r,n)),this.serializer)}}class lA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>AO(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HQ.bind(null,this.syncEngine),await CQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NQ})()}createDatastore(e){const n=Y0(e.databaseInfo.databaseId),r=uQ(e.databaseInfo);return pQ(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,l){return new gQ(r,i,o,s,l)})(this.localStore,this.datastore,e.asyncQueue,(n=>AO(this.syncEngine,n,0)),(function(){return xO.v()?new xO:new oQ})())}createSyncEngine(e,n){return(function(i,o,s,l,c,f,h){const p=new DQ(i,o,s,l,c,f);return h&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Qe(i);Oe(Su,"RemoteStore shutting down."),o.Ea.add(5),await mm(o),o.Aa.shutdown(),o.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}lA.provider={build:()=>new lA};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Os("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="FirestoreClient";class XQ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=sr.UNAUTHENTICATED,this.clientId=dI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{Oe(el,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(Oe(el,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new As;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=MI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function fw(t,e){t.asyncQueue.verifyOperationInProgress(),Oe(el,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await iq(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function IO(t,e){t.asyncQueue.verifyOperationInProgress();const n=await JQ(t);Oe(el,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>wO(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>wO(e.remoteStore,i))),t._onlineComponents=e}async function JQ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Oe(el,"Using user provided OfflineComponentProvider");try{await fw(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===ve.FAILED_PRECONDITION||i.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;Eu("Error using user provided cache. Falling back to memory cache: "+n),await fw(t,new xv)}}else Oe(el,"Using default OfflineComponentProvider"),await fw(t,new YQ(void 0));return t._offlineComponents}async function Aq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Oe(el,"Using user provided OnlineComponentProvider"),await IO(t,t._uninitializedComponentsProvider._online)):(Oe(el,"Using default OnlineComponentProvider"),await IO(t,new lA))),t._onlineComponents}function QQ(t){return Aq(t).then((e=>e.syncEngine))}async function Cq(t){const e=await Aq(t),n=e.eventManager;return n.onListen=LQ.bind(null,e.syncEngine),n.onUnlisten=jQ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=UQ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=BQ.bind(null,e.syncEngine),n}function ZQ(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,l,c,f){const h=new Sq({next:g=>{h.Nu(),s.enqueueAndForget((()=>mq(o,p)));const _=g.docs.has(l);!_&&g.fromCache?f.reject(new ke(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):_&&g.fromCache&&c&&c.source==="server"?f.reject(new ke(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new gq(vI(l.path),h,{includeMetadataChanges:!0,Ka:!0});return pq(o,p)})(await Cq(t),t.asyncQueue,e,n,r))),r.promise}function eZ(t,e,n={}){const r=new As;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,l,c,f){const h=new Sq({next:g=>{h.Nu(),s.enqueueAndForget((()=>mq(o,p))),g.fromCache&&c.source==="server"?f.reject(new ke(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(g)},error:g=>f.reject(g)}),p=new gq(l,h,{includeMetadataChanges:!0,Ka:!0});return pq(o,p)})(await Cq(t),t.asyncQueue,e,n,r))),r.promise}function tZ(t,e){const n=new As;return t.asyncQueue.enqueueAndForget((async()=>FQ(await QQ(t),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nZ="ComponentProvider",NO=new Map;function rZ(t,e,n,r,i){return new TX(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Iq(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nq="firestore.googleapis.com",RO=!0;class PO{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ke(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nq,this.ssl=RO}else this.host=e.host,this.ssl=e.ssl??RO;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nq;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PJ)throw new ke(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Iq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(ve.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Q0{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PO({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PO(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nX;switch(r.type){case"firstParty":return new sX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=NO.get(n);r&&(Oe(nZ,"Removing Datastore"),NO.delete(n),r.terminate())})(this),Promise.resolve()}}function iZ(t,e,n,r={}){var f;t=to(t,Q0);const i=il(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(lI(`https://${l}`),uI("Firestore",!0)),o.host!==Nq&&o.host!==l&&Eu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:l,ssl:i,emulatorOptions:r};if(!Wa(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=sr.MOCK_USER;else{h=XB(r.mockUserToken,(f=t._app)==null?void 0:f.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new ke(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new sr(g)}t._authCredentials=new rX(new hF(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ju(this.firestore,e,this._query)}}class mn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mn(this.firestore,e,this._key)}toJSON(){return{type:mn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dm(n,mn._jsonSchema))return new mn(e,r||null,new Be(qt.fromString(n.referencePath)))}}mn._jsonSchemaVersion="firestore/documentReference/1.0",mn._jsonSchema={type:Cn("string",mn._jsonSchemaVersion),referencePath:Cn("string")};class Ga extends ju{constructor(e,n,r){super(e,n,vI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mn(this.firestore,null,new Be(e))}withConverter(e){return new Ga(this.firestore,e,this._path)}}function Kr(t,e,...n){if(t=zt(t),pF("collection","path",e),t instanceof Q0){const r=qt.fromString(e,...n);return $M(r),new Ga(t,null,r)}{if(!(t instanceof mn||t instanceof Ga))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return $M(r),new Ga(t.firestore,null,r)}}function Xn(t,e,...n){if(t=zt(t),arguments.length===1&&(e=dI.newId()),pF("doc","path",e),t instanceof Q0){const r=qt.fromString(e,...n);return zM(r),new mn(t,null,new Be(r))}{if(!(t instanceof mn||t instanceof Ga))throw new ke(ve.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qt.fromString(e,...n));return zM(r),new mn(t.firestore,t instanceof Ga?t.converter:null,new Be(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO="AsyncQueue";class MO{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sq(this,"async_queue_retry"),this._c=()=>{const r=cw();r&&Oe(kO,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=cw();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cw();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new As;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!zf(e))throw e;Oe(kO,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,Os("INTERNAL UNHANDLED ERROR: ",OO(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=kI.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&He(47125,{Pc:OO(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function OO(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Bu extends Q0{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MO,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MO(e),this._firestoreClient=void 0,await e}}}function oZ(t,e){const n=typeof t=="object"?t:fm(),r=typeof t=="string"?t:dv,i=ol(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=KB("firestore");o&&iZ(i,...o)}return i}function Z0(t){if(t._terminated)throw new ke(ve.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||sZ(t),t._firestoreClient}function sZ(t){var r,i,o,s;const e=t._freezeSettings(),n=rZ(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(o=e.localCache)!=null&&o._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new XQ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ei(tr.fromBase64String(e))}catch(n){throw new ke(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ei(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dm(e,Ei._jsonSchema))return Ei.fromBase64String(e.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:Cn("string",Ei._jsonSchemaVersion),bytes:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bo._jsonSchemaVersion}}static fromJSON(e){if(dm(e,Bo._jsonSchema))return new Bo(e.latitude,e.longitude)}}Bo._jsonSchemaVersion="firestore/geoPoint/1.0",Bo._jsonSchema={type:Cn("string",Bo._jsonSchemaVersion),latitude:Cn("number"),longitude:Cn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dm(e,Xi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Xi(e.vectorValues);throw new ke(ve.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Xi._jsonSchemaVersion="firestore/vectorValue/1.0",Xi._jsonSchema={type:Cn("string",Xi._jsonSchemaVersion),vectorValues:Cn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aZ=/^__.*__$/;class lZ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new al(e,this.data,this.fieldMask,n,this.fieldTransforms):new hm(e,this.data,n,this.fieldTransforms)}}class Rq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new al(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Pq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{dataSource:t})}}class VI{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.validatePath(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new VI({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _v(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(Pq(this.dataSource)&&aZ.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class uZ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Y0(e)}createContext(e,n,r,i=!1){return new VI({dataSource:e,methodName:n,targetDoc:r,path:Zn.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ym(t){const e=t._freezeSettings(),n=Y0(t._databaseId);return new uZ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function jI(t,e,n,r,i,o={}){const s=t.createContext(o.merge||o.mergeFields?2:0,e,n,i);BI("Data must be an object, but it was:",s,r);const l=Oq(r,s);let c,f;if(o.merge)c=new Qr(s.fieldMask),f=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const p of o.mergeFields){const g=Au(e,p,n);if(!s.contains(g))throw new ke(ve.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Uq(h,g)||h.push(g)}c=new Qr(h),f=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,f=s.fieldTransforms;return new lZ(new Pr(l),c,f)}class tb extends UI{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tb}}function kq(t,e,n,r){const i=t.createContext(1,e,n);BI("Data must be an object, but it was:",i,r);const o=[],s=Pr.empty();sl(r,((c,f)=>{const h=Lq(e,c,n);f=zt(f);const p=i.childContextForFieldPath(h);if(f instanceof tb)o.push(h);else{const g=vm(f,p);g!=null&&(o.push(h),s.set(h,g))}}));const l=new Qr(o);return new Rq(s,l,i.fieldTransforms)}function Mq(t,e,n,r,i,o){const s=t.createContext(1,e,n),l=[Au(e,r,n)],c=[i];if(o.length%2!=0)throw new ke(ve.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)l.push(Au(e,o[g])),c.push(o[g+1]);const f=[],h=Pr.empty();for(let g=l.length-1;g>=0;--g)if(!Uq(f,l[g])){const _=l[g];let S=c[g];S=zt(S);const A=s.childContextForFieldPath(_);if(S instanceof tb)f.push(_);else{const E=vm(S,A);E!=null&&(f.push(_),h.set(_,E))}}const p=new Qr(f);return new Rq(h,p,s.fieldTransforms)}function cZ(t,e,n,r=!1){return vm(n,t.createContext(r?4:3,e))}function vm(t,e){if(Dq(t=zt(t)))return BI("Unsupported field value:",e,t),Oq(t,e);if(t instanceof UI)return(function(r,i){if(!Pq(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const l of r){let c=vm(l,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=zt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YX(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Kt.fromDate(r);return{timestampValue:yv(i.serializer,o)}}if(r instanceof Kt){const o=new Kt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:yv(i.serializer,o)}}if(r instanceof Bo)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ei)return{bytesValue:WF(i.serializer,r._byteString)};if(r instanceof mn){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:TI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Xi)return(function(s,l){const c=s instanceof Xi?s.toArray():s;return{mapValue:{fields:{[TF]:{stringValue:EF},[hv]:{arrayValue:{values:c.map((h=>{if(typeof h!="number")throw l.createError("VectorValues must only contain numeric values.");return bI(l.serializer,h)}))}}}}}})(r,i);if(tq(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${B0(r)}`)})(t,e)}function Oq(t,e){const n={};return yF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):sl(t,((r,i)=>{const o=vm(i,e.childContextForField(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Dq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Kt||t instanceof Bo||t instanceof Ei||t instanceof mn||t instanceof UI||t instanceof Xi||tq(t))}function BI(t,e,n){if(!Dq(n)||!mF(n)){const r=B0(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Au(t,e,n){if((e=zt(e))instanceof eb)return e._internalPath;if(typeof e=="string")return Lq(t,e);throw _v("Field path arguments must be of type string or ",t,!1,void 0,n)}const fZ=new RegExp("[~\\*/\\[\\]]");function Lq(t,e,n){if(e.search(fZ)>=0)throw _v(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new eb(...e.split("."))._internalPath}catch{throw _v(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function _v(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ke(ve.INVALID_ARGUMENT,l+t+c)}function Uq(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ja(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return sl(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[hv].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>pn(s.doubleValue)));return new Xi(n)}convertGeoPoint(e){return new Bo(pn(e.latitude),pn(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=z0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(up(e));default:return null}}convertTimestamp(e){const n=Xa(e);return new Kt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qt.fromString(e);Ct(eq(r),9688,{name:e});const i=new cp(r.get(1),r.get(3)),o=new Be(r.popFirst(5));return i.isEqual(n)||Os(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vq extends dZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ei(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mn(this.firestore,null,n)}}const DO="@firebase/firestore",LO="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jq{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Au("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hZ extends jq{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class FI{}class Bq extends FI{}function Wl(t,e,...n){let r=[];e instanceof FI&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((c=>c instanceof qI)).length,l=o.filter((c=>c instanceof nb)).length;if(s>1||s>0&&l>0)throw new ke(ve.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class nb extends Bq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new nb(e,n,r)}_apply(e){const n=this._parse(e);return Fq(e._query,n),new ju(e.firestore,e.converter,QS(e._query,n))}_parse(e){const n=ym(e.firestore);return(function(o,s,l,c,f,h,p){let g;if(f.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){VO(p,h);const S=[];for(const A of p)S.push(UO(c,o,A));g={arrayValue:{values:S}}}else g=UO(c,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||VO(p,h),g=cZ(l,s,p,h==="in"||h==="not-in");return Sn.create(f,h,g)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function No(t,e,n){const r=e,i=Au("where",t);return nb._create(i,r,n)}class qI extends FI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new qI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:no.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const l=o.getFlattenedFilters();for(const c of l)Fq(s,c),s=QS(s,c)})(e._query,n),new ju(e.firestore,e.converter,QS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class zI extends Bq{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new zI(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new ke(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ke(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dp(o,s)})(e._query,this._field,this._direction);return new ju(e.firestore,e.converter,FX(e._query,n))}}function mZ(t,e="asc"){const n=e,r=Au("orderBy",t);return zI._create(r,n)}function UO(t,e,n){if(typeof(n=zt(n))=="string"){if(n==="")throw new ke(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kF(e)&&n.indexOf("/")!==-1)throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qt.fromString(n));if(!Be.isDocumentKey(r))throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QM(t,new Be(r))}if(n instanceof mn)return QM(t,n._key);throw new ke(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${B0(n)}.`)}function VO(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Fq(t,e){const n=(function(i,o){for(const s of i)for(const l of s.getFlattenedFilters())if(o.indexOf(l.op)>=0)return l.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(ve.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function $I(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Rh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mu extends jq{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Au("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ve.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=mu._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mu._jsonSchemaVersion="firestore/documentSnapshot/1.0",mu._jsonSchema={type:Cn("string",mu._jsonSchemaVersion),bundleSource:Cn("string","DocumentSnapshot"),bundleName:Cn("string"),bundle:Cn("string")};class Qy extends mu{data(e={}){return super.data(e)}}class sf{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Rh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Qy(this._firestore,this._userDataWriter,r.key,r,new Rh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((l=>{const c=new Qy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((l=>o||l.type!==3)).map((l=>{const c=new Qy(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Rh(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,h=-1;return l.type!==0&&(f=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),h=s.indexOf(l.doc.key)),{type:gZ(l.type),doc:c,oldIndex:f,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ke(ve.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dI.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function gZ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sf._jsonSchemaVersion="firestore/querySnapshot/1.0",sf._jsonSchema={type:Cn("string",sf._jsonSchemaVersion),bundleSource:Cn("string","QuerySnapshot"),bundleName:Cn("string"),bundle:Cn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yZ{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ym(e)}set(e,n,r){this._verifyNotCommitted();const i=dw(e,this._firestore),o=$I(i.converter,n,r),s=jI(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,Or.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=dw(e,this._firestore);let s;return s=typeof(n=zt(n))=="string"||n instanceof eb?Mq(this._dataReader,"WriteBatch.update",o._key,n,r,i):kq(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,Or.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=dw(e,this._firestore);return this._mutations=this._mutations.concat(new xI(n._key,Or.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dw(t,e){if((t=zt(t)).firestore!==e)throw new ke(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(t){t=to(t,mn);const e=to(t.firestore,Bu),n=Z0(e);return ZQ(n,t._key).then((r=>vZ(e,t,r)))}function Ro(t){t=to(t,ju);const e=to(t.firestore,Bu),n=Z0(e),r=new Vq(e);return pZ(t._query),eZ(n,t._query).then((i=>new sf(e,r,t,i)))}function Vc(t,e,n){t=to(t,mn);const r=to(t.firestore,Bu),i=$I(t.converter,e,n),o=ym(r);return rb(r,[jI(o,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function jc(t,e,n,...r){t=to(t,mn);const i=to(t.firestore,Bu),o=ym(i);let s;return s=typeof(e=zt(e))=="string"||e instanceof eb?Mq(o,"updateDoc",t._key,e,n,r):kq(o,"updateDoc",t._key,e),rb(i,[s.toMutation(t._key,Or.exists(!0))])}function hw(t,e){const n=to(t.firestore,Bu),r=Xn(t),i=$I(t.converter,e),o=ym(t.firestore);return rb(n,[jI(o,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then((()=>r))}function rb(t,e){const n=Z0(t);return tZ(n,e)}function vZ(t,e,n){const r=n.docs.get(e._key),i=new Vq(t);return new mu(t,i,e._key,r,new Rh(n.hasPendingWrites,n.fromCache),e.converter)}function bZ(t){return t=to(t,Bu),Z0(t),new yZ(t,(e=>rb(t,e)))}(function(e,n=!0){tX(Lu),eo(new Ii("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),l=new Bu(new iX(r.getProvider("auth-internal")),new aX(s,r.getProvider("app-check-internal")),EX(s,i),s);return o={useFetchStreams:n,...o},l._setSettings(o),l}),"PUBLIC").setMultipleInstances(!0)),Mr(DO,LO,e),Mr(DO,LO,"esm2020")})();function qq(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xZ=qq,zq=new Du("auth","Firebase",qq());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=new j0("@firebase/auth");function _Z(t,...e){wv.logLevel<=at.WARN&&wv.warn(`Auth (${Lu}): ${t}`,...e)}function Zy(t,...e){wv.logLevel<=at.ERROR&&wv.error(`Auth (${Lu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t,...e){throw GI(t,...e)}function Fo(t,...e){return GI(t,...e)}function $q(t,e,n){const r={...xZ(),[e]:n};return new Du("auth","Firebase",r).create(e,{appName:t.name})}function Cs(t){return $q(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GI(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return zq.create(t,...e)}function Ge(t,e,...n){if(!t)throw GI(e,...n)}function _s(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zy(e),new Error(e)}function Ls(t,e){t||_s(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uA(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function wZ(){return jO()==="http:"||jO()==="https:"}function jO(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wZ()||JB()||"connection"in navigator)?navigator.onLine:!0}function EZ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ls(n>e,"Short delay should be less than long delay!"),this.isMobile=NW()||kW()}get(){return TZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(t,e){Ls(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gq{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AZ=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],CZ=new bm(3e4,6e4);function ll(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ul(t,e,n,r,i={}){return Hq(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const l=cm({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const f={method:e,headers:c,...o};return PW()||(f.referrerPolicy="no-referrer"),t.emulatorConfig&&il(t.emulatorConfig.host)&&(f.credentials="include"),Gq.fetch()(await Kq(t,t.config.apiHost,n,l),f)})}async function Hq(t,e,n){t._canInitEmulator=!1;const r={...SZ,...e};try{const i=new NZ(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw vy(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const l=o.ok?s.errorMessage:s.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vy(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw vy(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw vy(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw $q(t,h,f);ro(t,h)}}catch(i){if(i instanceof Pi)throw i;ro(t,"network-request-failed",{message:String(i)})}}async function xm(t,e,n,r,i={}){const o=await ul(t,e,n,r,i);return"mfaPendingCredential"in o&&ro(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function Kq(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?HI(t.config,i):`${t.config.apiScheme}://${i}`;return AZ.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function IZ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NZ{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Fo(this.auth,"network-request-failed")),CZ.get())})}}function vy(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Fo(t,e,r);return i.customData._tokenResponse=n,i}function BO(t){return t!==void 0&&t.enterprise!==void 0}class RZ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IZ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function PZ(t,e){return ul(t,"GET","/v2/recaptchaConfig",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kZ(t,e){return ul(t,"POST","/v1/accounts:delete",e)}async function Tv(t,e){return ul(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MZ(t,e=!1){const n=zt(t),r=await n.getIdToken(e),i=KI(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:$h(pw(i.auth_time)),issuedAtTime:$h(pw(i.iat)),expirationTime:$h(pw(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function pw(t){return Number(t)*1e3}function KI(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Zy("JWT malformed, contained fewer than 3 sections"),null;try{const i=GB(n);return i?JSON.parse(i):(Zy("Failed to decode base64 JWT payload"),null)}catch(i){return Zy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function FO(t){const e=KI(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mp(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pi&&OZ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OZ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$h(this.lastLoginAt),this.creationTime=$h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ev(t){var p;const e=t.auth,n=await t.getIdToken(),r=await mp(t,Tv(e,{idToken:n}));Ge(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(p=i.providerUserInfo)!=null&&p.length?Wq(i.providerUserInfo):[],s=UZ(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),f=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new cA(i.createdAt,i.lastLoginAt),isAnonymous:f};Object.assign(t,h)}async function LZ(t){const e=zt(t);await Ev(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UZ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Wq(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VZ(t,e){const n=await Hq(t,{},async()=>{const r=cm({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await Kq(t,i,"/v1/token",`key=${o}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:r};return t.emulatorConfig&&il(t.emulatorConfig.host)&&(c.credentials="include"),Gq.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jZ(t,e){return ul(t,"POST","/v2/accounts:revokeToken",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ge(e.length!==0,"internal-error");const n=FO(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await VZ(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new af;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ge(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new af,this.toJSON())}_performRefresh(){return _s("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new DZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new cA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await mp(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MZ(this,e)}reload(){return LZ(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ev(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xr(this.auth.app))return Promise.reject(Cs(this.auth));const e=await this.getIdToken();return await mp(this,kZ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,f=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:_,providerData:S,stsTokenManager:A}=n;Ge(p&&A,e,"internal-error");const E=af.fromJSON(this.name,A);Ge(typeof p=="string",e,"internal-error"),Aa(r,e.name),Aa(i,e.name),Ge(typeof g=="boolean",e,"internal-error"),Ge(typeof _=="boolean",e,"internal-error"),Aa(o,e.name),Aa(s,e.name),Aa(l,e.name),Aa(c,e.name),Aa(f,e.name),Aa(h,e.name);const M=new Wi({uid:p,auth:e,email:i,emailVerified:g,displayName:r,isAnonymous:_,photoURL:s,phoneNumber:o,tenantId:l,stsTokenManager:E,createdAt:f,lastLoginAt:h});return S&&Array.isArray(S)&&(M.providerData=S.map(I=>({...I}))),c&&(M._redirectEventId=c),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new af;i.updateFromServerResponse(n);const o=new Wi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ev(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ge(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?Wq(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),l=new af;l.updateFromIdToken(r);const c=new Wi({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new cA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,f),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO=new Map;function ws(t){Ls(t instanceof Function,"Expected a class definition");let e=qO.get(t);return e?(Ls(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qO.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yq{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Yq.type="NONE";const zO=Yq;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e,n){return`firebase:${t}:${e}:${n}`}class lf{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=ev(this.userKey,i.apiKey,o),this.fullPersistenceKey=ev("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Tv(this.auth,{idToken:e}).catch(()=>{});return n?Wi._fromGetAccountInfoResponse(this.auth,n,e):null}return Wi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lf(ws(zO),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=i[0]||ws(zO);const s=ev(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(s);if(h){let p;if(typeof h=="string"){const g=await Tv(e,{idToken:h}).catch(()=>{});if(!g)break;p=await Wi._fromGetAccountInfoResponse(e,g,h)}else p=Wi._fromJSON(e,h);f!==o&&(l=p),o=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new lf(o,e,r):(o=c[0],l&&await o._set(s,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==o)try{await f._remove(s)}catch{}})),new lf(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Zq(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Xq(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t9(e))return"Blackberry";if(n9(e))return"Webos";if(Jq(e))return"Safari";if((e.includes("chrome/")||Qq(e))&&!e.includes("edge/"))return"Chrome";if(e9(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Xq(t=hr()){return/firefox\//i.test(t)}function Jq(t=hr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Qq(t=hr()){return/crios\//i.test(t)}function Zq(t=hr()){return/iemobile/i.test(t)}function e9(t=hr()){return/android/i.test(t)}function t9(t=hr()){return/blackberry/i.test(t)}function n9(t=hr()){return/webos/i.test(t)}function WI(t=hr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BZ(t=hr()){var e;return WI(t)&&!!((e=window.navigator)!=null&&e.standalone)}function FZ(){return MW()&&document.documentMode===10}function r9(t=hr()){return WI(t)||e9(t)||n9(t)||t9(t)||/windows phone/i.test(t)||Zq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i9(t,e=[]){let n;switch(t){case"Browser":n=$O(hr());break;case"Worker":n=`${$O(hr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Lu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qZ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,l)=>{try{const c=e(o);s(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zZ(t,e={}){return ul(t,"GET","/v2/passwordPolicy",ll(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z=6;class GZ{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??$Z,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HZ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new GO(this),this.idTokenSubscription=new GO(this),this.beforeStateQueue=new qZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zq,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ws(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await lf.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tv(this,{idToken:e}),r=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Xr(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,l=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===l)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ev(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EZ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xr(this.app))return Promise.reject(Cs(this));const n=e?zt(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xr(this.app)?Promise.reject(Cs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xr(this.app)?Promise.reject(Cs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ws(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zZ(this),n=new GZ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Du("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await jZ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ws(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await lf.create(this,[ws(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ge(l,this,"internal-error"),l.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i9(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&_Z(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Fu(t){return zt(t)}class GO{constructor(e){this.auth=e,this.observer=null,this.addObserver=BW(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ib={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KZ(t){ib=t}function o9(t){return ib.loadJS(t)}function WZ(){return ib.recaptchaEnterpriseScript}function YZ(){return ib.gapiScript}function XZ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class JZ{constructor(){this.enterprise=new QZ}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class QZ{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ZZ="recaptcha-enterprise",s9="NO_RECAPTCHA";class eee{constructor(e){this.type=ZZ,this.auth=Fu(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,l)=>{PZ(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const f=new RZ(c);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,s(f.siteKey)}}).catch(c=>{l(c)})})}function i(o,s,l){const c=window.grecaptcha;BO(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(f=>{s(f)}).catch(()=>{s(s9)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JZ().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(l=>{if(!n&&BO(window.grecaptcha))i(l,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=WZ();c.length!==0&&(c+=l),o9(c).then(()=>{i(l,o,s)}).catch(f=>{s(f)})}}).catch(l=>{s(l)})})}}async function HO(t,e,n,r=!1,i=!1){const o=new eee(t);let s;if(i)s=s9;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,f=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:f,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:s}):Object.assign(l,{captchaResponse:s}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function fA(t,e,n,r,i){var o;if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await HO(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await HO(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tee(t,e){const n=ol(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Wa(o,e??{}))return i;ro(i,"already-initialized")}return n.initialize({options:e})}function nee(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ws);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ree(t,e,n){const r=Fu(t);Ge(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=a9(e),{host:s,port:l}=iee(e),c=l===null?"":`:${l}`,f={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:l,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ge(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ge(Wa(f,r.config.emulator)&&Wa(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,il(s)?(lI(`${o}//${s}${c}`),uI("Auth",!0)):oee()}function a9(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function iee(t){const e=a9(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:KO(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:KO(s)}}}function KO(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function oee(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _s("not implemented")}_getIdTokenResponse(e){return _s("not implemented")}_linkToIdToken(e,n){return _s("not implemented")}_getReauthenticationResolver(e){return _s("not implemented")}}async function see(t,e){return ul(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aee(t,e){return xm(t,"POST","/v1/accounts:signInWithPassword",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lee(t,e){return xm(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,e))}async function uee(t,e){return xm(t,"POST","/v1/accounts:signInWithEmailLink",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp extends YI{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new gp(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new gp(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fA(e,n,"signInWithPassword",aee);case"emailLink":return lee(e,{email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fA(e,r,"signUpPassword",see);case"emailLink":return uee(e,{idToken:n,email:this._email,oobCode:this._password});default:ro(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uf(t,e){return xm(t,"POST","/v1/accounts:signInWithIdp",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee="http://localhost";class Cu extends YI{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cu(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ro("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Cu(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return uf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,uf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,uf(e,n)}buildRequest(){const e={requestUri:cee,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cm(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fee(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dee(t){const e=Sh(Ah(t)).link,n=e?Sh(Ah(e)).deep_link_id:null,r=Sh(Ah(t)).deep_link_id;return(r?Sh(Ah(r)).link:null)||r||n||e||t}class XI{constructor(e){const n=Sh(Ah(e)),r=n.apiKey??null,i=n.oobCode??null,o=fee(n.mode??null);Ge(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=dee(e);try{return new XI(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.providerId=Hf.PROVIDER_ID}static credential(e,n){return gp._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=XI.parseLink(n);return Ge(r,"argument-error"),gp._fromEmailAndCode(e,r.code,r.tenantId)}}Hf.PROVIDER_ID="password";Hf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l9{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends l9{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends _m{constructor(){super("facebook.com")}static credential(e){return Cu._fromParams({providerId:Pa.PROVIDER_ID,signInMethod:Pa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pa.credentialFromTaggedObject(e)}static credentialFromError(e){return Pa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pa.credential(e.oauthAccessToken)}catch{return null}}}Pa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Pa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends _m{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cu._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ka.credentialFromTaggedObject(e)}static credentialFromError(e){return ka.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ka.credential(n,r)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends _m{constructor(){super("github.com")}static credential(e){return Cu._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ma.credentialFromTaggedObject(e)}static credentialFromError(e){return Ma.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ma.credential(e.oauthAccessToken)}catch{return null}}}Ma.GITHUB_SIGN_IN_METHOD="github.com";Ma.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends _m{constructor(){super("twitter.com")}static credential(e,n){return Cu._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Oa.credential(n,r)}catch{return null}}}Oa.TWITTER_SIGN_IN_METHOD="twitter.com";Oa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hee(t,e){return xm(t,"POST","/v1/accounts:signUp",ll(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Wi._fromIdTokenResponse(e,r,i),s=WO(r);return new Iu({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=WO(r);return new Iu({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function WO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv extends Pi{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Sv.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Sv(e,n,r,i)}}function u9(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Sv._fromErrorAndOperation(t,o,e,r):o})}async function pee(t,e,n=!1){const r=await mp(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Iu._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mee(t,e,n=!1){const{auth:r}=t;if(Xr(r.app))return Promise.reject(Cs(r));const i="reauthenticate";try{const o=await mp(t,u9(r,i,e,t),n);Ge(o.idToken,r,"internal-error");const s=KI(o.idToken);Ge(s,r,"internal-error");const{sub:l}=s;return Ge(t.uid===l,r,"user-mismatch"),Iu._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&ro(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t,e,n=!1){if(Xr(t.app))return Promise.reject(Cs(t));const r="signIn",i=await u9(t,r,e),o=await Iu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function gee(t,e){return c9(Fu(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f9(t){const e=Fu(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YO(t,e,n){if(Xr(t.app))return Promise.reject(Cs(t));const r=Fu(t),s=await fA(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hee).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&f9(t),c}),l=await Iu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(l.user),l}function yee(t,e,n){return Xr(t.app)?Promise.reject(Cs(t)):gee(zt(t),Hf.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&f9(t),r})}function vee(t,e,n,r){return zt(t).onIdTokenChanged(e,n,r)}function bee(t,e,n){return zt(t).beforeAuthStateChanged(e,n)}function xee(t){return zt(t).signOut()}const Av="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d9{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Av,"1"),this.storage.removeItem(Av),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _ee=1e3,wee=10;class h9 extends d9{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r9(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);FZ()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,wee):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_ee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}h9.type="LOCAL";const Tee=h9;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p9 extends d9{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}p9.type="SESSION";const m9=p9;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eee(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ob(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async f=>f(n.origin,o)),c=await Eee(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ob.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class See{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((l,c)=>{const f=JI("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(g.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qo(){return window}function Aee(t){qo().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g9(){return typeof qo().WorkerGlobalScope<"u"&&typeof qo().importScripts=="function"}async function Cee(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Iee(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Nee(){return g9()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y9="firebaseLocalStorageDb",Ree=1,Cv="firebaseLocalStorage",v9="fbase_key";class wm{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sb(t,e){return t.transaction([Cv],e?"readwrite":"readonly").objectStore(Cv)}function Pee(){const t=indexedDB.deleteDatabase(y9);return new wm(t).toPromise()}function dA(){const t=indexedDB.open(y9,Ree);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Cv,{keyPath:v9})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Cv)?e(r):(r.close(),await Pee(),e(await dA()))})})}async function XO(t,e,n){const r=sb(t,!0).put({[v9]:e,value:n});return new wm(r).toPromise()}async function kee(t,e){const n=sb(t,!1).get(e),r=await new wm(n).toPromise();return r===void 0?null:r.value}function JO(t,e){const n=sb(t,!0).delete(e);return new wm(n).toPromise()}const Mee=800,Oee=3;class b9{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dA(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Oee)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return g9()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ob._getInstance(Nee()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await Cee(),!this.activeServiceWorker)return;this.sender=new See(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Iee()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dA();return await XO(e,Av,"1"),await JO(e,Av),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>XO(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kee(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JO(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=sb(i,!1).getAll();return new wm(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Mee)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}b9.type="LOCAL";const Dee=b9;new bm(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lee(t,e){return e?ws(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI extends YI{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return uf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return uf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Uee(t){return c9(t.auth,new QI(t),t.bypassAuthState)}function Vee(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),mee(n,new QI(t),t.bypassAuthState)}async function jee(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),pee(n,new QI(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x9{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:l}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Uee;case"linkViaPopup":case"linkViaRedirect":return jee;case"reauthViaPopup":case"reauthViaRedirect":return Vee;default:ro(this.auth,"internal-error")}}resolve(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ls(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bee=new bm(2e3,1e4);class Wc extends x9{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Wc.currentPopupAction&&Wc.currentPopupAction.cancel(),Wc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){Ls(this.filter.length===1,"Popup operations only handle one event");const e=JI();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Wc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fo(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Bee.get())};e()}}Wc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fee="pendingRedirect",tv=new Map;class qee extends x9{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=tv.get(this.auth._key());if(!e){try{const r=await zee(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}tv.set(this.auth._key(),e)}return this.bypassAuthState||tv.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zee(t,e){const n=Hee(e),r=Gee(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $ee(t,e){tv.set(t._key(),e)}function Gee(t){return ws(t._redirectPersistence)}function Hee(t){return ev(Fee,t.config.apiKey,t.name)}async function Kee(t,e,n=!1){if(Xr(t.app))return Promise.reject(Cs(t));const r=Fu(t),i=Lee(r,e),s=await new qee(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wee=600*1e3;class Yee{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Xee(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_9(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Fo(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Wee&&this.cachedEventUids.clear(),this.cachedEventUids.has(QO(e))}saveEventToCache(e){this.cachedEventUids.add(QO(e)),this.lastProcessedEventTime=Date.now()}}function QO(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _9({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Xee(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _9(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jee(t,e={}){return ul(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qee=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zee=/^https?/;async function ete(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Jee(t);for(const n of e)try{if(tte(n))return}catch{}ro(t,"unauthorized-domain")}function tte(t){const e=uA(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Zee.test(n))return!1;if(Qee.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nte=new bm(3e4,6e4);function ZO(){const t=qo().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function rte(t){return new Promise((e,n)=>{var i,o,s;function r(){ZO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ZO(),n(Fo(t,"network-request-failed"))},timeout:nte.get()})}if((o=(i=qo().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=qo().gapi)!=null&&s.load)r();else{const l=XZ("iframefcb");return qo()[l]=()=>{gapi.load?r():n(Fo(t,"network-request-failed"))},o9(`${YZ()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw nv=null,e})}let nv=null;function ite(t){return nv=nv||rte(t),nv}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ote=new bm(5e3,15e3),ste="__/auth/iframe",ate="emulator/auth/iframe",lte={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ute=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cte(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?HI(e,ate):`https://${t.config.authDomain}/${ste}`,r={apiKey:e.apiKey,appName:t.name,v:Lu},i=ute.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${cm(r).slice(1)}`}async function fte(t){const e=await ite(t),n=qo().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:cte(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lte,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Fo(t,"network-request-failed"),l=qo().setTimeout(()=>{o(s)},ote.get());function c(){qo().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hte=500,pte=600,mte="_blank",gte="http://localhost";class eD{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yte(t,e,n,r=hte,i=pte){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c={...dte,width:r.toString(),height:i.toString(),top:o,left:s},f=hr().toLowerCase();n&&(l=Qq(f)?mte:n),Xq(f)&&(e=e||gte,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[_,S])=>`${g}${_}=${S},`,"");if(BZ(f)&&l!=="_self")return vte(e||"",l),new eD(null);const p=window.open(e||"",l,h);Ge(p,t,"popup-blocked");try{p.focus()}catch{}return new eD(p)}function vte(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bte="__/auth/handler",xte="emulator/auth/handler",_te=encodeURIComponent("fac");async function tD(t,e,n,r,i,o){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Lu,eventId:i};if(e instanceof l9){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",jW(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))s[h]=p}if(e instanceof _m){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),f=c?`#${_te}=${encodeURIComponent(c)}`:"";return`${wte(t)}?${cm(l).slice(1)}${f}`}function wte({config:t}){return t.emulator?HI(t,xte):`https://${t.authDomain}/${bte}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="webStorageSupport";class Tte{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m9,this._completeRedirectFn=Kee,this._overrideRedirectResult=$ee}async _openPopup(e,n,r,i){var s;Ls((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await tD(e,n,r,uA(),i);return yte(e,o,JI())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await tD(e,n,r,uA(),i);return Aee(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ls(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await fte(e),r=new Yee(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mw,{type:mw},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[mw];o!==void 0&&n(!!o),ro(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ete(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return r9()||Jq()||WI()}}const Ete=Tte;var nD="@firebase/auth",rD="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ste{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ate(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Cte(t){eo(new Ii("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;Ge(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i9(t)},f=new HZ(r,i,o,c);return nee(f,n),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),eo(new Ii("auth-internal",e=>{const n=Fu(e.getProvider("auth").getImmediate());return(r=>new Ste(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(nD,rD,Ate(t)),Mr(nD,rD,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ite=300,Nte=YB("authIdTokenMaxAge")||Ite;let iD=null;const Rte=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nte)return;const i=n==null?void 0:n.token;iD!==i&&(iD=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Pte(t=fm()){const e=ol(t,"auth");if(e.isInitialized())return e.getImmediate();const n=tee(t,{popupRedirectResolver:Ete,persistence:[Dee,Tee,m9]}),r=YB("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Rte(o.toString());bee(n,s,()=>s(n.currentUser)),vee(n,l=>s(l))}}const i=HB("auth");return i&&ree(n,`http://${i}`),n}function kte(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}KZ({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Fo("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",kte().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Cte("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="firebasestorage.googleapis.com",T9="storageBucket",Mte=120*1e3,Ote=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an extends Pi{constructor(e,n,r=0){super(gw(e),`Firebase Storage: ${n} (${gw(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,an.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return gw(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var sn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(sn||(sn={}));function gw(t){return"storage/"+t}function ZI(){const t="An unknown error occurred, please check the error payload for server response.";return new an(sn.UNKNOWN,t)}function Dte(t){return new an(sn.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function Lte(t){return new an(sn.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Ute(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new an(sn.UNAUTHENTICATED,t)}function Vte(){return new an(sn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jte(t){return new an(sn.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function Bte(){return new an(sn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Fte(){return new an(sn.CANCELED,"User canceled the upload/download.")}function qte(t){return new an(sn.INVALID_URL,"Invalid URL '"+t+"'.")}function zte(t){return new an(sn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function $te(){return new an(sn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+T9+"' property when initializing the app?")}function Gte(){return new an(sn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Hte(){return new an(sn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Kte(t){return new an(sn.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hA(t){return new an(sn.INVALID_ARGUMENT,t)}function E9(){return new an(sn.APP_DELETED,"The Firebase app was deleted.")}function Wte(t){return new an(sn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Gh(t,e){return new an(sn.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ch(t){throw new an(sn.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Zr.makeFromUrl(e,n)}catch{return new Zr(e,"")}if(r.path==="")return r;throw zte(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const s="(/(.*))?$",l=new RegExp("^gs://"+i+s,"i"),c={bucket:1,path:3};function f(C){C.path_=decodeURIComponent(C.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",_=new RegExp(`^https?://${p}/${h}/b/${i}/o${g}`,"i"),S={bucket:1,path:3},A=n===w9?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",M=new RegExp(`^https?://${A}/${i}/${E}`,"i"),N=[{regex:l,indices:c,postModify:o},{regex:_,indices:S,postModify:f},{regex:M,indices:{bucket:1,path:2},postModify:f}];for(let C=0;C<N.length;C++){const R=N[C],U=R.regex.exec(e);if(U){const k=U[R.indices.bucket];let O=U[R.indices.path];O||(O=""),r=new Zr(k,O),R.postModify(r);break}}if(r==null)throw qte(e);return r}}class Yte{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xte(t,e,n){let r=1,i=null,o=null,s=!1,l=0;function c(){return l===2}let f=!1;function h(...E){f||(f=!0,e.apply(null,E))}function p(E){i=setTimeout(()=>{i=null,t(_,c())},E)}function g(){o&&clearTimeout(o)}function _(E,...M){if(f){g();return}if(E){g(),h.call(null,E,...M);return}if(c()||s){g(),h.call(null,E,...M);return}r<64&&(r*=2);let N;l===1?(l=2,N=0):N=(r+Math.random())*1e3,p(N)}let S=!1;function A(E){S||(S=!0,g(),!f&&(i!==null?(E||(l=2),clearTimeout(i),p(0)):E||(l=1)))}return p(0),o=setTimeout(()=>{s=!0,A(!0)},n),A}function Jte(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qte(t){return t!==void 0}function Zte(t){return typeof t=="object"&&!Array.isArray(t)}function eN(t){return typeof t=="string"||t instanceof String}function oD(t){return tN()&&t instanceof Blob}function tN(){return typeof Blob<"u"}function sD(t,e,n,r){if(r<e)throw hA(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw hA(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function S9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var gu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(gu||(gu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ene(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tne{constructor(e,n,r,i,o,s,l,c,f,h,p,g=!0,_=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=l,this.errorCallback_=c,this.timeout_=f,this.progressCallback_=h,this.connectionFactory_=p,this.retry=g,this.isUsingEmulator=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,A)=>{this.resolve_=S,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new by(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=l=>{const c=l.loaded,f=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,f)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const l=o.getErrorCode()===gu.NO_ERROR,c=o.getStatus();if(!l||ene(c,this.additionalRetryCodes_)&&this.retry){const h=o.getErrorCode()===gu.ABORT;r(!1,new by(!1,null,h));return}const f=this.successCodes_.indexOf(c)!==-1;r(!0,new by(f,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());Qte(c)?o(c):o()}catch(c){s(c)}else if(l!==null){const c=ZI();c.serverResponse=l.getErrorText(),this.errorCallback_?s(this.errorCallback_(l,c)):s(c)}else if(i.canceled){const c=this.appDelete_?E9():Fte();s(c)}else{const c=Bte();s(c)}};this.canceled_?n(!1,new by(!1,null,!0)):this.backoffId_=Xte(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Jte(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class by{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function nne(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function rne(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ine(t,e){e&&(t["X-Firebase-GMPID"]=e)}function one(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sne(t,e,n,r,i,o,s=!0,l=!1){const c=S9(t.urlParams),f=t.url+c,h=Object.assign({},t.headers);return ine(h,e),nne(h,n),rne(h,o),one(h,r),new tne(f,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ane(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function lne(...t){const e=ane();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(tN())return new Blob(t);throw new an(sn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function une(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cne(t){if(typeof atob>"u")throw Kte("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yw{constructor(e,n){this.data=e,this.contentType=n||null}}function fne(t,e){switch(t){case Oo.RAW:return new yw(A9(e));case Oo.BASE64:case Oo.BASE64URL:return new yw(C9(t,e));case Oo.DATA_URL:return new yw(hne(e),pne(e))}throw ZI()}function A9(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dne(t){let e;try{e=decodeURIComponent(t)}catch{throw Gh(Oo.DATA_URL,"Malformed data URL.")}return A9(e)}function C9(t,e){switch(t){case Oo.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Gh(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Oo.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Gh(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=cne(e)}catch(i){throw i.message.includes("polyfill")?i:Gh(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class I9{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Gh(Oo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=mne(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function hne(t){const e=new I9(t);return e.base64?C9(Oo.BASE64,e.rest):dne(e.rest)}function pne(t){return new I9(t).contentType}function mne(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,n){let r=0,i="";oD(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(oD(this.data_)){const r=this.data_,i=une(r,e,n);return i===null?null:new Da(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Da(r,!0)}}static getBlob(...e){if(tN()){const n=e.map(r=>r instanceof Da?r.data_:r);return new Da(lne.apply(null,n))}else{const n=e.map(s=>eN(s)?fne(Oo.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let l=0;l<s.length;l++)i[o++]=s[l]}),new Da(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){let e;try{e=JSON.parse(t)}catch{return null}return Zte(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gne(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function yne(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function R9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vne(t,e){return e}class yr{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||vne}}let xy=null;function bne(t){return!eN(t)||t.length<2?t:R9(t)}function P9(){if(xy)return xy;const t=[];t.push(new yr("bucket")),t.push(new yr("generation")),t.push(new yr("metageneration")),t.push(new yr("name","fullPath",!0));function e(o,s){return bne(s)}const n=new yr("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new yr("size");return i.xform=r,t.push(i),t.push(new yr("timeCreated")),t.push(new yr("updated")),t.push(new yr("md5Hash",null,!0)),t.push(new yr("cacheControl",null,!0)),t.push(new yr("contentDisposition",null,!0)),t.push(new yr("contentEncoding",null,!0)),t.push(new yr("contentLanguage",null,!0)),t.push(new yr("contentType",null,!0)),t.push(new yr("metadata","customMetadata",!0)),xy=t,xy}function xne(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Zr(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function _ne(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return xne(r,t),r}function k9(t,e,n){const r=N9(e);return r===null?null:_ne(t,r,n)}function wne(t,e,n,r){const i=N9(e);if(i===null||!eN(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(f=>{const h=t.bucket,p=t.fullPath,g="/b/"+s(h)+"/o/"+s(p),_=nN(g,n,r),S=S9({alt:"media",token:f});return _+S})[0]}function Tne(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class M9{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O9(t){if(!t)throw ZI()}function Ene(t,e){function n(r,i){const o=k9(t,i,e);return O9(o!==null),o}return n}function Sne(t,e){function n(r,i){const o=k9(t,i,e);return O9(o!==null),wne(o,i,t.host,t._protocol)}return n}function D9(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=Vte():i=Ute():n.getStatus()===402?i=Lte(t.bucket):n.getStatus()===403?i=jte(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Ane(t){const e=D9(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=Dte(t.path)),o.serverResponse=i.serverResponse,o}return n}function Cne(t,e,n){const r=e.fullServerUrl(),i=nN(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,l=new M9(i,o,Sne(t,n),s);return l.errorHandler=Ane(e),l}function Ine(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Nne(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Ine(null,e)),r}function Rne(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function l(){let N="";for(let C=0;C<2;C++)N=N+Math.random().toString().slice(2);return N}const c=l();s["Content-Type"]="multipart/related; boundary="+c;const f=Nne(e,r,i),h=Tne(f,n),p="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+f.contentType+`\r
\r
`,g=`\r
--`+c+"--",_=Da.getBlob(p,r,g);if(_===null)throw Gte();const S={name:f.fullPath},A=nN(o,t.host,t._protocol),E="POST",M=t.maxUploadRetryTime,I=new M9(A,E,Ene(t,n),M);return I.urlParams=S,I.headers=s,I.body=_.uploadData(),I.errorHandler=D9(e),I}class Pne{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=gu.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=gu.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=gu.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,o){if(this.sent_)throw ch("cannot .send() more than once");if(il(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const s in o)o.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,o[s].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ch("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ch("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ch("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ch("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kne extends Pne{initXhr(){this.xhr_.responseType="text"}}function L9(){return new kne}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n){this._service=e,n instanceof Zr?this._location=n:this._location=Zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Nu(e,n)}get root(){const e=new Zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R9(this._location.path)}get storage(){return this._service}get parent(){const e=gne(this._location.path);if(e===null)return null;const n=new Zr(this._location.bucket,e);return new Nu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Wte(e)}}function Mne(t,e,n){t._throwIfRoot("uploadBytes");const r=Rne(t.storage,t._location,P9(),new Da(e,!0),n);return t.storage.makeRequestWithTokens(r,L9).then(i=>({metadata:i,ref:t}))}function One(t){t._throwIfRoot("getDownloadURL");const e=Cne(t.storage,t._location,P9());return t.storage.makeRequestWithTokens(e,L9).then(n=>{if(n===null)throw Hte();return n})}function Dne(t,e){const n=yne(t._location.path,e),r=new Zr(t._location.bucket,n);return new Nu(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(t){return/^[A-Za-z]+:\/\//.test(t)}function Une(t,e){return new Nu(t,e)}function U9(t,e){if(t instanceof rN){const n=t;if(n._bucket==null)throw $te();const r=new Nu(n,n._bucket);return e!=null?U9(r,e):r}else return e!==void 0?Dne(t,e):t}function Vne(t,e){if(e&&Lne(e)){if(t instanceof rN)return Une(t,e);throw hA("To use ref(service, url), the first argument must be a Storage instance.")}else return U9(t,e)}function aD(t,e){const n=e==null?void 0:e[T9];return n==null?null:Zr.makeFromBucketSpec(n,t)}function jne(t,e,n,r={}){t.host=`${e}:${n}`;const i=il(e);i&&(lI(`https://${t.host}/b`),uI("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:XB(o,t.app.options.projectId))}class rN{constructor(e,n,r,i,o,s=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._isUsingEmulator=s,this._bucket=null,this._host=w9,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Mte,this._maxUploadRetryTime=Ote,this._requests=new Set,i!=null?this._bucket=Zr.makeFromBucketSpec(i,this._host):this._bucket=aD(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zr.makeFromBucketSpec(this._url,e):this._bucket=aD(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){sD("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){sD("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Xr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Nu(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new Yte(E9());{const s=sne(e,this._appId,r,i,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const lD="@firebase/storage",uD="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V9="storage";function Bne(t,e,n){return t=zt(t),Mne(t,e,n)}function Fne(t){return t=zt(t),One(t)}function qne(t,e){return t=zt(t),Vne(t,e)}function zne(t=fm(),e){t=zt(t);const r=ol(t,V9).getImmediate({identifier:e}),i=KB("storage");return i&&$ne(r,...i),r}function $ne(t,e,n,r={}){jne(t,e,n,r)}function Gne(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new rN(n,r,i,e,Lu)}function Hne(){eo(new Ii(V9,Gne,"PUBLIC").setMultipleInstances(!0)),Mr(lD,uD,""),Mr(lD,uD,"esm2020")}Hne();var Kne="firebase",Wne="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(Kne,Wne,"app");const j9="@firebase/installations",iN="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B9=1e4,F9=`w:${iN}`,q9="FIS_v2",Yne="https://firebaseinstallations.googleapis.com/v1",Xne=3600*1e3,Jne="installations",Qne="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zne={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ru=new Du(Jne,Qne,Zne);function z9(t){return t instanceof Pi&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $9({projectId:t}){return`${Yne}/projects/${t}/installations`}function G9(t){return{token:t.token,requestStatus:2,expiresIn:tre(t.expiresIn),creationTime:Date.now()}}async function H9(t,e){const r=(await e.json()).error;return Ru.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function K9({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function ere(t,{refreshToken:e}){const n=K9(t);return n.append("Authorization",nre(e)),n}async function W9(t){const e=await t();return e.status>=500&&e.status<600?t():e}function tre(t){return Number(t.replace("s","000"))}function nre(t){return`${q9} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rre({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=$9(t),i=K9(t),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={fid:n,authVersion:q9,appId:t.appId,sdkVersion:F9},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await W9(()=>fetch(r,l));if(c.ok){const f=await c.json();return{fid:f.fid||n,registrationStatus:2,refreshToken:f.refreshToken,authToken:G9(f.authToken)}}else throw await H9("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y9(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ire(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ore=/^[cdef][\w-]{21}$/,pA="";function sre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=are(t);return ore.test(n)?n:pA}catch{return pA}}function are(t){return ire(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Map;function J9(t,e){const n=ab(t);Q9(n,e),lre(n,e)}function Q9(t,e){const n=X9.get(t);if(n)for(const r of n)r(e)}function lre(t,e){const n=ure();n&&n.postMessage({key:t,fid:e}),cre()}let lu=null;function ure(){return!lu&&"BroadcastChannel"in self&&(lu=new BroadcastChannel("[Firebase] FID Change"),lu.onmessage=t=>{Q9(t.data.key,t.data.fid)}),lu}function cre(){X9.size===0&&lu&&(lu.close(),lu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre="firebase-installations-database",dre=1,Pu="firebase-installations-store";let vw=null;function oN(){return vw||(vw=nF(fre,dre,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Pu)}}})),vw}async function Iv(t,e){const n=ab(t),i=(await oN()).transaction(Pu,"readwrite"),o=i.objectStore(Pu),s=await o.get(n);return await o.put(e,n),await i.done,(!s||s.fid!==e.fid)&&J9(t,e.fid),e}async function Z9(t){const e=ab(t),r=(await oN()).transaction(Pu,"readwrite");await r.objectStore(Pu).delete(e),await r.done}async function lb(t,e){const n=ab(t),i=(await oN()).transaction(Pu,"readwrite"),o=i.objectStore(Pu),s=await o.get(n),l=e(s);return l===void 0?await o.delete(n):await o.put(l,n),await i.done,l&&(!s||s.fid!==l.fid)&&J9(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sN(t){let e;const n=await lb(t.appConfig,r=>{const i=hre(r),o=pre(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===pA?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function hre(t){const e=t||{fid:sre(),registrationStatus:0};return ez(e)}function pre(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ru.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=mre(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:gre(t)}:{installationEntry:e}}async function mre(t,e){try{const n=await rre(t,e);return Iv(t.appConfig,n)}catch(n){throw z9(n)&&n.customData.serverCode===409?await Z9(t.appConfig):await Iv(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function gre(t){let e=await cD(t.appConfig);for(;e.registrationStatus===1;)await Y9(100),e=await cD(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await sN(t);return r||n}return e}function cD(t){return lb(t,e=>{if(!e)throw Ru.create("installation-not-found");return ez(e)})}function ez(t){return yre(t)?{fid:t.fid,registrationStatus:0}:t}function yre(t){return t.registrationStatus===1&&t.registrationTime+B9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vre({appConfig:t,heartbeatServiceProvider:e},n){const r=bre(t,n),i=ere(t,n),o=e.getImmediate({optional:!0});if(o){const f=await o.getHeartbeatsHeader();f&&i.append("x-firebase-client",f)}const s={installation:{sdkVersion:F9,appId:t.appId}},l={method:"POST",headers:i,body:JSON.stringify(s)},c=await W9(()=>fetch(r,l));if(c.ok){const f=await c.json();return G9(f)}else throw await H9("Generate Auth Token",c)}function bre(t,{fid:e}){return`${$9(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(t,e=!1){let n;const r=await lb(t.appConfig,o=>{if(!tz(o))throw Ru.create("not-registered");const s=o.authToken;if(!e&&wre(s))return o;if(s.requestStatus===1)return n=xre(t,e),o;{if(!navigator.onLine)throw Ru.create("app-offline");const l=Ere(o);return n=_re(t,l),l}});return n?await n:r.authToken}async function xre(t,e){let n=await fD(t.appConfig);for(;n.authToken.requestStatus===1;)await Y9(100),n=await fD(t.appConfig);const r=n.authToken;return r.requestStatus===0?aN(t,e):r}function fD(t){return lb(t,e=>{if(!tz(e))throw Ru.create("not-registered");const n=e.authToken;return Sre(n)?{...e,authToken:{requestStatus:0}}:e})}async function _re(t,e){try{const n=await vre(t,e),r={...e,authToken:n};return await Iv(t.appConfig,r),n}catch(n){if(z9(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Z9(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Iv(t.appConfig,r)}throw n}}function tz(t){return t!==void 0&&t.registrationStatus===2}function wre(t){return t.requestStatus===2&&!Tre(t)}function Tre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Xne}function Ere(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function Sre(t){return t.requestStatus===1&&t.requestTime+B9<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Are(t){const e=t,{installationEntry:n,registrationPromise:r}=await sN(e);return r?r.catch(console.error):aN(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cre(t,e=!1){const n=t;return await Ire(n),(await aN(n,e)).token}async function Ire(t){const{registrationPromise:e}=await sN(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nre(t){if(!t||!t.options)throw bw("App Configuration");if(!t.name)throw bw("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw bw(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function bw(t){return Ru.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="installations",Rre="installations-internal",Pre=t=>{const e=t.getProvider("app").getImmediate(),n=Nre(e),r=ol(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},kre=t=>{const e=t.getProvider("app").getImmediate(),n=ol(e,nz).getImmediate();return{getId:()=>Are(n),getToken:i=>Cre(n,i)}};function Mre(){eo(new Ii(nz,Pre,"PUBLIC")),eo(new Ii(Rre,kre,"PRIVATE"))}Mre();Mr(j9,iN);Mr(j9,iN,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="analytics",Ore="firebase_id",Dre="origin",Lre=60*1e3,Ure="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lN="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new j0("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vre={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ei=new Du("analytics","Analytics",Vre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(t){if(!t.startsWith(lN)){const e=ei.create("invalid-gtag-resource",{gtagURL:t});return _r.warn(e.message),""}return t}function rz(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function Bre(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function Fre(t,e){const n=Bre("firebase-js-sdk-policy",{createScriptURL:jre}),r=document.createElement("script"),i=`${lN}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function qre(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function zre(t,e,n,r,i,o){const s=r[i];try{if(s)await e[s];else{const c=(await rz(n)).find(f=>f.measurementId===i);c&&await e[c.appId]}}catch(l){_r.error(l)}t("config",i,o)}async function $re(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const l=await rz(n);for(const c of s){const f=l.find(p=>p.measurementId===c),h=f&&e[f.appId];if(h)o.push(h);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){_r.error(o)}}function Gre(t,e,n,r){async function i(o,...s){try{if(o==="event"){const[l,c]=s;await $re(t,e,n,l,c)}else if(o==="config"){const[l,c]=s;await zre(t,e,n,r,l,c)}else if(o==="consent"){const[l,c]=s;t("consent",l,c)}else if(o==="get"){const[l,c,f]=s;t("get",l,c,f)}else if(o==="set"){const[l]=s;t("set",l)}else t(o,...s)}catch(l){_r.error(l)}}return i}function Hre(t,e,n,r,i){let o=function(...s){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=Gre(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function Kre(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(lN)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wre=30,Yre=1e3;class Xre{constructor(e={},n=Yre){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const iz=new Xre;function Jre(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Qre(t){var s;const{appId:e,apiKey:n}=t,r={method:"GET",headers:Jre(n)},i=Ure.replace("{app-id}",e),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let l="";try{const c=await o.json();(s=c.error)!=null&&s.message&&(l=c.error.message)}catch{}throw ei.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function Zre(t,e=iz,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw ei.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw ei.create("no-api-key")}const s=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new nie;return setTimeout(async()=>{l.abort()},Lre),oz({appId:r,apiKey:i,measurementId:o},s,l,e)}async function oz(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=iz){var l;const{appId:o,measurementId:s}=t;try{await eie(r,e)}catch(c){if(s)return _r.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:s};throw c}try{const c=await Qre(t);return i.deleteThrottleMetadata(o),c}catch(c){const f=c;if(!tie(f)){if(i.deleteThrottleMetadata(o),s)return _r.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${f==null?void 0:f.message}]`),{appId:o,measurementId:s};throw c}const h=Number((l=f==null?void 0:f.customData)==null?void 0:l.httpStatus)===503?PM(n,i.intervalMillis,Wre):PM(n,i.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return i.setThrottleMetadata(o,p),_r.debug(`Calling attemptFetch again in ${h} millis`),oz(t,p,r,i)}}function eie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(ei.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tie(t){if(!(t instanceof Pi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class nie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function rie(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,s={...r,send_to:o};t("event",n,s)}}async function iie(t,e,n,r){if(r&&r.global){const i={};for(const o of Object.keys(n))i[`user_properties.${o}`]=n[o];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oie(){if(QB())try{await ZB()}catch(t){return _r.warn(ei.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return _r.warn(ei.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function sie(t,e,n,r,i,o,s){const l=Zre(t);l.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&_r.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>_r.error(g)),e.push(l);const c=oie().then(g=>{if(g)return r.getId()}),[f,h]=await Promise.all([l,c]);Kre(o)||Fre(o,f.measurementId),i("js",new Date);const p=(s==null?void 0:s.config)??{};return p[Dre]="firebase",p.update=!0,h!=null&&(p[Ore]=h),i("config",f.measurementId,p),f.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aie{constructor(e){this.app=e}_delete(){return delete cf[this.app.options.appId],Promise.resolve()}}let cf={},dD=[];const hD={};let xw="dataLayer",lie="gtag",pD,uN,mD=!1;function uie(){const t=[];if(JB()&&t.push("This is a browser extension environment."),DW()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ei.create("invalid-analytics-context",{errorInfo:e});_r.warn(n.message)}}function cie(t,e,n){uie();const r=t.options.appId;if(!r)throw ei.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)_r.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ei.create("no-api-key");if(cf[r]!=null)throw ei.create("already-exists",{id:r});if(!mD){qre(xw);const{wrappedGtag:o,gtagCore:s}=Hre(cf,dD,hD,xw,lie);uN=o,pD=s,mD=!0}return cf[r]=sie(t,dD,hD,e,pD,xw,n),new aie(t)}function fie(t=fm()){t=zt(t);const e=ol(t,Nv);return e.isInitialized()?e.getImmediate():die(t)}function die(t,e={}){const n=ol(t,Nv);if(n.isInitialized()){const i=n.getImmediate();if(Wa(e,n.getOptions()))return i;throw ei.create("already-initialized")}return n.initialize({options:e})}function hie(t,e,n){t=zt(t),iie(uN,cf[t.app.options.appId],e,n).catch(r=>_r.error(r))}function pie(t,e,n,r){t=zt(t),rie(uN,cf[t.app.options.appId],e,n,r).catch(i=>_r.error(i))}const gD="@firebase/analytics",yD="0.10.19";function mie(){eo(new Ii(Nv,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return cie(r,i,n)},"PUBLIC")),eo(new Ii("analytics-internal",t,"PRIVATE")),Mr(gD,yD),Mr(gD,yD,"esm2020");function t(e){try{const n=e.getProvider(Nv).getImmediate();return{logEvent:(r,i,o)=>pie(n,r,i,o),setUserProperties:(r,i)=>hie(n,r,i)}}catch(n){throw ei.create("interop-component-reg-failed",{reason:n})}}}mie();const sz={apiKey:"AIzaSyCKVgBb0YV5GoX0w-oeNwXuWOCZ5crLgyc",authDomain:"pingapp-ca5fb.firebaseapp.com",projectId:"pingapp-ca5fb",storageBucket:"pingapp-ca5fb.firebasestorage.app",messagingSenderId:"450129567945",appId:"1:450129567945:web:2c12b1efaaf888b2b5ed18",measurementId:"G-F02GG2QXZF"},vs=!!sz.apiKey;let fh,Zl=null,xt=null,mA=null,gie=null;if(vs)try{if(fh=$Y().length===0?rF(sz):fm(),Zl=Pte(fh),xt=oZ(fh),mA=zne(fh),typeof window<"u")try{gie=fie(fh)}catch(t){console.warn("Firebase Analytics failed to initialize",t)}console.log("Firebase initialized successfully for: pingapp-ca5fb")}catch(t){console.error("Firebase Initialization Error:",t)}else console.warn("Firebase is NOT configured.");const az="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?auto=format&fit=crop&q=80&w=200&h=200",Mo="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIj48ZGVmcz48bGluZWFyR3JhZGllbnQgaWQ9ImEiIHgxPSIwJSIgeTE9IjAlIiB4Mj0iMTAwJSIgeTI9IjEwMCUiPjxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiMzYjgyZjYiLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNlYzQ4OTkiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgcng9IjEyOCIgZmlsbD0idXJsKCNhKSIvPjxwYXRoIGZpbGw9IiNmZmYiIGQ9Ik0xNzYgMTI4aDgwYzYxLjg2IDAgMTEyIDUwLjE0IDExMiAxMTJzLTUwLjE0IDExMi0xMTIgMTEyaC0zMnY5NmgtNDhWMTI4em00OCAxNzZoMzJjMzUuMzUgMCA2NC0yOC42NSA2NC02NHMtMjguNjUtNjQtNjQtNjRoLTMydjEyOHoiLz48L3N2Zz4=",Va={status:ar.ACTIVE,verificationStatus:lr.VERIFIED,joinedAt:Date.now()-1e3*60*60*24*30,reportCount:0,verified:!0,isPremium:!0},Hh=[{...Va,id:"test-biz-1",name:"Pixel Arcade",email:"hello@pixelarcade.co",role:Fe.BUSINESS,avatar:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?auto=format&fit=crop&q=80&w=400&h=400",bio:"Retro gaming bar & arcade chain expanding to new cities. Looking for gaming influencers and lifestyle creators to host launch parties.",location:"Austin, TX",industry:"Entertainment",companySize:"10-50",website:"pixelarcade.co",tags:["Gaming","Events","Lifestyle","Retro"],stats:{budget:"$3,000 - $10,000"},aiMatchScore:88,aiMatchReason:"Your gaming content has high overlap with their target demographic for the new Austin location.",portfolio:["https://images.unsplash.com/photo-1511512578047-dfb367046420?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1550745165-9bc0b252726f?auto=format&fit=crop&q=80&w=400&h=400"]},{...Va,id:"biz-1",name:"Aura Wellness",email:"partnerships@aurawellness.com",role:Fe.BUSINESS,avatar:"https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&q=80&w=400&h=400",bio:"Premium sustainable yoga wear looking for authentic storytellers in the wellness space. We value mindfulness and high-quality aesthetic content.",location:"Los Angeles, CA",industry:"Wellness & Apparel",companySize:"50-100",website:"aurawellness.com",tags:["Wellness","Yoga","Sustainability","Eco-Friendly"],stats:{budget:"$5,000 - $15,000"},aiMatchScore:98,aiMatchReason:"Your high engagement in the fitness niche perfectly aligns with their new seasonal collection launch.",portfolio:["https://images.unsplash.com/photo-1510894347713-fc3ed6fdf539?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1545208393-216671fe73f7?auto=format&fit=crop&q=80&w=400&h=400"]},{...Va,id:"biz-2",name:"NextGen Tech",email:"hello@nextgentech.ai",role:Fe.BUSINESS,avatar:"https://images.unsplash.com/photo-1551434678-e076c223a692?auto=format&fit=crop&q=80&w=400&h=400",bio:"Leading AI startup seeking tech reviewers and futurists to showcase our next-generation productivity suite. Looking for creative demo videos.",location:"San Francisco, CA",industry:"Software / AI",companySize:"10-50",website:"nextgen.ai",tags:["Tech","AI","Productivity","B2B"],stats:{budget:"$10,000+"},aiMatchScore:85,aiMatchReason:"Their audience demographics overlap with your core tech-savvy followers.",portfolio:["https://images.unsplash.com/photo-1485827404703-89b55fcc595e?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1531297484001-80022131f5a1?auto=format&fit=crop&q=80&w=400&h=400"]},{...Va,id:"biz-3",name:"Glow Skin",email:"collabs@glowskin.co",role:Fe.BUSINESS,avatar:"https://images.unsplash.com/photo-1556228720-195a672e8a03?auto=format&fit=crop&q=80&w=400&h=400",bio:"Organic skincare for the modern lifestyle. We are looking for creators who prioritize natural beauty and honest reviews.",location:"London, UK",industry:"Beauty & Cosmetics",companySize:"100-500",website:"glowskin.co",tags:["Skincare","Beauty","Organic","Self-Care"],stats:{budget:"$2,000 - $8,000"},aiMatchScore:72,aiMatchReason:"While beauty isn't your primary niche, your lifestyle content shows a strong interest in wellness products.",portfolio:["https://images.unsplash.com/photo-1594122230689-45899d9e6f69?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1570172619644-dfd03ed5d881?auto=format&fit=crop&q=80&w=400&h=400"]}],Kh=[{...Va,id:"test-inf-1",name:"Jamie Rivera",email:"jamie.travels@social.com",role:Fe.INFLUENCER,avatar:"https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&q=80&w=400&h=600",bio:"Solo traveler documenting hidden gems and local eats. Content focused on budget travel and authentic experiences.",location:"Nomad / Bali",jobTitle:"Travel Vlogger",tags:["Travel","Food","Adventure","Budget"],stats:{followers:"45k",engagement:"8.5%"},socials:{instagram:"@jamietravels",youtube:"youtube.com/jamierivera"},aiMatchScore:92,aiMatchReason:"High engagement in the travel sector makes Jamie perfect for location-based campaigns.",portfolio:["https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1501504905252-473c47e087f8?auto=format&fit=crop&q=80&w=400&h=400"]},{...Va,id:"inf-1",name:"Sarah Jensen",email:"sarah.jensen@creators.com",role:Fe.INFLUENCER,avatar:"https://images.unsplash.com/photo-1494790108377-be9c29b29330?auto=format&fit=crop&q=80&w=400&h=600",bio:"Lifestyle & Wellness creator based in NYC. I share daily routines, healthy recipes, and aesthetic living tips. Helping brands reach Gen-Z naturally.",location:"New York, NY",jobTitle:"Lifestyle Creator",tags:["Wellness","Aesthetic","Gen-Z","Lifestyle"],stats:{followers:"120k",engagement:"4.2%"},socials:{instagram:"@sarahliving",tiktok:"@sarahjensen",youtube:"youtube.com/sarahjensen"},aiMatchScore:94,aiMatchReason:"Your brand values for Aura Wellness align 100% with Sarah's high-quality yoga content.",portfolio:["https://images.unsplash.com/photo-1506126613408-eca07ce68773?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1510894347713-fc3ed6fdf539?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1518314916381-77a37c2a49ae?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1552072805-2a9039d00e57?auto=format&fit=crop&q=80&w=400&h=400"]},{...Va,id:"inf-2",name:"Marcus Chen",email:"marcus@techreviews.com",role:Fe.INFLUENCER,avatar:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&q=80&w=400&h=600",bio:"Tech enthusiast and Software Engineer. I build apps and review the latest hardware. Focused on AI and futuristic gadgets.",location:"San Francisco, CA",jobTitle:"Tech Reviewer",tags:["Tech","AI","Software","Gadgets"],stats:{followers:"540k",engagement:"3.1%"},socials:{twitter:"@marcustech",youtube:"youtube.com/marcusreviews",linkedin:"linkedin.com/in/marcuschen"},aiMatchScore:88,aiMatchReason:"Marcus has a highly conversion-driven audience for SaaS products like NextGen AI.",portfolio:["https://images.unsplash.com/photo-1519389950473-47ba0277781c?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1526738549149-8e07eca2c1b4?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1517694712202-14dd9538aa97?auto=format&fit=crop&q=80&w=400&h=400"]},{...Va,id:"inf-3",name:"Alex Rivera",email:"alex@fitness.fit",role:Fe.INFLUENCER,avatar:"https://images.unsplash.com/photo-1500648767791-00dcc994a43e?auto=format&fit=crop&q=80&w=400&h=600",bio:"Certified personal trainer and hybrid athlete. Helping you build a body that looks good and performs better. No shortcuts, just hard work.",location:"Miami, FL",jobTitle:"Fitness Coach",tags:["Fitness","Health","Athlete","Nutrition"],stats:{followers:"85k",engagement:"7.8%"},socials:{instagram:"@alexriverafit",tiktok:"@alexfit"},aiMatchScore:79,aiMatchReason:"Exceptional engagement rate. His audience trusts his product recommendations implicitly.",portfolio:["https://images.unsplash.com/photo-1534438327276-14e5300c3a48?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1517836357463-d25dfeac3438?auto=format&fit=crop&q=80&w=400&h=400","https://images.unsplash.com/photo-1583454110551-21f2fa2ec617?auto=format&fit=crop&q=80&w=400&h=400"]}];class yie{constructor(){this.currentUser=null}checkConfig(){if(!vs||!Zl||!xt)throw new Error("Firebase is not configured. Please check your environment variables.")}async login(e,n,r){if(this.checkConfig(),n==="hello@pixelarcade.co"){const o=Xn(xt,"users","test-biz-1"),s=await uh(o);return s.exists()?this.currentUser=s.data():(this.currentUser=Hh[0],await Vc(o,this.currentUser)),localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)),this.currentUser}if(n==="jamie.travels@social.com"){const o=Xn(xt,"users","test-inf-1"),s=await uh(o);return s.exists()?this.currentUser=s.data():(this.currentUser=Kh[0],await Vc(o,this.currentUser)),localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)),this.currentUser}if(!n||!r)throw new Error("Email and password required for Firebase Auth");try{let i;try{i=await yee(Zl,n,r)}catch(c){if(e===Fe.ADMIN&&(c.code==="auth/user-not-found"||c.code==="auth/invalid-credential"||c.code==="auth/invalid-login-credentials")){console.log("Admin account not found in Auth. Provisioning new Admin...");try{i=await YO(Zl,n,r);const f={id:i.user.uid,name:"System Admin",email:n,role:Fe.ADMIN,avatar:Mo,tags:["Admin","Superuser"],status:ar.ACTIVE,verificationStatus:lr.VERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!0};return await Vc(Xn(xt,"users",i.user.uid),f),this.currentUser=f,f}catch(f){throw console.error("Failed to provision admin:",f),c}}throw c}const o=i.user.uid,s=Xn(xt,"users",o),l=await uh(s);if(l.exists()){const c=l.data();return this.currentUser=c,e===Fe.ADMIN&&c.avatar!==Mo&&(console.log("Updating Admin Avatar to latest logo..."),this.currentUser.avatar=Mo,jc(s,{avatar:Mo}).catch(f=>console.warn("Failed to update admin avatar",f))),localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)),this.currentUser}else{if(e===Fe.ADMIN){const c={id:o,name:"System Admin",email:n,role:Fe.ADMIN,avatar:Mo,tags:["Admin"],status:ar.ACTIVE,verificationStatus:lr.VERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!0};return await Vc(Xn(xt,"users",o),c),this.currentUser=c,c}throw new Error("User profile not found in database.")}}catch(i){throw console.error("Login Error:",i),i}}async signup(e,n,r,i){this.checkConfig();try{const s=(await YO(Zl,e,n)).user.uid,l={id:s,name:i,email:e,role:r,avatar:az,bio:"",location:"",tags:[],stats:r===Fe.BUSINESS?{budget:"$0"}:{followers:"0",engagement:"0%"},verified:!1,status:ar.ACTIVE,verificationStatus:lr.UNVERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!1,socials:{},portfolio:[]};return await Vc(Xn(xt,"users",s),l),this.currentUser=l,localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)),l}catch(o){throw console.error("Signup Error:",o),o}}async logout(){vs&&Zl&&await xee(Zl),this.currentUser=null,localStorage.removeItem("ping_session_user")}async uploadFile(e,n){this.checkConfig();try{if(!mA)throw new Error("Storage not initialized");const r=qne(mA,n),i=await Bne(r,e);return await Fne(i.ref)}catch(r){return console.error("Storage Upload Error:",r),alert("Upload failed: Check network/config. Using temporary preview."),URL.createObjectURL(e)}}async updateUserProfile(e,n){this.checkConfig();try{const r=Xn(xt,"users",e);await jc(r,n),this.currentUser&&this.currentUser.id===e&&(this.currentUser={...this.currentUser,...n},localStorage.setItem("ping_session_user",JSON.stringify(this.currentUser)))}catch(r){throw console.error("Update Profile Error:",r),r}}async getCandidates(e){if(!this.currentUser)throw new Error("No user logged in");if(this.currentUser.id.startsWith("test-")){const r=e===Fe.BUSINESS?Fe.INFLUENCER:Fe.BUSINESS,i=Wl(Kr(xt,"users"),No("role","==",r),No("status","==",ar.ACTIVE)),o=(await Ro(i)).docs.map(s=>s.data());return o.length<3?e===Fe.BUSINESS?Kh:Hh:o}if(!vs)return[];const n=e===Fe.BUSINESS?Fe.INFLUENCER:Fe.BUSINESS;try{const r=Kr(xt,"users",this.currentUser.id,"received_swipes"),i=Wl(r,No("direction","==","up"),No("seen","==",!1)),o=await Ro(i),s=new Set(o.docs.map(p=>p.data().fromUserId)),l=Wl(Kr(xt,"users"),No("role","==",n),No("status","==",ar.ACTIVE)),c=await Ro(l),f=[],h=[];return c.forEach(p=>{var g;if(p.id!==((g=this.currentUser)==null?void 0:g.id)){const _=p.data();s.has(_.id)?(_.aiMatchScore=(_.aiMatchScore||70)+20,h.push(_)):f.push(_)}}),[...h,...f]}catch(r){return console.error("Get Candidates Error:",r),[]}}async swipe(e,n,r){this.checkConfig();const i=Kr(xt,"users",e,"swipes");if(await hw(i,{targetId:n,direction:r,timestamp:Date.now()}),r==="left")return{isMatch:!1};try{const c=Kr(xt,"users",n,"received_swipes");await hw(c,{fromUserId:e,direction:r,timestamp:Date.now(),seen:!1})}catch(c){console.warn("Could not record received swipe",c)}const o=Kr(xt,"users",n,"swipes"),s=Wl(o,No("targetId","==",e),No("direction","in",["right","up"]));if(!(await Ro(s)).empty){const f=(await uh(Xn(xt,"users",n))).data(),h={id:[e,n].sort().join("_"),users:[e,n],lastActive:Date.now(),userProfile:f,lastMessage:""};return await Vc(Xn(xt,"matches",h.id),h),{isMatch:!0,match:h}}return{isMatch:!1}}async getMatches(){if(!this.currentUser)return[];if(!vs)return[];try{const e=Wl(Kr(xt,"matches"),No("users","array-contains",this.currentUser.id)),n=await Ro(e),r=[];for(const i of n.docs){const o=i.data(),s=o.users.find(l=>{var c;return l!==((c=this.currentUser)==null?void 0:c.id)});if(s){const l=await uh(Xn(xt,"users",s));l.exists()&&r.push({...o,id:i.id,userProfile:l.data()})}}return r}catch(e){return console.error(e),[]}}async getMessages(e){if(!vs)return[];const n=Kr(xt,"matches",e,"messages"),r=Wl(n,mZ("timestamp","asc"));return(await Ro(r)).docs.map(o=>({id:o.id,...o.data()}))}async sendMessage(e,n){if(!this.currentUser)throw new Error("Not logged in");this.checkConfig();const r={senderId:this.currentUser.id,text:n,timestamp:Date.now(),read:!1},i=Kr(xt,"matches",e,"messages"),o=await hw(i,r),s=Xn(xt,"matches",e);return await jc(s,{lastMessage:n,lastActive:Date.now()}),{id:o.id,...r}}async getNotifications(){return[]}async getNewLikesCount(){if(!this.currentUser||!vs)return 0;try{const e=Wl(Kr(xt,"users",this.currentUser.id,"received_swipes"),No("seen","==",!1));return(await Ro(e)).size}catch(e){return console.warn("Failed to get likes count",e),0}}async getAllUsers(){return vs?(await Ro(Kr(xt,"users"))).docs.map(n=>n.data()):[]}async updateUserStatus(e,n){this.checkConfig(),await jc(Xn(xt,"users",e),{status:n})}async verifyUser(e,n){this.checkConfig(),await jc(Xn(xt,"users",e),{verificationStatus:n?lr.VERIFIED:lr.REJECTED,verified:n})}async addMatch(e){if(!this.currentUser)throw new Error("No user");return this.swipe(this.currentUser.id,e.id,"right").then(n=>n.match)}async getContract(e){return null}async getAdminStats(){if(!vs)return{totalUsers:0,split:{business:0,influencer:0},revenue:0,activeMatches:0,pendingVerifications:0};const e=await Ro(Kr(xt,"users")),n=await Ro(Kr(xt,"matches"));let r=0,i=0,o=0;return e.forEach(s=>{const l=s.data();l.role===Fe.BUSINESS?r++:l.role===Fe.INFLUENCER&&i++,l.verificationStatus===lr.PENDING&&o++}),{totalUsers:e.size,split:{business:r,influencer:i},revenue:e.size*10,activeMatches:n.size,pendingVerifications:o}}async upgradeToPremium(){this.currentUser&&(this.checkConfig(),await jc(Xn(xt,"users",this.currentUser.id),{isPremium:!0}),this.currentUser.isPremium=!0)}async seedDatabase(){this.checkConfig();const e=bZ(xt);Hh.forEach(n=>{const r=Xn(xt,"users",n.id);e.set(r,n)}),Kh.forEach(n=>{const r=Xn(xt,"users",n.id);e.set(r,n)}),await e.commit(),console.log("Database seeded successfully with Mock Data!")}}const Zt=new yie,ub=W.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),cb=W.createContext({}),fb=W.createContext(null),db=typeof document<"u",Kf=db?W.useLayoutEffect:W.useEffect,lz=W.createContext({strict:!1}),cN=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),vie="framerAppearId",uz="data-"+cN(vie),cz={skipAnimations:!1,useManualTiming:!1};class vD{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function bie(t){let e=new vD,n=new vD,r=0,i=!1,o=!1;const s=new WeakSet,l={schedule:(c,f=!1,h=!1)=>{const p=h&&i,g=p?e:n;return f&&s.add(c),g.add(c)&&p&&i&&(r=e.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let f=0;f<r;f++){const h=e.order[f];s.has(h)&&(l.schedule(h),t()),h(c)}i=!1,o&&(o=!1,l.process(c))}};return l}const _y=["prepare","read","update","preRender","render","postRender"],xie=40;function fz(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=_y.reduce((p,g)=>(p[g]=bie(()=>n=!0),p),{}),s=p=>{o[p].process(i)},l=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,xie),1),i.timestamp=p,i.isProcessing=!0,_y.forEach(s),i.isProcessing=!1,n&&e&&(r=!1,t(l))},c=()=>{n=!0,r=!0,i.isProcessing||t(l)};return{schedule:_y.reduce((p,g)=>{const _=o[g];return p[g]=(S,A=!1,E=!1)=>(n||c(),_.schedule(S,A,E)),p},{}),cancel:p=>_y.forEach(g=>o[g].cancel(p)),state:i,steps:o}}const{schedule:fN}=fz(queueMicrotask,!1);function _ie(t,e,n,r){const{visualElement:i}=W.useContext(cb),o=W.useContext(lz),s=W.useContext(fb),l=W.useContext(ub).reducedMotion,c=W.useRef();r=r||o.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:l}));const f=c.current;W.useInsertionEffect(()=>{f&&f.update(n,s)});const h=W.useRef(!!(n[uz]&&!window.HandoffComplete));return Kf(()=>{f&&(fN.postRender(f.render),h.current&&f.animationState&&f.animationState.animateChanges())}),W.useEffect(()=>{f&&(f.updateFeatures(),!h.current&&f.animationState&&f.animationState.animateChanges(),h.current&&(h.current=!1,window.HandoffComplete=!0))}),f}function Yc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function wie(t,e,n){return W.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Yc(n)&&(n.current=r))},[e])}function yp(t){return typeof t=="string"||Array.isArray(t)}function hb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const dN=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hN=["initial",...dN];function pb(t){return hb(t.animate)||hN.some(e=>yp(t[e]))}function dz(t){return!!(pb(t)||t.variants)}function Tie(t,e){if(pb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||yp(n)?n:void 0,animate:yp(r)?r:void 0}}return t.inherit!==!1?e:{}}function Eie(t){const{initial:e,animate:n}=Tie(t,W.useContext(cb));return W.useMemo(()=>({initial:e,animate:n}),[bD(e),bD(n)])}function bD(t){return Array.isArray(t)?t.join(" "):t}const xD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vp={};for(const t in xD)vp[t]={isEnabled:e=>xD[t].some(n=>!!e[n])};function Sie(t){for(const e in t)vp[e]={...vp[e],...t[e]}}const pN=W.createContext({}),hz=W.createContext({}),Aie=Symbol.for("motionComponentSymbol");function Cie({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Sie(t);function o(l,c){let f;const h={...W.useContext(ub),...l,layoutId:Iie(l)},{isStatic:p}=h,g=Eie(l),_=r(l,p);if(!p&&db){g.visualElement=_ie(i,_,h,e);const S=W.useContext(hz),A=W.useContext(lz).strict;g.visualElement&&(f=g.visualElement.loadFeatures(h,A,t,S))}return W.createElement(cb.Provider,{value:g},f&&g.visualElement?W.createElement(f,{visualElement:g.visualElement,...h}):null,n(i,l,wie(_,g.visualElement,c),_,p,g.visualElement))}const s=W.forwardRef(o);return s[Aie]=i,s}function Iie({layoutId:t}){const e=W.useContext(pN).id;return e&&t!==void 0?e+"-"+t:t}function Nie(t){function e(r,i={}){return Cie(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Rie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mN(t){return typeof t!="string"||t.includes("-")?!1:!!(Rie.indexOf(t)>-1||/[A-Z]/.test(t))}const Rv={};function Pie(t){Object.assign(Rv,t)}const Tm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],qu=new Set(Tm);function pz(t,{layout:e,layoutId:n}){return qu.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rv[t]||t==="opacity")}const pr=t=>!!(t&&t.getVelocity),kie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Mie=Tm.length;function Oie(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let o="";for(let s=0;s<Mie;s++){const l=Tm[s];if(t[l]!==void 0){const c=kie[l]||l;o+=`${c}(${t[l]}) `}}return e&&!t.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(t,r?"":o):n&&r&&(o="none"),o}const mz=t=>e=>typeof e=="string"&&e.startsWith(t),gz=mz("--"),Die=mz("var(--"),Pv=t=>Die(t)?Lie.test(t.split("/*")[0].trim()):!1,Lie=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)$/i,Uie=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tl=(t,e,n)=>n>e?e:n<t?t:n,Wf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wh={...Wf,transform:t=>tl(0,1,t)},wy={...Wf,default:1},Yh=t=>Math.round(t*1e5)/1e5,gN=/(-)?([\d]*\.?[\d])+/g,Vie=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,jie=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Em(t){return typeof t=="string"}const Sm=t=>({test:e=>Em(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ca=Sm("deg"),zo=Sm("%"),$e=Sm("px"),Bie=Sm("vh"),Fie=Sm("vw"),_D={...zo,parse:t=>zo.parse(t)/100,transform:t=>zo.transform(t*100)},wD={...Wf,transform:Math.round},yz={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,size:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,rotate:Ca,rotateX:Ca,rotateY:Ca,rotateZ:Ca,scale:wy,scaleX:wy,scaleY:wy,scaleZ:wy,skew:Ca,skewX:Ca,skewY:Ca,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:Wh,originX:_D,originY:_D,originZ:$e,zIndex:wD,fillOpacity:Wh,strokeOpacity:Wh,numOctaves:wD};function yN(t,e,n,r){const{style:i,vars:o,transform:s,transformOrigin:l}=t;let c=!1,f=!1,h=!0;for(const p in e){const g=e[p];if(gz(p)){o[p]=g;continue}const _=yz[p],S=Uie(g,_);if(qu.has(p)){if(c=!0,s[p]=S,!h)continue;g!==(_.default||0)&&(h=!1)}else p.startsWith("origin")?(f=!0,l[p]=S):i[p]=S}if(e.transform||(c||r?i.transform=Oie(t.transform,n,h,r):i.transform&&(i.transform="none")),f){const{originX:p="50%",originY:g="50%",originZ:_=0}=l;i.transformOrigin=`${p} ${g} ${_}`}}const vN=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vz(t,e,n){for(const r in e)!pr(e[r])&&!pz(r,n)&&(t[r]=e[r])}function qie({transformTemplate:t},e,n){return W.useMemo(()=>{const r=vN();return yN(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function zie(t,e,n){const r=t.style||{},i={};return vz(i,r,t),Object.assign(i,qie(t,e,n)),i}function $ie(t,e,n){const r={},i=zie(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Gie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kv(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Gie.has(t)}let bz=t=>!kv(t);function Hie(t){t&&(bz=e=>e.startsWith("on")?!kv(e):t(e))}try{Hie(require("@emotion/is-prop-valid").default)}catch{}function Kie(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(bz(i)||n===!0&&kv(i)||!e&&!kv(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function TD(t,e,n){return typeof t=="string"?t:$e.transform(e+n*t)}function Wie(t,e,n){const r=TD(e,t.x,t.width),i=TD(n,t.y,t.height);return`${r} ${i}`}const Yie={offset:"stroke-dashoffset",array:"stroke-dasharray"},Xie={offset:"strokeDashoffset",array:"strokeDasharray"};function Jie(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?Yie:Xie;t[o.offset]=$e.transform(-r);const s=$e.transform(e),l=$e.transform(n);t[o.array]=`${s} ${l}`}function bN(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:o,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...f},h,p,g){if(yN(t,f,h,g),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:_,style:S,dimensions:A}=t;_.transform&&(A&&(S.transform=_.transform),delete _.transform),A&&(i!==void 0||o!==void 0||S.transform)&&(S.transformOrigin=Wie(A,i!==void 0?i:.5,o!==void 0?o:.5)),e!==void 0&&(_.x=e),n!==void 0&&(_.y=n),r!==void 0&&(_.scale=r),s!==void 0&&Jie(_,s,l,c,!1)}const xz=()=>({...vN(),attrs:{}}),xN=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Qie(t,e,n,r){const i=W.useMemo(()=>{const o=xz();return bN(o,e,{enableHardwareAcceleration:!1},xN(r),t.transformTemplate),{...o.attrs,style:{...o.style}}},[e]);if(t.style){const o={};vz(o,t.style,t),i.style={...o,...i.style}}return i}function Zie(t=!1){return(n,r,i,{latestValues:o},s)=>{const c=(mN(n)?Qie:$ie)(r,o,s,n),f=Kie(r,typeof n=="string",t),h=n!==W.Fragment?{...f,...c,ref:i}:{},{children:p}=r,g=W.useMemo(()=>pr(p)?p.get():p,[p]);return W.createElement(n,{...h,children:g})}}function _z(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const wz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tz(t,e,n,r){_z(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(wz.has(i)?i:cN(i),e.attrs[i])}function _N(t,e){const{style:n}=t,r={};for(const i in n)(pr(n[i])||e.style&&pr(e.style[i])||pz(i,t))&&(r[i]=n[i]);return r}function Ez(t,e){const n=_N(t,e);for(const r in t)if(pr(t[r])||pr(e[r])){const i=Tm.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function wN(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Am(t){const e=W.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mv=t=>Array.isArray(t),eoe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),toe=t=>Mv(t)?t[t.length-1]||0:t;function rv(t){const e=pr(t)?t.get():t;return eoe(e)?e.toValue():e}function noe({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:roe(r,i,o,t),renderState:e()};return n&&(s.mount=l=>n(r,l,s)),s}const Sz=t=>(e,n)=>{const r=W.useContext(cb),i=W.useContext(fb),o=()=>noe(t,e,r,i);return n?o():Am(o)};function roe(t,e,n,r){const i={},o=r(t,{});for(const g in o)i[g]=rv(o[g]);let{initial:s,animate:l}=t;const c=pb(t),f=dz(t);e&&f&&!c&&t.inherit!==!1&&(s===void 0&&(s=e.initial),l===void 0&&(l=e.animate));let h=n?n.initial===!1:!1;h=h||s===!1;const p=h?l:s;return p&&typeof p!="boolean"&&!hb(p)&&(Array.isArray(p)?p:[p]).forEach(_=>{const S=wN(t,_);if(!S)return;const{transitionEnd:A,transition:E,...M}=S;for(const I in M){let N=M[I];if(Array.isArray(N)){const C=h?N.length-1:0;N=N[C]}N!==null&&(i[I]=N)}for(const I in A)i[I]=A[I]}),i}const An=t=>t,{schedule:Wt,cancel:Ko,state:jn,steps:_w}=fz(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0),ioe={useVisualState:Sz({scrapeMotionValuesFromProps:Ez,createRenderState:xz,onMount:(t,e,{renderState:n,latestValues:r})=>{Wt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Wt.render(()=>{bN(n,r,{enableHardwareAcceleration:!1},xN(e.tagName),t.transformTemplate),Tz(e,n)})}})},ooe={useVisualState:Sz({scrapeMotionValuesFromProps:_N,createRenderState:vN})};function soe(t,{forwardMotionProps:e=!1},n,r){return{...mN(t)?ioe:ooe,preloadedFeatures:n,useRender:Zie(e),createVisualElement:r,Component:t}}function Ts(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const Az=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function mb(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const aoe=t=>e=>Az(e)&&t(e,mb(e));function Is(t,e,n,r){return Ts(t,e,aoe(n),r)}const loe=(t,e)=>n=>e(t(n)),Ns=(...t)=>t.reduce(loe);function Cz(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const ED=Cz("dragHorizontal"),SD=Cz("dragVertical");function Iz(t){let e=!1;if(t==="y")e=SD();else if(t==="x")e=ED();else{const n=ED(),r=SD();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function Nz(){const t=Iz(!0);return t?(t(),!1):!0}class cl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function AD(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(o,s)=>{if(o.pointerType==="touch"||Nz())return;const l=t.getProps();t.animationState&&l.whileHover&&t.animationState.setActive("whileHover",e),l[r]&&Wt.update(()=>l[r](o,s))};return Is(t.current,n,i,{passive:!t.getProps()[r]})}class uoe extends cl{mount(){this.unmount=Ns(AD(this.node,!0),AD(this.node,!1))}unmount(){}}class coe extends cl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ns(Ts(this.node.current,"focus",()=>this.onFocus()),Ts(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const Rz=(t,e)=>e?t===e?!0:Rz(t,e.parentElement):!1;function ww(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,mb(n))}class foe extends cl{constructor(){super(...arguments),this.removeStartListeners=An,this.removeEndListeners=An,this.removeAccessibleListeners=An,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),o=Is(window,"pointerup",(l,c)=>{if(!this.checkPressEnd())return;const{onTap:f,onTapCancel:h,globalTapTarget:p}=this.node.getProps();Wt.update(()=>{!p&&!Rz(this.node.current,l.target)?h&&h(l,c):f&&f(l,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=Is(window,"pointercancel",(l,c)=>this.cancelPress(l,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Ns(o,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=o=>{if(o.key!=="Enter"||this.isPressing)return;const s=l=>{l.key!=="Enter"||!this.checkPressEnd()||ww("up",(c,f)=>{const{onTap:h}=this.node.getProps();h&&Wt.update(()=>h(c,f))})};this.removeEndListeners(),this.removeEndListeners=Ts(this.node.current,"keyup",s),ww("down",(l,c)=>{this.startPress(l,c)})},n=Ts(this.node.current,"keydown",e),r=()=>{this.isPressing&&ww("cancel",(o,s)=>this.cancelPress(o,s))},i=Ts(this.node.current,"blur",r);this.removeAccessibleListeners=Ns(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Wt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Nz()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Wt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Is(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Ts(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Ns(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const gA=new WeakMap,Tw=new WeakMap,doe=t=>{const e=gA.get(t.target);e&&e(t)},hoe=t=>{t.forEach(doe)};function poe({root:t,...e}){const n=t||document;Tw.has(n)||Tw.set(n,{});const r=Tw.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(hoe,{root:t,...e})),r[i]}function moe(t,e,n){const r=poe(e);return gA.set(t,n),r.observe(t),()=>{gA.delete(t),r.unobserve(t)}}const goe={some:0,all:1};class yoe extends cl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:o}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:goe[i]},l=c=>{const{isIntersecting:f}=c;if(this.isInView===f||(this.isInView=f,o&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),g=f?h:p;g&&g(c)};return moe(this.node.current,s,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(voe(e,n))&&this.startObserver()}unmount(){}}function voe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const boe={inView:{Feature:yoe},tap:{Feature:foe},focus:{Feature:coe},hover:{Feature:uoe}};function Pz(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function xoe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function _oe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function gb(t,e,n){const r=t.getProps();return wN(r,e,n!==void 0?n:r.custom,xoe(t),_oe(t))}let TN=An;const yu=t=>t*1e3,Rs=t=>t/1e3,woe={current:!1},kz=t=>Array.isArray(t)&&typeof t[0]=="number";function Mz(t){return!!(!t||typeof t=="string"&&Oz[t]||kz(t)||Array.isArray(t)&&t.every(Mz))}const Ph=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Oz={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ph([0,.65,.55,1]),circOut:Ph([.55,0,1,.45]),backIn:Ph([.31,.01,.66,-.59]),backOut:Ph([.33,1.53,.69,.99])};function Dz(t){if(t)return kz(t)?Ph(t):Array.isArray(t)?t.map(Dz):Oz[t]}function Toe(t,e,n,{delay:r=0,duration:i,repeat:o=0,repeatType:s="loop",ease:l,times:c}={}){const f={[e]:n};c&&(f.offset=c);const h=Dz(l);return Array.isArray(h)&&(f.easing=h),t.animate(f,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:o+1,direction:s==="reverse"?"alternate":"normal"})}function Eoe(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Lz=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Soe=1e-7,Aoe=12;function Coe(t,e,n,r,i){let o,s,l=0;do s=e+(n-e)/2,o=Lz(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Soe&&++l<Aoe);return s}function Cm(t,e,n,r){if(t===e&&n===r)return An;const i=o=>Coe(o,0,1,t,n);return o=>o===0||o===1?o:Lz(i(o),e,r)}const Ioe=Cm(.42,0,1,1),Noe=Cm(0,0,.58,1),Uz=Cm(.42,0,.58,1),Roe=t=>Array.isArray(t)&&typeof t[0]!="number",Vz=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,jz=t=>e=>1-t(1-e),EN=t=>1-Math.sin(Math.acos(t)),Bz=jz(EN),Poe=Vz(EN),Fz=Cm(.33,1.53,.69,.99),SN=jz(Fz),koe=Vz(SN),Moe=t=>(t*=2)<1?.5*SN(t):.5*(2-Math.pow(2,-10*(t-1))),Ooe={linear:An,easeIn:Ioe,easeInOut:Uz,easeOut:Noe,circIn:EN,circInOut:Poe,circOut:Bz,backIn:SN,backInOut:koe,backOut:Fz,anticipate:Moe},CD=t=>{if(Array.isArray(t)){TN(t.length===4);const[e,n,r,i]=t;return Cm(e,n,r,i)}else if(typeof t=="string")return Ooe[t];return t},bp=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},en=(t,e,n)=>t+(e-t)*n;function Ew(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Doe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const l=n<.5?n*(1+e):n+e-n*e,c=2*n-l;i=Ew(c,l,t+1/3),o=Ew(c,l,t),s=Ew(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const AN=(t,e)=>n=>!!(Em(n)&&jie.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),qz=(t,e,n)=>r=>{if(!Em(r))return r;const[i,o,s,l]=r.match(gN);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:l!==void 0?parseFloat(l):1}},Loe=t=>tl(0,255,t),Sw={...Wf,transform:t=>Math.round(Loe(t))},uu={test:AN("rgb","red"),parse:qz("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sw.transform(t)+", "+Sw.transform(e)+", "+Sw.transform(n)+", "+Yh(Wh.transform(r))+")"};function Uoe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const yA={test:AN("#"),parse:Uoe,transform:uu.transform},Xc={test:AN("hsl","hue"),parse:qz("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+zo.transform(Yh(e))+", "+zo.transform(Yh(n))+", "+Yh(Wh.transform(r))+")"},Aw=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},Voe=[yA,uu,Xc],joe=t=>Voe.find(e=>e.test(t));function ID(t){const e=joe(t);let n=e.parse(t);return e===Xc&&(n=Doe(n)),n}const ND=(t,e)=>{const n=ID(t),r=ID(e),i={...n};return o=>(i.red=Aw(n.red,r.red,o),i.green=Aw(n.green,r.green,o),i.blue=Aw(n.blue,r.blue,o),i.alpha=en(n.alpha,r.alpha,o),uu.transform(i))},ir={test:t=>uu.test(t)||yA.test(t)||Xc.test(t),parse:t=>uu.test(t)?uu.parse(t):Xc.test(t)?Xc.parse(t):yA.parse(t),transform:t=>Em(t)?t:t.hasOwnProperty("red")?uu.transform(t):Xc.transform(t)};function Boe(t){var e,n;return isNaN(t)&&Em(t)&&(((e=t.match(gN))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Vie))===null||n===void 0?void 0:n.length)||0)>0}const zz="number",$z="color",Foe="var",qoe="var(",RD="${}",PD=/(var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\))|(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))|((-)?([\d]*\.?[\d])+)/gi;function Ov(t){const e=t.toString(),n=e.match(PD)||[],r=[],i={color:[],number:[],var:[]},o=[];for(let c=0;c<n.length;c++){const f=n[c];ir.test(f)?(i.color.push(c),o.push($z),r.push(ir.parse(f))):f.startsWith(qoe)?(i.var.push(c),o.push(Foe),r.push(f)):(i.number.push(c),o.push(zz),r.push(parseFloat(f)))}const l=e.replace(PD,RD).split(RD);return{values:r,split:l,indexes:i,types:o}}function Gz(t){return Ov(t).values}function Hz(t){const{split:e,types:n}=Ov(t),r=e.length;return i=>{let o="";for(let s=0;s<r;s++)if(o+=e[s],i[s]!==void 0){const l=n[s];l===zz?o+=Yh(i[s]):l===$z?o+=ir.transform(i[s]):o+=i[s]}return o}}const zoe=t=>typeof t=="number"?0:t;function $oe(t){const e=Gz(t);return Hz(t)(e.map(zoe))}const nl={test:Boe,parse:Gz,createTransformer:Hz,getAnimatableNone:$oe};function vA(t,e){return n=>n>0?e:t}function Goe(t,e){return n=>en(t,e,n)}function CN(t){return typeof t=="number"?Goe:typeof t=="string"?Pv(t)?vA:ir.test(t)?ND:Woe:Array.isArray(t)?Kz:typeof t=="object"?ir.test(t)?ND:Hoe:vA}function Kz(t,e){const n=[...t],r=n.length,i=t.map((o,s)=>CN(o)(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}}function Hoe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=CN(t[i])(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}}function Koe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let o=0;o<e.values.length;o++){const s=e.types[o],l=t.indexes[s][i[s]],c=(n=t.values[l])!==null&&n!==void 0?n:0;r[o]=c,i[s]++}return r}const Woe=(t,e)=>{const n=nl.createTransformer(e),r=Ov(t),i=Ov(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Ns(Kz(Koe(r,i),i.values),n):vA(t,e)};function Wz(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?en(t,e,n):CN(t)(t,e)}function Yoe(t,e,n){const r=[],i=n||Wz,o=t.length-1;for(let s=0;s<o;s++){let l=i(t[s],t[s+1]);if(e){const c=Array.isArray(e)?e[s]||An:e;l=Ns(c,l)}r.push(l)}return r}function Yz(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;if(TN(o===e.length),o===1)return()=>e[0];t[0]>t[o-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=Yoe(e,r,i),l=s.length,c=f=>{let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const p=bp(t[h],t[h+1],f);return s[h](p)};return n?f=>c(tl(t[0],t[o-1],f)):c}function Xoe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=bp(0,e,r);t.push(en(n,1,i))}}function Joe(t){const e=[0];return Xoe(e,t.length-1),e}function Qoe(t,e){return t.map(n=>n*e)}function Zoe(t,e){return t.map(()=>e||Uz).splice(0,t.length-1)}function Dv({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=Roe(r)?r.map(CD):CD(r),o={done:!1,value:e[0]},s=Qoe(n&&n.length===e.length?n:Joe(e),t),l=Yz(s,e,{ease:Array.isArray(i)?i:Zoe(e,i)});return{calculatedDuration:t,next:c=>(o.value=l(c),o.done=c>=t,o)}}function Xz(t,e){return e?t*(1e3/e):0}const ese=5;function Jz(t,e,n){const r=Math.max(e-ese,0);return Xz(n-t(r),e-r)}const Cw=.001,tse=.01,nse=10,rse=.05,ise=1;function ose({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o,s=1-e;s=tl(rse,ise,s),t=tl(tse,nse,Rs(t)),s<1?(i=f=>{const h=f*s,p=h*t,g=h-n,_=bA(f,s),S=Math.exp(-p);return Cw-g/_*S},o=f=>{const p=f*s*t,g=p*n+n,_=Math.pow(s,2)*Math.pow(f,2)*t,S=Math.exp(-p),A=bA(Math.pow(f,2),s);return(-i(f)+Cw>0?-1:1)*((g-_)*S)/A}):(i=f=>{const h=Math.exp(-f*t),p=(f-n)*t+1;return-Cw+h*p},o=f=>{const h=Math.exp(-f*t),p=(n-f)*(t*t);return h*p});const l=5/t,c=ase(i,o,l);if(t=yu(t),isNaN(c))return{stiffness:100,damping:10,duration:t};{const f=Math.pow(c,2)*r;return{stiffness:f,damping:s*2*Math.sqrt(r*f),duration:t}}}const sse=12;function ase(t,e,n){let r=n;for(let i=1;i<sse;i++)r=r-t(r)/e(r);return r}function bA(t,e){return t*Math.sqrt(1-e*e)}const lse=["duration","bounce"],use=["stiffness","damping","mass"];function kD(t,e){return e.some(n=>t[n]!==void 0)}function cse(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!kD(t,use)&&kD(t,lse)){const n=ose(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function Qz({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],o=t[t.length-1],s={done:!1,value:i},{stiffness:l,damping:c,mass:f,duration:h,velocity:p,isResolvedFromDuration:g}=cse({...r,velocity:-Rs(r.velocity||0)}),_=p||0,S=c/(2*Math.sqrt(l*f)),A=o-i,E=Rs(Math.sqrt(l/f)),M=Math.abs(A)<5;n||(n=M?.01:2),e||(e=M?.005:.5);let I;if(S<1){const N=bA(E,S);I=C=>{const R=Math.exp(-S*E*C);return o-R*((_+S*E*A)/N*Math.sin(N*C)+A*Math.cos(N*C))}}else if(S===1)I=N=>o-Math.exp(-E*N)*(A+(_+E*A)*N);else{const N=E*Math.sqrt(S*S-1);I=C=>{const R=Math.exp(-S*E*C),U=Math.min(N*C,300);return o-R*((_+S*E*A)*Math.sinh(U)+N*A*Math.cosh(U))/N}}return{calculatedDuration:g&&h||null,next:N=>{const C=I(N);if(g)s.done=N>=h;else{let R=_;N!==0&&(S<1?R=Jz(I,N,C):R=0);const U=Math.abs(R)<=n,k=Math.abs(o-C)<=e;s.done=U&&k}return s.value=s.done?o:C,s}}}function MD({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:s,min:l,max:c,restDelta:f=.5,restSpeed:h}){const p=t[0],g={done:!1,value:p},_=O=>l!==void 0&&O<l||c!==void 0&&O>c,S=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let A=n*e;const E=p+A,M=s===void 0?E:s(E);M!==E&&(A=M-p);const I=O=>-A*Math.exp(-O/r),N=O=>M+I(O),C=O=>{const V=I(O),F=N(O);g.done=Math.abs(V)<=f,g.value=g.done?M:F};let R,U;const k=O=>{_(g.value)&&(R=O,U=Qz({keyframes:[g.value,S(g.value)],velocity:Jz(N,O,g.value),damping:i,stiffness:o,restDelta:f,restSpeed:h}))};return k(0),{calculatedDuration:null,next:O=>{let V=!1;return!U&&R===void 0&&(V=!0,C(O),k(O)),R!==void 0&&O>R?U.next(O-R):(!V&&C(O),g)}}}let iv;function fse(){iv=void 0}const vu={now:()=>(iv===void 0&&vu.set(jn.isProcessing||cz.useManualTiming?jn.timestamp:performance.now()),iv),set:t=>{iv=t,queueMicrotask(fse)}},dse=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Wt.update(e,!0),stop:()=>Ko(e),now:()=>jn.isProcessing?jn.timestamp:vu.now()}},OD=2e4;function DD(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<OD;)e+=n,r=t.next(e);return e>=OD?1/0:e}const hse={decay:MD,inertia:MD,tween:Dv,keyframes:Dv,spring:Qz},pse=t=>t/100;function xp({autoplay:t=!0,delay:e=0,driver:n=dse,keyframes:r,type:i="keyframes",repeat:o=0,repeatDelay:s=0,repeatType:l="loop",onPlay:c,onStop:f,onComplete:h,onUpdate:p,...g}){let _=1,S=!1,A,E;const M=()=>{E=new Promise(L=>{A=L})};M();let I;const N=hse[i]||Dv;let C;N!==Dv&&typeof r[0]!="number"&&(C=Ns(pse,Wz(r[0],r[1])),r=[0,100]);const R=N({...g,keyframes:r});let U;l==="mirror"&&(U=N({...g,keyframes:[...r].reverse(),velocity:-(g.velocity||0)}));let k="idle",O=null,V=null,F=null;R.calculatedDuration===null&&o&&(R.calculatedDuration=DD(R));const{calculatedDuration:q}=R;let z=1/0,B=1/0;q!==null&&(z=q+s,B=z*(o+1)-s);let Q=0;const oe=L=>{if(V===null)return;_>0&&(V=Math.min(V,L)),_<0&&(V=Math.min(L-B/_,V)),O!==null?Q=O:Q=Math.round(L-V)*_;const G=Q-e*(_>=0?1:-1),ee=_>=0?G<0:G>B;Q=Math.max(G,0),k==="finished"&&O===null&&(Q=B);let ae=Q,ge=R;if(o){const pe=Math.min(Q,B)/z;let Ce=Math.floor(pe),Ie=pe%1;!Ie&&pe>=1&&(Ie=1),Ie===1&&Ce--,Ce=Math.min(Ce,o+1),!!(Ce%2)&&(l==="reverse"?(Ie=1-Ie,s&&(Ie-=s/z)):l==="mirror"&&(ge=U)),ae=tl(0,1,Ie)*z}const we=ee?{done:!1,value:r[0]}:ge.next(ae);C&&(we.value=C(we.value));let{done:Te}=we;!ee&&q!==null&&(Te=_>=0?Q>=B:Q<=0);const Re=O===null&&(k==="finished"||k==="running"&&Te);return p&&p(we.value),Re&&te(),we},K=()=>{I&&I.stop(),I=void 0},X=()=>{k="idle",K(),A(),M(),V=F=null},te=()=>{k="finished",h&&h(),K(),A()},ce=()=>{if(S)return;I||(I=n(oe));const L=I.now();c&&c(),O!==null?V=L-O:(!V||k==="finished")&&(V=L),k==="finished"&&M(),F=V,O=null,k="running",I.start()};t&&ce();const Y={then(L,G){return E.then(L,G)},get time(){return Rs(Q)},set time(L){L=yu(L),Q=L,O!==null||!I||_===0?O=L:V=I.now()-L/_},get duration(){const L=R.calculatedDuration===null?DD(R):R.calculatedDuration;return Rs(L)},get speed(){return _},set speed(L){L===_||!I||(_=L,Y.time=Rs(Q))},get state(){return k},play:ce,pause:()=>{k="paused",O=Q},stop:()=>{S=!0,k!=="idle"&&(k="idle",f&&f(),X())},cancel:()=>{F!==null&&oe(F),X()},complete:()=>{k="finished"},sample:L=>(V=0,oe(L))};return Y}function mse(t){let e;return()=>(e===void 0&&(e=t()),e)}const gse=mse(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),yse=new Set(["opacity","clipPath","filter","transform"]),Ty=10,vse=2e4,bse=(t,e)=>e.type==="spring"||t==="backgroundColor"||!Mz(e.ease);function xse(t,e,{onUpdate:n,onComplete:r,...i}){if(!(gse()&&yse.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,l,c,f=!1;const h=()=>{c=new Promise(N=>{l=N})};h();let{keyframes:p,duration:g=300,ease:_,times:S}=i;if(bse(e,i)){const N=xp({...i,repeat:0,delay:0});let C={done:!1,value:p[0]};const R=[];let U=0;for(;!C.done&&U<vse;)C=N.sample(U),R.push(C.value),U+=Ty;S=void 0,p=R,g=U-Ty,_="linear"}const A=Toe(t.owner.current,e,p,{...i,duration:g,ease:_,times:S}),E=()=>{f=!1,A.cancel()},M=()=>{f=!0,Wt.update(E),l(),h()};return A.onfinish=()=>{f||(t.set(Eoe(p,i)),r&&r(),M())},{then(N,C){return c.then(N,C)},attachTimeline(N){return A.timeline=N,A.onfinish=null,An},get time(){return Rs(A.currentTime||0)},set time(N){A.currentTime=yu(N)},get speed(){return A.playbackRate},set speed(N){A.playbackRate=N},get duration(){return Rs(g)},play:()=>{s||(A.play(),Ko(E))},pause:()=>A.pause(),stop:()=>{if(s=!0,A.playState==="idle")return;const{currentTime:N}=A;if(N){const C=xp({...i,autoplay:!1});t.setWithVelocity(C.sample(N-Ty).value,C.sample(N).value,Ty)}M()},complete:()=>{f||A.finish()},cancel:M}}function _se({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:An,pause:An,stop:An,then:o=>(o(),Promise.resolve()),cancel:An,complete:An});return e?xp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const wse={type:"spring",stiffness:500,damping:25,restSpeed:10},Tse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ese={type:"keyframes",duration:.8},Sse={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ase=(t,{keyframes:e})=>e.length>2?Ese:qu.has(t)?t.startsWith("scale")?Tse(e[1]):wse:Sse,xA=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(nl.test(e)||e==="0")&&!e.startsWith("url(")),Cse=new Set(["brightness","contrast","saturate","opacity"]);function Ise(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(gN)||[];if(!r)return t;const i=n.replace(r,"");let o=Cse.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const Nse=/([a-z-]*)\(.*?\)/g,_A={...nl,getAnimatableNone:t=>{const e=t.match(Nse);return e?e.map(Ise).join(" "):t}},Rse={...yz,color:ir,backgroundColor:ir,outlineColor:ir,fill:ir,stroke:ir,borderColor:ir,borderTopColor:ir,borderRightColor:ir,borderBottomColor:ir,borderLeftColor:ir,filter:_A,WebkitFilter:_A},IN=t=>Rse[t];function Zz(t,e){let n=IN(t);return n!==_A&&(n=nl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const e$=t=>/^0[^.\s]+$/.test(t);function Pse(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||e$(t)}function kse(t,e,n,r){const i=xA(e,n);let o;Array.isArray(n)?o=[...n]:o=[null,n];const s=r.from!==void 0?r.from:t.get();let l;const c=[];for(let f=0;f<o.length;f++)o[f]===null&&(o[f]=f===0?s:o[f-1]),Pse(o[f])&&c.push(f),typeof o[f]=="string"&&o[f]!=="none"&&o[f]!=="0"&&(l=o[f]);if(i&&c.length&&l)for(let f=0;f<c.length;f++){const h=c[f];o[h]=Zz(e,l)}return o}function Mse({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:l,from:c,elapsed:f,...h}){return!!Object.keys(h).length}function NN(t,e){return t[e]||t.default||t}const RN=(t,e,n,r={})=>i=>{const o=NN(r,t)||{},s=o.delay||r.delay||0;let{elapsed:l=0}=r;l=l-yu(s);const c=kse(e,t,n,o),f=c[0],h=c[c.length-1],p=xA(t,f),g=xA(t,h);let _={keyframes:c,velocity:e.getVelocity(),ease:"easeOut",...o,delay:-l,onUpdate:S=>{e.set(S),o.onUpdate&&o.onUpdate(S)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Mse(o)||(_={..._,...Ase(t,_)}),_.duration&&(_.duration=yu(_.duration)),_.repeatDelay&&(_.repeatDelay=yu(_.repeatDelay)),!p||!g||woe.current||o.type===!1||cz.skipAnimations)return _se(_);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const S=xse(e,t,_);if(S)return S}return xp(_)};function Lv(t){return!!(pr(t)&&t.add)}const t$=t=>/^\-?\d*\.?\d+$/.test(t);function PN(t,e){t.indexOf(e)===-1&&t.push(e)}function kN(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class MN{constructor(){this.subscriptions=[]}add(e){return PN(this.subscriptions,e),()=>kN(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const LD=30,Ose=t=>!isNaN(parseFloat(t)),Xh={current:void 0};class Dse{constructor(e,n={}){this.version="11.0.8",this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{const o=vu.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.canTrackVelocity=Ose(this.current),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=vu.now()}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new MN);const r=this.events[e].add(n);return e==="change"?()=>{r(),Wt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Xh.current&&Xh.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=vu.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>LD)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,LD);return Xz(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ku(t,e){return new Dse(t,e)}const n$=t=>e=>e.test(t),Lse={test:t=>t==="auto",parse:t=>t},r$=[Wf,$e,zo,Ca,Fie,Bie,Lse],dh=t=>r$.find(n$(t)),Use=[...r$,ir,nl],Vse=t=>Use.find(n$(t));function jse(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ku(n))}function ON(t,e){const n=gb(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const l=toe(o[s]);jse(t,s,l)}}function wA(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&ON(t,i),t.variantChildren&&t.variantChildren.forEach(o=>{wA(o,e)})})}function Bse(t,e){if(Array.isArray(e))return wA(t,e);if(typeof e=="string")return wA(t,[e]);ON(t,e)}function Fse(t,e,n){var r,i;const o=Object.keys(e).filter(l=>!t.hasValue(l)),s=o.length;if(s)for(let l=0;l<s;l++){const c=o[l],f=e[c];let h=null;Array.isArray(f)&&(h=f[0]),h===null&&(h=(i=(r=n[c])!==null&&r!==void 0?r:t.readValue(c))!==null&&i!==void 0?i:e[c]),h!=null&&(typeof h=="string"&&(t$(h)||e$(h))?h=parseFloat(h):!Vse(h)&&nl.test(f)&&(h=Zz(c,f)),t.addValue(c,ku(h,{owner:t})),n[c]===void 0&&(n[c]=h),h!==null&&t.setBaseTarget(c,h))}}function qse(t,e){return e?(e[t]||e.default||e).from:void 0}function zse(t,e,n){const r={};for(const i in t){const o=qse(i,e);if(o!==void 0)r[i]=o;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function $se({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Gse(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function i$(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:o=t.getDefaultTransition(),transitionEnd:s,...l}=t.makeTargetAnimatable(e);const c=t.getValue("willChange");r&&(o=r);const f=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const g=t.getValue(p),_=l[p];if(!g||_===void 0||h&&$se(h,p))continue;const S={delay:n,elapsed:0,...NN(o||{},p)};if(window.HandoffAppearAnimations){const M=t.getProps()[uz];if(M){const I=window.HandoffAppearAnimations(M,p,g,Wt);I!==null&&(S.elapsed=I,S.isHandoff=!0)}}let A=!S.isHandoff&&!Gse(g,_);if(S.type==="spring"&&(g.getVelocity()||S.velocity)&&(A=!1),g.animation&&(A=!1),A)continue;g.start(RN(p,g,_,t.shouldReduceMotion&&qu.has(p)?{type:!1}:S));const E=g.animation;Lv(c)&&(c.add(p),E.then(()=>c.remove(p))),f.push(E)}return s&&Promise.all(f).then(()=>{s&&ON(t,s)}),f}function TA(t,e,n={}){const r=gb(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const o=r?()=>Promise.all(i$(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:p}=i;return Hse(t,e,f+c,h,p,n)}:()=>Promise.resolve(),{when:l}=i;if(l){const[c,f]=l==="beforeChildren"?[o,s]:[s,o];return c().then(()=>f())}else return Promise.all([o(),s(n.delay)])}function Hse(t,e,n=0,r=0,i=1,o){const s=[],l=(t.variantChildren.size-1)*r,c=i===1?(f=0)=>f*r:(f=0)=>l-f*r;return Array.from(t.variantChildren).sort(Kse).forEach((f,h)=>{f.notify("AnimationStart",e),s.push(TA(f,e,{...o,delay:n+c(h)}).then(()=>f.notify("AnimationComplete",e)))}),Promise.all(s)}function Kse(t,e){return t.sortNodePosition(e)}function o$(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(o=>TA(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=TA(t,e,n);else{const i=typeof e=="function"?gb(t,e,n.custom):e;r=Promise.all(i$(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Wse=[...dN].reverse(),Yse=dN.length;function Xse(t){return e=>Promise.all(e.map(({animation:n,options:r})=>o$(t,n,r)))}function Jse(t){let e=Xse(t);const n=Zse();let r=!0;const i=(c,f)=>{const h=gb(t,f);if(h){const{transition:p,transitionEnd:g,..._}=h;c={...c,..._,...g}}return c};function o(c){e=c(t)}function s(c,f){const h=t.getProps(),p=t.getVariantContext(!0)||{},g=[],_=new Set;let S={},A=1/0;for(let M=0;M<Yse;M++){const I=Wse[M],N=n[I],C=h[I]!==void 0?h[I]:p[I],R=yp(C),U=I===f?N.isActive:null;U===!1&&(A=M);let k=C===p[I]&&C!==h[I]&&R;if(k&&r&&t.manuallyAnimateOnMount&&(k=!1),N.protectedKeys={...S},!N.isActive&&U===null||!C&&!N.prevProp||hb(C)||typeof C=="boolean")continue;let V=Qse(N.prevProp,C)||I===f&&N.isActive&&!k&&R||M>A&&R,F=!1;const q=Array.isArray(C)?C:[C];let z=q.reduce(i,{});U===!1&&(z={});const{prevResolvedValues:B={}}=N,Q={...B,...z},oe=K=>{V=!0,_.has(K)&&(F=!0,_.delete(K)),N.needsAnimating[K]=!0};for(const K in Q){const X=z[K],te=B[K];if(S.hasOwnProperty(K))continue;let ce=!1;Mv(X)&&Mv(te)?ce=!Pz(X,te):ce=X!==te,ce?X!==void 0?oe(K):_.add(K):X!==void 0&&_.has(K)?oe(K):N.protectedKeys[K]=!0}N.prevProp=C,N.prevResolvedValues=z,N.isActive&&(S={...S,...z}),r&&t.blockInitialAnimation&&(V=!1),V&&(!k||F)&&g.push(...q.map(K=>({animation:K,options:{type:I,...c}})))}if(_.size){const M={};_.forEach(I=>{const N=t.getBaseTarget(I);N!==void 0&&(M[I]=N)}),g.push({animation:M})}let E=!!g.length;return r&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(E=!1),r=!1,E?e(g):Promise.resolve()}function l(c,f,h){var p;if(n[c].isActive===f)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(_=>{var S;return(S=_.animationState)===null||S===void 0?void 0:S.setActive(c,f)}),n[c].isActive=f;const g=s(h,c);for(const _ in n)n[_].protectedKeys={};return g}return{animateChanges:s,setActive:l,setAnimateFunction:o,getState:()=>n}}function Qse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Pz(e,t):!1}function Yl(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zse(){return{animate:Yl(!0),whileInView:Yl(),whileHover:Yl(),whileTap:Yl(),whileDrag:Yl(),whileFocus:Yl(),exit:Yl()}}class eae extends cl{constructor(e){super(e),e.animationState||(e.animationState=Jse(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),hb(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let tae=0;class nae extends cl{constructor(){super(...arguments),this.id=tae++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&o.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const rae={animation:{Feature:eae},exit:{Feature:nae}},UD=(t,e)=>Math.abs(t-e);function iae(t,e){const n=UD(t.x,e.x),r=UD(t.y,e.y);return Math.sqrt(n**2+r**2)}class s${constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Nw(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,_=iae(p.offset,{x:0,y:0})>=3;if(!g&&!_)return;const{point:S}=p,{timestamp:A}=jn;this.history.push({...S,timestamp:A});const{onStart:E,onMove:M}=this.handlers;g||(E&&E(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),M&&M(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=Iw(g,this.transformPagePoint),Wt.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:_,onSessionEnd:S,resumeAnimation:A}=this.handlers;if(this.dragSnapToOrigin&&A&&A(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=Nw(p.type==="pointercancel"?this.lastMoveEventInfo:Iw(g,this.transformPagePoint),this.history);this.startEvent&&_&&_(p,E),S&&S(p,E)},!Az(e))return;this.dragSnapToOrigin=o,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=mb(e),l=Iw(s,this.transformPagePoint),{point:c}=l,{timestamp:f}=jn;this.history=[{...c,timestamp:f}];const{onSessionStart:h}=n;h&&h(e,Nw(l,this.history)),this.removeListeners=Ns(Is(this.contextWindow,"pointermove",this.handlePointerMove),Is(this.contextWindow,"pointerup",this.handlePointerUp),Is(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ko(this.updatePoint)}}function Iw(t,e){return e?{point:e(t.point)}:t}function VD(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Nw({point:t},e){return{point:t,delta:VD(t,a$(e)),offset:VD(t,oae(e)),velocity:sae(e,.1)}}function oae(t){return t[0]}function a$(t){return t[t.length-1]}function sae(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=a$(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>yu(e)));)n--;if(!r)return{x:0,y:0};const o=Rs(i.timestamp-r.timestamp);if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ti(t){return t.max-t.min}function EA(t,e=0,n=.01){return Math.abs(t-e)<=n}function jD(t,e,n,r=.5){t.origin=r,t.originPoint=en(e.min,e.max,t.origin),t.scale=ti(n)/ti(e),(EA(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=en(n.min,n.max,t.origin)-t.originPoint,(EA(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Jh(t,e,n,r){jD(t.x,e.x,n.x,r?r.originX:void 0),jD(t.y,e.y,n.y,r?r.originY:void 0)}function BD(t,e,n){t.min=n.min+e.min,t.max=t.min+ti(e)}function aae(t,e,n){BD(t.x,e.x,n.x),BD(t.y,e.y,n.y)}function FD(t,e,n){t.min=e.min-n.min,t.max=t.min+ti(e)}function Qh(t,e,n){FD(t.x,e.x,n.x),FD(t.y,e.y,n.y)}function lae(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?en(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?en(n,t,r.max):Math.min(t,n)),t}function qD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function uae(t,{top:e,left:n,bottom:r,right:i}){return{x:qD(t.x,n,i),y:qD(t.y,e,r)}}function zD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cae(t,e){return{x:zD(t.x,e.x),y:zD(t.y,e.y)}}function fae(t,e){let n=.5;const r=ti(t),i=ti(e);return i>r?n=bp(e.min,e.max-r,t.min):r>i&&(n=bp(t.min,t.max-i,e.min)),tl(0,1,n)}function dae(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const SA=.35;function hae(t=SA){return t===!1?t=0:t===!0&&(t=SA),{x:$D(t,"left","right"),y:$D(t,"top","bottom")}}function $D(t,e,n){return{min:GD(t,e),max:GD(t,n)}}function GD(t,e){return typeof t=="number"?t:t[e]||0}const HD=()=>({translate:0,scale:1,origin:0,originPoint:0}),Jc=()=>({x:HD(),y:HD()}),KD=()=>({min:0,max:0}),hn=()=>({x:KD(),y:KD()});function xi(t){return[t("x"),t("y")]}function l$({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function pae({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mae(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rw(t){return t===void 0||t===1}function AA({scale:t,scaleX:e,scaleY:n}){return!Rw(t)||!Rw(e)||!Rw(n)}function eu(t){return AA(t)||u$(t)||t.z||t.rotate||t.rotateX||t.rotateY}function u$(t){return WD(t.x)||WD(t.y)}function WD(t){return t&&t!=="0%"}function Uv(t,e,n){const r=t-n,i=e*r;return n+i}function YD(t,e,n,r,i){return i!==void 0&&(t=Uv(t,i,r)),Uv(t,n,r)+e}function CA(t,e=0,n=1,r,i){t.min=YD(t.min,e,n,r,i),t.max=YD(t.max,e,n,r,i)}function c$(t,{x:e,y:n}){CA(t.x,e.translate,e.scale,e.originPoint),CA(t.y,n.translate,n.scale,n.originPoint)}function gae(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let o,s;for(let l=0;l<i;l++){o=n[l],s=o.projectionDelta;const c=o.instance;c&&c.style&&c.style.display==="contents"||(r&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Qc(t,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,c$(t,s)),r&&eu(o.latestValues)&&Qc(t,o.latestValues))}e.x=XD(e.x),e.y=XD(e.y)}function XD(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Na(t,e){t.min=t.min+e,t.max=t.max+e}function JD(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=en(t.min,t.max,o);CA(t,e[n],e[r],s,e.scale)}const yae=["x","scaleX","originX"],vae=["y","scaleY","originY"];function Qc(t,e){JD(t.x,e,yae),JD(t.y,e,vae)}function f$(t,e){return l$(mae(t.getBoundingClientRect(),e))}function bae(t,e,n){const r=f$(t,n),{scroll:i}=e;return i&&(Na(r.x,i.offset.x),Na(r.y,i.offset.y)),r}const d$=({current:t})=>t?t.ownerDocument.defaultView:null,xae=new WeakMap;class _ae{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=hn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(mb(h,"page").point)},o=(h,p)=>{const{drag:g,dragPropagation:_,onDragStart:S}=this.getProps();if(g&&!_&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=Iz(g),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),xi(E=>{let M=this.getAxisMotionValue(E).get()||0;if(zo.test(M)){const{projection:I}=this.visualElement;if(I&&I.layout){const N=I.layout.layoutBox[E];N&&(M=ti(N)*(parseFloat(M)/100))}}this.originPoint[E]=M}),S&&Wt.update(()=>S(h,p),!1,!0);const{animationState:A}=this.visualElement;A&&A.setActive("whileDrag",!0)},s=(h,p)=>{const{dragPropagation:g,dragDirectionLock:_,onDirectionLock:S,onDrag:A}=this.getProps();if(!g&&!this.openGlobalLock)return;const{offset:E}=p;if(_&&this.currentDirection===null){this.currentDirection=wae(E),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",p.point,E),this.updateAxis("y",p.point,E),this.visualElement.render(),A&&A(h,p)},l=(h,p)=>this.stop(h,p),c=()=>xi(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new s$(e,{onSessionStart:i,onStart:o,onMove:s,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,contextWindow:d$(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Wt.update(()=>o(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ey(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=lae(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,o=this.constraints;n&&Yc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=uae(i.layoutBox,n):this.constraints=!1,this.elastic=hae(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&xi(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=dae(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Yc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=bae(r,i.root,this.visualElement.getTransformPagePoint());let s=cae(i.layout.layoutBox,o);if(n){const l=n(pae(s));this.hasMutatedConstraints=!!l,l&&(s=l$(l))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},f=xi(h=>{if(!Ey(h,n,this.currentDirection))return;let p=c&&c[h]||{};s&&(p={min:0,max:0});const g=i?200:1e6,_=i?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:g,bounceDamping:_,timeConstant:750,restDelta:1,restSpeed:10,...o,...p};return this.startAxisValueAnimation(h,S)});return Promise.all(f).then(l)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(RN(e,r,0,n))}stopAnimation(){xi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){xi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){xi(n=>{const{drag:r}=this.getProps();if(!Ey(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:l}=i.layout.layoutBox[n];o.set(e[n]-en(s,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Yc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};xi(s=>{const l=this.getAxisMotionValue(s);if(l){const c=l.get();i[s]=fae({min:c,max:c},this.constraints[s])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),xi(s=>{if(!Ey(s,e,null))return;const l=this.getAxisMotionValue(s),{min:c,max:f}=this.constraints[s];l.set(en(c,f,i[s]))})}addListeners(){if(!this.visualElement.current)return;xae.set(this.visualElement,this);const e=this.visualElement.current,n=Is(e,"pointerdown",c=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Yc(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Ts(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:f})=>{this.isDragging&&f&&(xi(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=c[h].translate,p.set(p.get()+c[h].translate))}),this.visualElement.render())}));return()=>{s(),n(),o(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=SA,dragMomentum:l=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:l}}}function Ey(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wae(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class Tae extends cl{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new _ae(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const QD=t=>(e,n)=>{t&&Wt.update(()=>t(e,n))};class Eae extends cl{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new s$(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:d$(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:QD(e),onStart:QD(n),onMove:r,onEnd:(o,s)=>{delete this.session,i&&Wt.update(()=>i(o,s))}}}mount(){this.removePointerDownListener=Is(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Sae(){const t=W.useContext(fb);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=W.useId();return W.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const ov={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ZD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=ZD(t,e.target.x),r=ZD(t,e.target.y);return`${n}% ${r}%`}},Aae={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=nl.parse(t);if(i.length>5)return r;const o=nl.createTransformer(t),s=typeof i[0]!="number"?1:0,l=n.x.scale*e.x,c=n.y.scale*e.y;i[0+s]/=l,i[1+s]/=c;const f=en(l,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=f),typeof i[3+s]=="number"&&(i[3+s]/=f),o(i)}};class Cae extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Pie(Iae),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ov.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Wt.postRender(()=>{const l=s.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),fN.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function h$(t){const[e,n]=Sae(),r=W.useContext(pN);return re.createElement(Cae,{...t,layoutGroup:r,switchLayoutGroup:W.useContext(hz),isPresent:e,safeToRemove:n})}const Iae={borderRadius:{...hh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hh,borderTopRightRadius:hh,borderBottomLeftRadius:hh,borderBottomRightRadius:hh,boxShadow:Aae},p$=["TopLeft","TopRight","BottomLeft","BottomRight"],Nae=p$.length,eL=t=>typeof t=="string"?parseFloat(t):t,tL=t=>typeof t=="number"||$e.test(t);function Rae(t,e,n,r,i,o){i?(t.opacity=en(0,n.opacity!==void 0?n.opacity:1,Pae(r)),t.opacityExit=en(e.opacity!==void 0?e.opacity:1,0,kae(r))):o&&(t.opacity=en(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<Nae;s++){const l=`border${p$[s]}Radius`;let c=nL(e,l),f=nL(n,l);if(c===void 0&&f===void 0)continue;c||(c=0),f||(f=0),c===0||f===0||tL(c)===tL(f)?(t[l]=Math.max(en(eL(c),eL(f),r),0),(zo.test(f)||zo.test(c))&&(t[l]+="%")):t[l]=f}(e.rotate||n.rotate)&&(t.rotate=en(e.rotate||0,n.rotate||0,r))}function nL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Pae=m$(0,.5,Bz),kae=m$(.5,.95,An);function m$(t,e,n){return r=>r<t?0:r>e?1:n(bp(t,e,r))}function rL(t,e){t.min=e.min,t.max=e.max}function gi(t,e){rL(t.x,e.x),rL(t.y,e.y)}function iL(t,e,n,r,i){return t-=e,t=Uv(t,1/n,r),i!==void 0&&(t=Uv(t,1/i,r)),t}function Mae(t,e=0,n=1,r=.5,i,o=t,s=t){if(zo.test(e)&&(e=parseFloat(e),e=en(s.min,s.max,e/100)-s.min),typeof e!="number")return;let l=en(o.min,o.max,r);t===o&&(l-=e),t.min=iL(t.min,e,n,l,i),t.max=iL(t.max,e,n,l,i)}function oL(t,e,[n,r,i],o,s){Mae(t,e[n],e[r],e[i],e.scale,o,s)}const Oae=["x","scaleX","originX"],Dae=["y","scaleY","originY"];function sL(t,e,n,r){oL(t.x,e,Oae,n?n.x:void 0,r?r.x:void 0),oL(t.y,e,Dae,n?n.y:void 0,r?r.y:void 0)}function aL(t){return t.translate===0&&t.scale===1}function g$(t){return aL(t.x)&&aL(t.y)}function Lae(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function y$(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function lL(t){return ti(t.x)/ti(t.y)}class Uae{constructor(){this.members=[]}add(e){PN(this.members,e),e.scheduleRender()}remove(e){if(kN(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uL(t,e,n){let r="";const i=t.x.translate/e.x,o=t.y.translate/e.y;if((i||o)&&(r=`translate3d(${i}px, ${o}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:c,rotateX:f,rotateY:h}=n;c&&(r+=`rotate(${c}deg) `),f&&(r+=`rotateX(${f}deg) `),h&&(r+=`rotateY(${h}deg) `)}const s=t.x.scale*e.x,l=t.y.scale*e.y;return(s!==1||l!==1)&&(r+=`scale(${s}, ${l})`),r||"none"}const Vae=(t,e)=>t.depth-e.depth;class jae{constructor(){this.children=[],this.isDirty=!1}add(e){PN(this.children,e),this.isDirty=!0}remove(e){kN(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Vae),this.isDirty=!1,this.children.forEach(e)}}function Bae(t,e){const n=vu.now(),r=({timestamp:i})=>{const o=i-n;o>=e&&(Ko(r),t(o-e))};return Wt.read(r,!0),()=>Ko(r)}function Fae(t){window.MotionDebug&&window.MotionDebug.record(t)}function qae(t){return t instanceof SVGElement&&t.tagName!=="svg"}function zae(t,e,n){const r=pr(t)?t:ku(t);return r.start(RN("",r,e,n)),r.animation}const cL=["","X","Y","Z"],$ae={visibility:"hidden"},fL=1e3;let Gae=0;const tu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function v$({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},l=e==null?void 0:e()){this.id=Gae++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,tu.totalNodes=tu.resolvedTargetDeltas=tu.recalculatedProjection=0,this.nodes.forEach(Wae),this.nodes.forEach(Zae),this.nodes.forEach(ele),this.nodes.forEach(Yae),Fae(tu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new jae)}addEventListener(s,l){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new MN),this.eventHandlers.get(s).add(l)}notifyListeners(s,...l){const c=this.eventHandlers.get(s);c&&c.notify(...l)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qae(s),this.instance=s;const{layoutId:c,layout:f,visualElement:h}=this.options;if(h&&!h.current&&h.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(f||c)&&(this.isLayoutDirty=!0),t){let p;const g=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Bae(g,250),ov.hasAnimatedSinceResize&&(ov.hasAnimatedSinceResize=!1,this.nodes.forEach(hL))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||f)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:_,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||h.getDefaultTransition()||ole,{onLayoutAnimationStart:E,onLayoutAnimationComplete:M}=h.getProps(),I=!this.targetLayout||!y$(this.targetLayout,S)||_,N=!g&&_;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||g&&(I||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,N);const C={...NN(A,"layout"),onPlay:E,onComplete:M};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else g||hL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ko(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(tle),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dL);return}this.isUpdating||this.nodes.forEach(Jae),this.isUpdating=!1,window.HandoffCancelAllAnimations&&window.HandoffCancelAllAnimations(),this.nodes.forEach(Qae),this.nodes.forEach(Hae),this.nodes.forEach(Kae),this.clearAllSnapshots();const l=vu.now();jn.delta=tl(0,1e3/60,l-jn.timestamp),jn.timestamp=l,jn.isProcessing=!0,_w.update.process(jn),_w.preRender.process(jn),_w.render.process(jn),jn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,fN.read(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Xae),this.sharedNodes.forEach(nle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Wt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Wt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let l=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(l=!1),l&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!g$(this.projectionDelta),c=this.getTransformTemplate(),f=c?c(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;s&&(l||eu(this.latestValues)||h)&&(i(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return s&&(c=this.removeTransform(c)),sle(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return hn();const l=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Na(l.x,c.offset.x),Na(l.y,c.offset.y)),l}removeElementScroll(s){const l=hn();gi(l,s);for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:h,options:p}=f;if(f!==this.root&&h&&p.layoutScroll){if(h.isRoot){gi(l,s);const{scroll:g}=this.root;g&&(Na(l.x,-g.offset.x),Na(l.y,-g.offset.y))}Na(l.x,h.offset.x),Na(l.y,h.offset.y)}}return l}applyTransform(s,l=!1){const c=hn();gi(c,s);for(let f=0;f<this.path.length;f++){const h=this.path[f];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Qc(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),eu(h.latestValues)&&Qc(c,h.latestValues)}return eu(this.latestValues)&&Qc(c,this.latestValues),c}removeTransform(s){const l=hn();gi(l,s);for(let c=0;c<this.path.length;c++){const f=this.path[c];if(!f.instance||!eu(f.latestValues))continue;AA(f.latestValues)&&f.updateSnapshot();const h=hn(),p=f.measurePageBox();gi(h,p),sL(l,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return eu(this.latestValues)&&sL(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==jn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(s||f&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=jn.timestamp,!this.targetDelta&&!this.relativeTarget){const _=this.getClosestProjectingParent();_&&_.layout&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Qh(this.relativeTargetOrigin,this.layout.layoutBox,_.layout.layoutBox),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=hn(),this.targetWithTransforms=hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),aae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gi(this.target,this.layout.layoutBox),c$(this.target,this.targetDelta)):gi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const _=this.getClosestProjectingParent();_&&!!_.resumingFrom==!!this.resumingFrom&&!_.options.layoutScroll&&_.target&&this.animationProgress!==1?(this.relativeParent=_,this.forceRelativeParentToResolveTarget(),this.relativeTarget=hn(),this.relativeTargetOrigin=hn(),Qh(this.relativeTargetOrigin,this.target,_.target),gi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}tu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||AA(this.parent.latestValues)||u$(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let f=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===jn.timestamp&&(f=!1),f)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;gi(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,_=this.treeScale.y;gae(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=hn());const{target:S}=l;if(!S){this.projectionTransform&&(this.projectionDelta=Jc(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Jc(),this.projectionDeltaWithTransform=Jc());const A=this.projectionTransform;Jh(this.projectionDelta,this.layoutCorrected,S,this.latestValues),this.projectionTransform=uL(this.projectionDelta,this.treeScale),(this.projectionTransform!==A||this.treeScale.x!==g||this.treeScale.y!==_)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),tu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,l=!1){const c=this.snapshot,f=c?c.latestValues:{},h={...this.latestValues},p=Jc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=hn(),_=c?c.source:void 0,S=this.layout?this.layout.source:void 0,A=_!==S,E=this.getStack(),M=!E||E.members.length<=1,I=!!(A&&!M&&this.options.crossfade===!0&&!this.path.some(ile));this.animationProgress=0;let N;this.mixTargetDelta=C=>{const R=C/1e3;pL(p.x,s.x,R),pL(p.y,s.y,R),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Qh(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rle(this.relativeTarget,this.relativeTargetOrigin,g,R),N&&Lae(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=hn()),gi(N,this.relativeTarget)),A&&(this.animationValues=h,Rae(h,f,this.latestValues,R,I,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ko(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Wt.update(()=>{ov.hasAnimatedSinceResize=!0,this.currentAnimation=zae(0,fL,{...s,onUpdate:l=>{this.mixTargetDelta(l),s.onUpdate&&s.onUpdate(l)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(fL),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:l,target:c,layout:f,latestValues:h}=s;if(!(!l||!c||!f)){if(this!==s&&this.layout&&f&&b$(this.options.animationType,this.layout.layoutBox,f.layoutBox)){c=this.target||hn();const p=ti(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+p;const g=ti(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+g}gi(l,c),Qc(l,h),Jh(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(s,l){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Uae),this.sharedNodes.get(s).add(l);const f=l.options.initialPromotionConfig;l.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(l):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:l}=this.options;return l?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:l}=this.options;return l?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:l,preserveFollowOpacity:c}={}){const f=this.getStack();f&&f.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let l=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(l=!0),!l)return;const f={};for(let h=0;h<cL.length;h++){const p="rotate"+cL[h];c[p]&&(f[p]=c[p],s.setStaticValue(p,0))}s.render();for(const h in f)s.setStaticValue(h,f[h]);s.scheduleRender()}getProjectionStyles(s){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return $ae;const f={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=rv(s==null?void 0:s.pointerEvents)||"",f.transform=h?h(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const A={};return this.options.layoutId&&(A.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,A.pointerEvents=rv(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!eu(this.latestValues)&&(A.transform=h?h({},""):"none",this.hasProjected=!1),A}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=uL(this.projectionDeltaWithTransform,this.treeScale,g),h&&(f.transform=h(g,f.transform));const{x:_,y:S}=this.projectionDelta;f.transformOrigin=`${_.origin*100}% ${S.origin*100}% 0`,p.animationValues?f.opacity=p===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:f.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const A in Rv){if(g[A]===void 0)continue;const{correct:E,applyTo:M}=Rv[A],I=f.transform==="none"?g[A]:E(g[A],p);if(M){const N=M.length;for(let C=0;C<N;C++)f[M[C]]=I}else f[A]=I}return this.options.layoutId&&(f.pointerEvents=p===this?rv(s==null?void 0:s.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var l;return(l=s.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(dL),this.root.sharedNodes.clear()}}}function Hae(t){t.updateLayout()}function Kae(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:o}=t.options,s=n.source!==t.layout.source;o==="size"?xi(p=>{const g=s?n.measuredBox[p]:n.layoutBox[p],_=ti(g);g.min=r[p].min,g.max=g.min+_}):b$(o,n.layoutBox,r)&&xi(p=>{const g=s?n.measuredBox[p]:n.layoutBox[p],_=ti(r[p]);g.max=g.min+_,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+_)});const l=Jc();Jh(l,r,n.layoutBox);const c=Jc();s?Jh(c,t.applyTransform(i,!0),n.measuredBox):Jh(c,r,n.layoutBox);const f=!g$(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:_}=p;if(g&&_){const S=hn();Qh(S,n.layoutBox,g.layoutBox);const A=hn();Qh(A,r,_.layoutBox),y$(S,A)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=A,t.relativeTargetOrigin=S,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:l,hasLayoutChanged:f,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Wae(t){tu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Yae(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Xae(t){t.clearSnapshot()}function dL(t){t.clearMeasurements()}function Jae(t){t.isLayoutDirty=!1}function Qae(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Zae(t){t.resolveTargetDelta()}function ele(t){t.calcProjection()}function tle(t){t.resetRotation()}function nle(t){t.removeLeadSnapshot()}function pL(t,e,n){t.translate=en(e.translate,0,n),t.scale=en(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function mL(t,e,n,r){t.min=en(e.min,n.min,r),t.max=en(e.max,n.max,r)}function rle(t,e,n,r){mL(t.x,e.x,n.x,r),mL(t.y,e.y,n.y,r)}function ile(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ole={duration:.45,ease:[.4,0,.1,1]},gL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),yL=gL("applewebkit/")&&!gL("chrome/")?Math.round:An;function vL(t){t.min=yL(t.min),t.max=yL(t.max)}function sle(t){vL(t.x),vL(t.y)}function b$(t,e,n){return t==="position"||t==="preserve-aspect"&&!EA(lL(e),lL(n),.2)}const ale=v$({attachResizeListener:(t,e)=>Ts(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Pw={current:void 0},x$=v$({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Pw.current){const t=new ale({});t.mount(window),t.setOptions({layoutScroll:!0}),Pw.current=t}return Pw.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lle={pan:{Feature:Eae},drag:{Feature:Tae,ProjectionNode:x$,MeasureLayout:h$}},ule=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function cle(t){const e=ule.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function IA(t,e,n=1){const[r,i]=cle(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);if(o){const s=o.trim();return t$(s)?parseFloat(s):s}else return Pv(i)?IA(i,e,n+1):i}function fle(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const o=i.get();if(!Pv(o))return;const s=IA(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!Pv(o))continue;const s=IA(o,r);s&&(e[i]=s,n||(n={}),n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const dle=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),_$=t=>dle.has(t),hle=t=>Object.keys(t).some(_$),bL=t=>t===Wf||t===$e,xL=(t,e)=>parseFloat(t.split(", ")[e]),_L=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return xL(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?xL(o[1],t):0}},ple=new Set(["x","y","z"]),mle=Tm.filter(t=>!ple.has(t));function gle(t){const e=[];return mle.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const _f={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_L(4,13),y:_L(5,14)};_f.translateX=_f.x;_f.translateY=_f.y;const yle=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,o=getComputedStyle(i),{display:s}=o,l={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(f=>{l[f]=_f[f](r,o)}),e.render();const c=e.measureViewportBox();return n.forEach(f=>{const h=e.getValue(f);h&&h.jump(l[f]),t[f]=_f[f](c,o)}),t},vle=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(_$);let o=[],s=!1;const l=[];if(i.forEach(c=>{const f=t.getValue(c);if(!t.hasValue(c))return;let h=n[c],p=dh(h);const g=e[c];let _;if(Mv(g)){const S=g.length,A=g[0]===null?1:0;h=g[A],p=dh(h);for(let E=A;E<S&&g[E]!==null;E++)_?TN(dh(g[E])===_):_=dh(g[E])}else _=dh(g);if(p!==_)if(bL(p)&&bL(_)){const S=f.get();typeof S=="string"&&f.set(parseFloat(S)),typeof g=="string"?e[c]=parseFloat(g):Array.isArray(g)&&_===$e&&(e[c]=g.map(parseFloat))}else p!=null&&p.transform&&(_!=null&&_.transform)&&(h===0||g===0)?h===0?f.set(_.transform(h)):e[c]=p.transform(g):(s||(o=gle(t),s=!0),l.push(c),r[c]=r[c]!==void 0?r[c]:e[c],f.jump(g))}),l.length){const c=l.indexOf("height")>=0?window.pageYOffset:null,f=yle(e,t,l);return o.length&&o.forEach(([h,p])=>{t.getValue(h).set(p)}),t.render(),db&&c!==null&&window.scrollTo({top:c}),{target:f,transitionEnd:r}}else return{target:e,transitionEnd:r}};function ble(t,e,n,r){return hle(e)?vle(t,e,n,r):{target:e,transitionEnd:r}}const xle=(t,e,n,r)=>{const i=fle(t,e,r);return e=i.target,r=i.transitionEnd,ble(t,e,n,r)},NA={current:null},w$={current:!1};function _le(){if(w$.current=!0,!!db)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>NA.current=t.matches;t.addListener(e),e()}else NA.current=!1}function wle(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(pr(o))t.addValue(i,o),Lv(r)&&r.add(i);else if(pr(s))t.addValue(i,ku(o,{owner:t})),Lv(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const l=t.getValue(i);!l.hasAnimated&&l.set(o)}else{const l=t.getStaticValue(i);t.addValue(i,ku(l!==void 0?l:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const wL=new WeakMap,T$=Object.keys(vp),Tle=T$.length,TL=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Ele=hN.length;class Sle{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:o},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Wt.render(this.render,!1,!0);const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=pb(n),this.isVariantNode=dz(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(n,{});for(const p in h){const g=h[p];l[p]!==void 0&&pr(g)&&(g.set(l[p],!1),Lv(f)&&f.add(p))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,wL.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),w$.current||_le(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wL.delete(this.current),this.projection&&this.projection.unmount(),Ko(this.notifyUpdate),Ko(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=qu.has(e),i=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&Wt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),o=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),o()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,o){let s,l;for(let c=0;c<Tle;c++){const f=T$[c],{isEnabled:h,Feature:p,ProjectionNode:g,MeasureLayout:_}=vp[f];g&&(s=g),h(n)&&(!this.features[f]&&p&&(this.features[f]=new p(this)),_&&(l=_))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:f,drag:h,dragConstraints:p,layoutScroll:g,layoutRoot:_}=n;this.projection.setOptions({layoutId:c,layout:f,alwaysMeasureLayout:!!h||p&&Yc(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof f=="string"?f:"both",initialPromotionConfig:o,layoutScroll:g,layoutRoot:_})}return l}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<TL.length;r++){const i=TL[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=e["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=wle(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Ele;r++){const i=hN[r],o=this.props[i];(yp(o)||o===!1)&&(n[i]=o)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ku(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=wN(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,e);return o!==void 0&&!pr(o)?o:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new MN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class E$ extends Sle{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},i){const o=zse(r,e||{},this);if(i){Fse(this,r,o);const s=xle(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:e,transitionEnd:n,...r}}}function Ale(t){return window.getComputedStyle(t)}class Cle extends E${constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(qu.has(n)){const r=IN(n);return r&&r.default||0}else{const r=Ale(e),i=(gz(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return f$(e,n)}build(e,n,r,i){yN(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return _N(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){_z(e,n,r,i)}}class Ile extends E${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(qu.has(n)){const r=IN(n);return r&&r.default||0}return n=wz.has(n)?n:cN(n),e.getAttribute(n)}measureInstanceViewportBox(){return hn()}scrapeMotionValuesFromProps(e,n){return Ez(e,n)}build(e,n,r,i){bN(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){Tz(e,n,r,i)}mount(e){this.isSVGTag=xN(e.tagName),super.mount(e)}}const Nle=(t,e)=>mN(t)?new Ile(e,{enableHardwareAcceleration:!1}):new Cle(e,{enableHardwareAcceleration:!0}),Rle={layout:{ProjectionNode:x$,MeasureLayout:h$}},Ple={...rae,...boe,...lle,...Rle},qe=Nie((t,e)=>soe(t,e,Ple,Nle));function S$(){const t=W.useRef(!1);return Kf(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function kle(){const t=S$(),[e,n]=W.useState(0),r=W.useCallback(()=>{t.current&&n(e+1)},[e]);return[W.useCallback(()=>Wt.postRender(r),[r]),e]}class Mle extends W.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Ole({children:t,isPresent:e}){const n=W.useId(),r=W.useRef(null),i=W.useRef({width:0,height:0,top:0,left:0});return W.useInsertionEffect(()=>{const{width:o,height:s,top:l,left:c}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),W.createElement(Mle,{isPresent:e,childRef:r,sizeRef:i},W.cloneElement(t,{ref:r}))}const kw=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const l=Am(Dle),c=W.useId(),f=W.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),o?void 0:[n]);return W.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),W.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),s==="popLayout"&&(t=W.createElement(Ole,{isPresent:n},t)),W.createElement(fb.Provider,{value:f},t)};function Dle(){return new Map}function Lle(t){return W.useEffect(()=>()=>t(),[])}const nu=t=>t.key||"";function Ule(t,e){t.forEach(n=>{const r=nu(n);e.set(r,n)})}function Vle(t){const e=[];return W.Children.forEach(t,n=>{W.isValidElement(n)&&e.push(n)}),e}const dr=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{const l=W.useContext(pN).forceRender||kle()[0],c=S$(),f=Vle(t);let h=f;const p=W.useRef(new Map).current,g=W.useRef(h),_=W.useRef(new Map).current,S=W.useRef(!0);if(Kf(()=>{S.current=!1,Ule(f,_),g.current=h}),Lle(()=>{S.current=!0,_.clear(),p.clear()}),S.current)return W.createElement(W.Fragment,null,h.map(I=>W.createElement(kw,{key:nu(I),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s},I)));h=[...h];const A=g.current.map(nu),E=f.map(nu),M=A.length;for(let I=0;I<M;I++){const N=A[I];E.indexOf(N)===-1&&!p.has(N)&&p.set(N,void 0)}return s==="wait"&&p.size&&(h=[]),p.forEach((I,N)=>{if(E.indexOf(N)!==-1)return;const C=_.get(N);if(!C)return;const R=A.indexOf(N);let U=I;if(!U){const k=()=>{p.delete(N);const O=Array.from(_.keys()).filter(V=>!E.includes(V));if(O.forEach(V=>_.delete(V)),g.current=f.filter(V=>{const F=nu(V);return F===N||O.includes(F)}),!p.size){if(c.current===!1)return;l(),r&&r()}};U=W.createElement(kw,{key:nu(C),isPresent:!1,onExitComplete:k,custom:e,presenceAffectsLayout:o,mode:s},C),p.set(N,U)}h.splice(R,0,U)}),h=h.map(I=>{const N=I.key;return p.has(N)?I:W.createElement(kw,{key:nu(I),isPresent:!0,presenceAffectsLayout:o,mode:s},I)}),W.createElement(W.Fragment,null,p.size?h:h.map(I=>W.cloneElement(I)))};function wf(t){const e=Am(()=>ku(t)),{isStatic:n}=W.useContext(ub);if(n){const[,r]=W.useState(t);W.useEffect(()=>e.on("change",r),[])}return e}const jle=t=>t&&typeof t=="object"&&t.mix,Ble=t=>jle(t)?t.mix:void 0;function Fle(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],o=t[2+n],s=t[3+n],l=Yz(i,o,{mixer:Ble(o[0]),...s});return e?l(r):l}function A$(t,e){const n=wf(e()),r=()=>n.set(e());return r(),Kf(()=>{const i=()=>Wt.update(r,!1,!0),o=t.map(s=>s.on("change",i));return()=>{o.forEach(s=>s()),Ko(r)}}),n}function qle(t){Xh.current=[],t();const e=A$(Xh.current,t);return Xh.current=void 0,e}function su(t,e,n,r){if(typeof t=="function")return qle(t);const i=typeof e=="function"?e:Fle(e,n,r);return Array.isArray(t)?EL(t,i):EL([t],([o])=>i(o))}function EL(t,e){const n=Am(()=>[]);return A$(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function SL(t,e={}){const{isStatic:n}=W.useContext(ub),r=W.useRef(null),i=wf(pr(t)?t.get():t),o=()=>{r.current&&r.current.stop()};return W.useInsertionEffect(()=>i.attach((s,l)=>{if(n)return l(s);const c=r.current;return c&&c.time===0&&c.sample(jn.delta),o(),r.current=xp({keyframes:[i.get(),s],velocity:i.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...e,onUpdate:l}),i.get()},o),[JSON.stringify(e)]),Kf(()=>{if(pr(t))return t.on("change",s=>i.set(parseFloat(s)))},[i]),i}function zle(t){t.values.forEach(e=>e.stop())}function $le(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(o=>{i.push(o$(o,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{Bse(r,n)})},stop(){t.forEach(n=>{zle(n)})},mount(){return()=>{e.stop()}}};return e}function Gle(){const t=Am($le);return Kf(t.mount,[]),t}const Hle=Gle,Jt=({children:t,variant:e="primary",fullWidth:n=!1,className:r="",style:i,...o})=>{const s="relative font-bold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed tracking-wide transition-all duration-300 overflow-hidden",l={primary:"bg-gradient-to-r from-pink-500 to-orange-400 text-white shadow-lg shadow-pink-500/30 hover:shadow-xl hover:shadow-pink-500/50 rounded-full border border-white/10 group",secondary:"bg-white/80 dark:bg-white/10 backdrop-blur-md border border-gray-200 dark:border-white/20 hover:bg-white dark:hover:bg-white/20 text-gray-900 dark:text-white rounded-full shadow-sm dark:shadow-none",ghost:"bg-transparent text-gray-600 dark:text-white/70 hover:text-gray-900 dark:hover:text-white hover:bg-black/5 dark:hover:bg-white/5 rounded-xl",icon:"bg-white/80 dark:bg-white/10 backdrop-blur-md border border-gray-200 dark:border-white/20 text-gray-700 dark:text-white rounded-full p-3 aspect-square hover:bg-white dark:hover:bg-white/20 hover:scale-105 shadow-sm dark:shadow-none"},c=e==="icon"?"":"px-8 py-4",f=n?"w-full":"";return v.jsxs(qe.button,{whileHover:{scale:1.02},whileTap:{scale:.96},className:`${s} ${l[e]} ${c} ${f} ${r}`,style:{willChange:"transform",...i},...o,children:[t,e==="primary"&&v.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:animate-[shimmer_1.5s_infinite] bg-gradient-to-r from-transparent via-white/20 to-transparent"})]})},_i=({children:t,className:e="",intensity:n="medium",onClick:r,hoverEffect:i=!1})=>{const o=W.useRef(null),s=wf(0),l=wf(0),c=SL(s,{stiffness:300,damping:20}),f=SL(l,{stiffness:300,damping:20}),h=su(f,[-.5,.5],["6deg","-6deg"]),p=su(c,[-.5,.5],["-6deg","6deg"]),g=A=>{if(!o.current)return;const E=o.current.getBoundingClientRect(),M=E.width,I=E.height,N=A.clientX-E.left,C=A.clientY-E.top,R=N/M-.5,U=C/I-.5;s.set(R),l.set(U)},_=()=>{s.set(0),l.set(0)},S={low:"bg-white/40 dark:bg-black/20 backdrop-blur-md border-white/20 dark:border-white/5",medium:"bg-white/60 dark:bg-black/40 backdrop-blur-xl border-white/30 dark:border-white/10",high:"bg-white/80 dark:bg-black/60 backdrop-blur-2xl border-white/40 dark:border-white/15"};return v.jsx(qe.div,{ref:o,onClick:r,onMouseMove:i?g:void 0,onMouseLeave:i?_:void 0,style:i?{rotateX:h,rotateY:p,transformStyle:"preserve-3d"}:{},className:`
        relative overflow-hidden transition-all duration-300 border
        ${S[n]}
        ${r||i?"cursor-pointer":""}
        shadow-sm dark:shadow-black/40
        rounded-[2rem]
        ${e}
      `,whileHover:i?{scale:1.03}:{},transition:{type:"spring",stiffness:400,damping:15},children:v.jsx("div",{style:i?{transform:"translateZ(20px)"}:{},children:t})})},Xl=t=>new Promise(e=>setTimeout(e,t));class Kle{constructor(){this.currentUser=null,this.matches=[],this.notifications=[]}async login(e){if(await Xl(800),e===Fe.ADMIN)return this.currentUser={id:"admin-001",name:"System Admin",email:"admin@ping.com",role:Fe.ADMIN,avatar:"https://ui-avatars.com/api/?name=Admin&background=000&color=fff",bio:"God Mode Activated",location:"Global",tags:["Admin"],status:ar.ACTIVE,verificationStatus:lr.VERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!0},this.currentUser;const n=localStorage.getItem("ping_session_user");return n?(this.currentUser=JSON.parse(n),this.currentUser):(this.currentUser={id:`user-${Date.now()}`,name:"Ping User",email:"user@ping.com",role:e,avatar:az,bio:"New member of the Ping community. Ready to collaborate!",location:"New York, NY",tags:["New Member"],stats:e===Fe.BUSINESS?{budget:"$1,000"}:{followers:"0",engagement:"0%"},verified:!1,status:ar.ACTIVE,verificationStatus:lr.UNVERIFIED,joinedAt:Date.now(),reportCount:0,isPremium:!1,socials:{instagram:"",tiktok:"",twitter:"",linkedin:"",youtube:"",facebook:""},portfolio:[]},this.currentUser)}async getCandidates(e){return await Xl(500),[...e===Fe.BUSINESS?Kh:Hh].sort((r,i)=>(i.aiMatchScore||0)-(r.aiMatchScore||0))}async swipe(e,n,r){return await Xl(600),{isMatch:r==="right"||r==="up"}}async addMatch(e){var i;const n=this.matches.find(o=>o.userProfile.id===e.id);if(n)return n;const r={id:`match-${Date.now()}-${e.id}`,users:[((i=this.currentUser)==null?void 0:i.id)||"me",e.id],lastActive:Date.now(),userProfile:e,lastMessage:""};return this.matches.unshift(r),r}async getMatches(){return[...this.matches]}async getNotifications(){return this.notifications}async getNewLikesCount(){return await Xl(300),14}async getMessages(e){return[]}async sendMessage(e,n){const r=this.matches.find(i=>i.id===e);return r&&(r.lastMessage=n,r.lastActive=Date.now()),{id:Math.random().toString(),senderId:"me",text:n,timestamp:Date.now(),read:!1}}async getContract(e){return null}async upgradeToPremium(){await Xl(500)}async getAdminStats(){return{totalUsers:1240,split:{business:420,influencer:820},revenue:15400,activeMatches:342,pendingVerifications:12}}async getAllUsers(){return[...Hh,...Kh]}async updateUserStatus(e,n){await Xl(300)}async verifyUser(e,n){await Xl(300)}}const kh=new Kle;/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wle={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ae=(t,e)=>{const n=W.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:s,className:l="",children:c,...f},h)=>W.createElement("svg",{ref:h,...Wle,width:i,height:i,stroke:r,strokeWidth:s?Number(o)*24/Number(i):o,className:["lucide",`lucide-${Yle(t)}`,l].join(" "),...f},[...e.map(([p,g])=>W.createElement(p,g)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=Ae("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=Ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=Ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=Ae("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=Ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Ae("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=Ae("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=Ae("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=Ae("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=Ae("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=Ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=Ae("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=Ae("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=Ae("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=Ae("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eue=Ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tue=Ae("CloudLightning",[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=Ae("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _p=Ae("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nue=Ae("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DN=Ae("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=Ae("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=Ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rue=Ae("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LN=Ae("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iue=Ae("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oue=Ae("Fingerprint",[["path",{d:"M2 12C2 6.5 6.5 2 12 2a10 10 0 0 1 8 4",key:"1jc9o5"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12c0-.7.12-1.37.34-2",key:"1mxgy1"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2c0 .47 0 1.17-.02 2",key:"1fgabc"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sue=Ae("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=Ae("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=Ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aue=Ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lue=Ae("ImagePlus",[["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7",key:"31hg93"}],["line",{x1:"16",x2:"22",y1:"5",y2:"5",key:"ez7e4s"}],["line",{x1:"19",x2:"19",y1:"2",y2:"8",key:"1gkr8c"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uue=Ae("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cue=Ae("Infinity",[["path",{d:"M12 12c-2-2.67-4-4-6-4a4 4 0 1 0 0 8c2 0 4-1.33 6-4Zm0 0c2 2.67 4 4 6 4a4 4 0 0 0 0-8c-2 0-4 1.33-6 4Z",key:"1z0uae"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UN=Ae("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fue=Ae("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const due=Ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hue=Ae("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Ae("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=Ae("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=Ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pue=Ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=Ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=Ae("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mue=Ae("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Ae("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gue=Ae("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=Ae("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yue=Ae("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=Ae("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=Ae("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bue=Ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=Ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xue=Ae("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=Ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=Ae("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VN=Ae("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jN=Ae("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=Ae("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=Ae("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tue=Ae("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=Ae("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BN=Ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=Ae("StopCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{width:"6",height:"6",x:"9",y:"9",key:"1wrtvo"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=Ae("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=Ae("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=Ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=Ae("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=Ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=Ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=Ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=Ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nue=Ae("Vibrate",[["path",{d:"m2 8 2 2-2 2 2 2-2 2",key:"sv1b1"}],["path",{d:"m22 8-2 2 2 2-2 2 2 2",key:"101i4y"}],["rect",{width:"8",height:"14",x:"8",y:"5",rx:"1",key:"1oyrl4"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=Ae("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=Ae("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=Ae("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=Ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=Ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kue=Ae("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.300.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Ae("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);var FN={};(function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!e.OffscreenCanvas)return!1;try{var Y=new OffscreenCanvas(1,1),L=Y.getContext("2d");L.fillRect(0,0,1,1);var G=Y.transferToImageBitmap();L.createPattern(G,"no-repeat")}catch{return!1}return!0})();function c(){}function f(Y){var L=n.exports.Promise,G=L!==void 0?L:e.Promise;return typeof G=="function"?new G(Y):(Y(c,c),null)}var h=(function(Y,L){return{transform:function(G){if(Y)return G;if(L.has(G))return L.get(G);var ee=new OffscreenCanvas(G.width,G.height),ae=ee.getContext("2d");return ae.drawImage(G,0,0),L.set(G,ee),ee},clear:function(){L.clear()}}})(l,new Map),p=(function(){var Y=Math.floor(16.666666666666668),L,G,ee={},ae=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(L=function(ge){var we=Math.random();return ee[we]=requestAnimationFrame(function Te(Re){ae===Re||ae+Y-1<Re?(ae=Re,delete ee[we],ge()):ee[we]=requestAnimationFrame(Te)}),we},G=function(ge){ee[ge]&&cancelAnimationFrame(ee[ge])}):(L=function(ge){return setTimeout(ge,Y)},G=function(ge){return clearTimeout(ge)}),{frame:L,cancel:G}})(),g=(function(){var Y,L,G={};function ee(ae){function ge(we,Te){ae.postMessage({options:we||{},callback:Te})}ae.init=function(Te){var Re=Te.transferControlToOffscreen();ae.postMessage({canvas:Re},[Re])},ae.fire=function(Te,Re,pe){if(L)return ge(Te,null),L;var Ce=Math.random().toString(36).slice(2);return L=f(function(Ie){function he(Se){Se.data.callback===Ce&&(delete G[Ce],ae.removeEventListener("message",he),L=null,h.clear(),pe(),Ie())}ae.addEventListener("message",he),ge(Te,Ce),G[Ce]=he.bind(null,{data:{callback:Ce}})}),L},ae.reset=function(){ae.postMessage({reset:!0});for(var Te in G)G[Te](),delete G[Te]}}return function(){if(Y)return Y;if(!r&&o){var ae=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{Y=new Worker(URL.createObjectURL(new Blob([ae])))}catch(ge){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ge),null}ee(Y)}return Y}})(),_={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function S(Y,L){return L?L(Y):Y}function A(Y){return Y!=null}function E(Y,L,G){return S(Y&&A(Y[L])?Y[L]:_[L],G)}function M(Y){return Y<0?0:Math.floor(Y)}function I(Y,L){return Math.floor(Math.random()*(L-Y))+Y}function N(Y){return parseInt(Y,16)}function C(Y){return Y.map(R)}function R(Y){var L=String(Y).replace(/[^0-9a-f]/gi,"");return L.length<6&&(L=L[0]+L[0]+L[1]+L[1]+L[2]+L[2]),{r:N(L.substring(0,2)),g:N(L.substring(2,4)),b:N(L.substring(4,6))}}function U(Y){var L=E(Y,"origin",Object);return L.x=E(L,"x",Number),L.y=E(L,"y",Number),L}function k(Y){Y.width=document.documentElement.clientWidth,Y.height=document.documentElement.clientHeight}function O(Y){var L=Y.getBoundingClientRect();Y.width=L.width,Y.height=L.height}function V(Y){var L=document.createElement("canvas");return L.style.position="fixed",L.style.top="0px",L.style.left="0px",L.style.pointerEvents="none",L.style.zIndex=Y,L}function F(Y,L,G,ee,ae,ge,we,Te,Re){Y.save(),Y.translate(L,G),Y.rotate(ge),Y.scale(ee,ae),Y.arc(0,0,1,we,Te,Re),Y.restore()}function q(Y){var L=Y.angle*(Math.PI/180),G=Y.spread*(Math.PI/180);return{x:Y.x,y:Y.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:Y.startVelocity*.5+Math.random()*Y.startVelocity,angle2D:-L+(.5*G-Math.random()*G),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:Y.color,shape:Y.shape,tick:0,totalTicks:Y.ticks,decay:Y.decay,drift:Y.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:Y.gravity*3,ovalScalar:.6,scalar:Y.scalar,flat:Y.flat}}function z(Y,L){L.x+=Math.cos(L.angle2D)*L.velocity+L.drift,L.y+=Math.sin(L.angle2D)*L.velocity+L.gravity,L.velocity*=L.decay,L.flat?(L.wobble=0,L.wobbleX=L.x+10*L.scalar,L.wobbleY=L.y+10*L.scalar,L.tiltSin=0,L.tiltCos=0,L.random=1):(L.wobble+=L.wobbleSpeed,L.wobbleX=L.x+10*L.scalar*Math.cos(L.wobble),L.wobbleY=L.y+10*L.scalar*Math.sin(L.wobble),L.tiltAngle+=.1,L.tiltSin=Math.sin(L.tiltAngle),L.tiltCos=Math.cos(L.tiltAngle),L.random=Math.random()+2);var G=L.tick++/L.totalTicks,ee=L.x+L.random*L.tiltCos,ae=L.y+L.random*L.tiltSin,ge=L.wobbleX+L.random*L.tiltCos,we=L.wobbleY+L.random*L.tiltSin;if(Y.fillStyle="rgba("+L.color.r+", "+L.color.g+", "+L.color.b+", "+(1-G)+")",Y.beginPath(),s&&L.shape.type==="path"&&typeof L.shape.path=="string"&&Array.isArray(L.shape.matrix))Y.fill(X(L.shape.path,L.shape.matrix,L.x,L.y,Math.abs(ge-ee)*.1,Math.abs(we-ae)*.1,Math.PI/10*L.wobble));else if(L.shape.type==="bitmap"){var Te=Math.PI/10*L.wobble,Re=Math.abs(ge-ee)*.1,pe=Math.abs(we-ae)*.1,Ce=L.shape.bitmap.width*L.scalar,Ie=L.shape.bitmap.height*L.scalar,he=new DOMMatrix([Math.cos(Te)*Re,Math.sin(Te)*Re,-Math.sin(Te)*pe,Math.cos(Te)*pe,L.x,L.y]);he.multiplySelf(new DOMMatrix(L.shape.matrix));var Se=Y.createPattern(h.transform(L.shape.bitmap),"no-repeat");Se.setTransform(he),Y.globalAlpha=1-G,Y.fillStyle=Se,Y.fillRect(L.x-Ce/2,L.y-Ie/2,Ce,Ie),Y.globalAlpha=1}else if(L.shape==="circle")Y.ellipse?Y.ellipse(L.x,L.y,Math.abs(ge-ee)*L.ovalScalar,Math.abs(we-ae)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI):F(Y,L.x,L.y,Math.abs(ge-ee)*L.ovalScalar,Math.abs(we-ae)*L.ovalScalar,Math.PI/10*L.wobble,0,2*Math.PI);else if(L.shape==="star")for(var Ee=Math.PI/2*3,Ve=4*L.scalar,We=8*L.scalar,dt=L.x,It=L.y,mt=5,nt=Math.PI/mt;mt--;)dt=L.x+Math.cos(Ee)*We,It=L.y+Math.sin(Ee)*We,Y.lineTo(dt,It),Ee+=nt,dt=L.x+Math.cos(Ee)*Ve,It=L.y+Math.sin(Ee)*Ve,Y.lineTo(dt,It),Ee+=nt;else Y.moveTo(Math.floor(L.x),Math.floor(L.y)),Y.lineTo(Math.floor(L.wobbleX),Math.floor(ae)),Y.lineTo(Math.floor(ge),Math.floor(we)),Y.lineTo(Math.floor(ee),Math.floor(L.wobbleY));return Y.closePath(),Y.fill(),L.tick<L.totalTicks}function B(Y,L,G,ee,ae){var ge=L.slice(),we=Y.getContext("2d"),Te,Re,pe=f(function(Ce){function Ie(){Te=Re=null,we.clearRect(0,0,ee.width,ee.height),h.clear(),ae(),Ce()}function he(){r&&!(ee.width===i.width&&ee.height===i.height)&&(ee.width=Y.width=i.width,ee.height=Y.height=i.height),!ee.width&&!ee.height&&(G(Y),ee.width=Y.width,ee.height=Y.height),we.clearRect(0,0,ee.width,ee.height),ge=ge.filter(function(Se){return z(we,Se)}),ge.length?Te=p.frame(he):Ie()}Te=p.frame(he),Re=Ie});return{addFettis:function(Ce){return ge=ge.concat(Ce),pe},canvas:Y,promise:pe,reset:function(){Te&&p.cancel(Te),Re&&Re()}}}function Q(Y,L){var G=!Y,ee=!!E(L||{},"resize"),ae=!1,ge=E(L,"disableForReducedMotion",Boolean),we=o&&!!E(L||{},"useWorker"),Te=we?g():null,Re=G?k:O,pe=Y&&Te?!!Y.__confetti_initialized:!1,Ce=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ie;function he(Ee,Ve,We){for(var dt=E(Ee,"particleCount",M),It=E(Ee,"angle",Number),mt=E(Ee,"spread",Number),nt=E(Ee,"startVelocity",Number),On=E(Ee,"decay",Number),Xo=E(Ee,"gravity",Number),Jo=E(Ee,"drift",Number),ln=E(Ee,"colors",C),Qo=E(Ee,"ticks",Number),Ks=E(Ee,"shapes"),vl=E(Ee,"scalar"),so=!!E(Ee,"flat"),Yu=U(Ee),bl=dt,Ws=[],Xu=Y.width*Yu.x,Ur=Y.height*Yu.y;bl--;)Ws.push(q({x:Xu,y:Ur,angle:It,spread:mt,startVelocity:nt,color:ln[bl%ln.length],shape:Ks[I(0,Ks.length)],ticks:Qo,decay:On,gravity:Xo,drift:Jo,scalar:vl,flat:so}));return Ie?Ie.addFettis(Ws):(Ie=B(Y,Ws,Re,Ve,We),Ie.promise)}function Se(Ee){var Ve=ge||E(Ee,"disableForReducedMotion",Boolean),We=E(Ee,"zIndex",Number);if(Ve&&Ce)return f(function(nt){nt()});G&&Ie?Y=Ie.canvas:G&&!Y&&(Y=V(We),document.body.appendChild(Y)),ee&&!pe&&Re(Y);var dt={width:Y.width,height:Y.height};Te&&!pe&&Te.init(Y),pe=!0,Te&&(Y.__confetti_initialized=!0);function It(){if(Te){var nt={getBoundingClientRect:function(){if(!G)return Y.getBoundingClientRect()}};Re(nt),Te.postMessage({resize:{width:nt.width,height:nt.height}});return}dt.width=dt.height=null}function mt(){Ie=null,ee&&(ae=!1,e.removeEventListener("resize",It)),G&&Y&&(document.body.contains(Y)&&document.body.removeChild(Y),Y=null,pe=!1)}return ee&&!ae&&(ae=!0,e.addEventListener("resize",It,!1)),Te?Te.fire(Ee,dt,mt):he(Ee,dt,mt)}return Se.reset=function(){Te&&Te.reset(),Ie&&Ie.reset()},Se}var oe;function K(){return oe||(oe=Q(null,{useWorker:!0,resize:!0})),oe}function X(Y,L,G,ee,ae,ge,we){var Te=new Path2D(Y),Re=new Path2D;Re.addPath(Te,new DOMMatrix(L));var pe=new Path2D;return pe.addPath(Re,new DOMMatrix([Math.cos(we)*ae,Math.sin(we)*ae,-Math.sin(we)*ge,Math.cos(we)*ge,G,ee])),pe}function te(Y){if(!s)throw new Error("path confetti are not supported in this browser");var L,G;typeof Y=="string"?L=Y:(L=Y.path,G=Y.matrix);var ee=new Path2D(L),ae=document.createElement("canvas"),ge=ae.getContext("2d");if(!G){for(var we=1e3,Te=we,Re=we,pe=0,Ce=0,Ie,he,Se=0;Se<we;Se+=2)for(var Ee=0;Ee<we;Ee+=2)ge.isPointInPath(ee,Se,Ee,"nonzero")&&(Te=Math.min(Te,Se),Re=Math.min(Re,Ee),pe=Math.max(pe,Se),Ce=Math.max(Ce,Ee));Ie=pe-Te,he=Ce-Re;var Ve=10,We=Math.min(Ve/Ie,Ve/he);G=[We,0,0,We,-Math.round(Ie/2+Te)*We,-Math.round(he/2+Re)*We]}return{type:"path",path:L,matrix:G}}function ce(Y){var L,G=1,ee="#000000",ae='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof Y=="string"?L=Y:(L=Y.text,G="scalar"in Y?Y.scalar:G,ae="fontFamily"in Y?Y.fontFamily:ae,ee="color"in Y?Y.color:ee);var ge=10*G,we=""+ge+"px "+ae,Te=new OffscreenCanvas(ge,ge),Re=Te.getContext("2d");Re.font=we;var pe=Re.measureText(L),Ce=Math.ceil(pe.actualBoundingBoxRight+pe.actualBoundingBoxLeft),Ie=Math.ceil(pe.actualBoundingBoxAscent+pe.actualBoundingBoxDescent),he=2,Se=pe.actualBoundingBoxLeft+he,Ee=pe.actualBoundingBoxAscent+he;Ce+=he+he,Ie+=he+he,Te=new OffscreenCanvas(Ce,Ie),Re=Te.getContext("2d"),Re.font=we,Re.fillStyle=ee,Re.fillText(L,Se,Ee);var Ve=1/G;return{type:"bitmap",bitmap:Te.transferToImageBitmap(),matrix:[Ve,0,0,Ve,-Ce*Ve/2,-Ie*Ve/2]}}n.exports=function(){return K().apply(this,arguments)},n.exports.reset=function(){K().reset()},n.exports.create=Q,n.exports.shapeFromPath=te,n.exports.shapeFromText=ce})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),FN,!1);const q$=FN.exports;FN.exports.create;const Sy=({icon:t,label:e,value:n})=>v.jsxs("div",{className:"bg-black/40 backdrop-blur-md rounded-xl p-2.5 border border-white/5 flex flex-col justify-center",children:[v.jsxs("div",{className:"flex items-center gap-1.5 text-white/50 text-[10px] uppercase font-bold tracking-wider mb-0.5",children:[t," ",e]}),v.jsx("div",{className:"text-white font-bold text-sm",children:n})]}),xb=({user:t,role:e,isPremium:n,onUpgrade:r,expanded:i=!1})=>{var M,I,N;const o=e===Fe.INFLUENCER,[s,l]=W.useState(!1),[c,f]=W.useState(!1),h=W.useRef(null),[p,g]=W.useState(!1),_=W.useRef(null),S=C=>{var R;C.stopPropagation(),p&&((R=_.current)==null||R.pause(),g(!1)),l(U=>!U)},A=C=>{C.stopPropagation(),f(R=>!R)},E=C=>{C.stopPropagation(),_.current&&(p?_.current.pause():(s&&l(!1),_.current.play()),g(!p))};return v.jsxs("div",{className:"w-full h-full overflow-hidden relative bg-[#1a1a1a] border border-white/20 rounded-3xl !p-0 shadow-2xl",children:[v.jsxs("div",{className:"absolute inset-0 z-0",children:[s&&t.introVideoUrl?v.jsx("video",{ref:h,src:t.introVideoUrl,className:"w-full h-full object-cover",autoPlay:!0,loop:!0,muted:c,playsInline:!0}):v.jsx("img",{src:t.avatar,className:"w-full h-full object-cover pointer-events-none select-none",draggable:!1}),t.voiceIntroUrl&&v.jsx("audio",{ref:_,src:t.voiceIntroUrl,onEnded:()=>g(!1)})]}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-transparent pointer-events-none z-10"}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-2/3 bg-gradient-to-t from-black/90 via-black/50 to-transparent pointer-events-none z-10"}),t.aiMatchScore&&!s&&v.jsx("div",{className:"absolute top-4 left-4 right-4 z-20",children:n?v.jsxs("div",{className:"bg-white/10 backdrop-blur-xl border border-white/20 rounded-2xl p-3 flex items-start gap-3 shadow-lg",children:[v.jsxs("div",{className:"bg-gradient-to-tr from-pink-500 to-orange-400 text-white font-bold text-xs rounded-lg p-2 shrink-0 shadow-inner",children:[t.aiMatchScore,"%"]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-pink-300 font-bold uppercase tracking-wider",children:[v.jsx(Tf,{size:10})," AI Insight"]}),v.jsx("p",{className:"text-xs text-white/90 leading-tight mt-0.5",children:t.aiMatchReason})]})]}):v.jsxs("div",{onClick:C=>{C.stopPropagation(),r&&r()},className:"bg-black/60 backdrop-blur-xl border border-white/10 rounded-2xl p-3 flex items-center justify-between gap-3 shadow-lg cursor-pointer group hover:bg-black/80 transition-all",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"bg-white/10 text-white/40 font-bold text-xs rounded-lg p-2 shrink-0 shadow-inner",children:v.jsx(zu,{size:12})}),v.jsxs("div",{children:[v.jsx("div",{className:"flex items-center gap-1 text-[10px] text-pink-300/50 font-bold uppercase tracking-wider",children:"AI Insight Locked"}),v.jsx("p",{className:"text-xs text-white/50 leading-tight mt-0.5",children:"Unlock advanced match analysis"})]})]}),v.jsx("button",{className:"bg-gradient-to-r from-pink-500 to-orange-400 text-white text-[10px] font-bold px-3 py-1.5 rounded-full shadow-lg group-hover:scale-105 transition-transform",children:"UPGRADE"})]})}),s&&v.jsxs("div",{className:"absolute top-4 right-4 z-40 flex flex-col gap-3",children:[v.jsx("button",{onClick:S,className:"w-10 h-10 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center text-white border border-white/10 hover:bg-black/60",children:v.jsx(Dr,{size:18})}),v.jsx("button",{onClick:A,className:"w-10 h-10 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center text-white border border-white/10 hover:bg-black/60",children:c?v.jsx(Rue,{size:18}):v.jsx(F$,{size:18})})]}),v.jsxs("div",{className:`absolute bottom-0 left-0 w-full p-6 pb-8 text-left z-20 ${i?"h-full overflow-y-auto bg-black/60 backdrop-blur-md pt-24 pointer-events-auto no-scrollbar":"pointer-events-none"}`,children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx("h2",{className:"text-3xl font-bold text-white drop-shadow-md",children:t.name}),t.verified&&v.jsx(Im,{className:"text-blue-400 fill-white/10",size:24})]}),v.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[v.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[v.jsx(Nm,{size:12,className:"text-pink-400"})," ",t.location||"Unknown"]}),t.jobTitle&&v.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[v.jsx(rl,{size:12,className:"text-blue-400"})," ",t.jobTitle]}),t.company&&v.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[v.jsx(Xle,{size:12,className:"text-purple-400"})," ",t.company]}),t.school&&v.jsxs("div",{className:"bg-white/10 backdrop-blur-md border border-white/10 rounded-full px-3 py-1 text-xs font-semibold text-white/90 flex items-center gap-1.5",children:[v.jsx(sue,{size:12,className:"text-yellow-400"})," ",t.school]})]}),v.jsxs("div",{className:"flex items-center gap-3 mb-4 overflow-x-auto no-scrollbar pb-1 pointer-events-auto",children:[t.introVideoUrl&&v.jsxs("button",{onClick:S,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${s?"bg-white text-black border-white":"bg-white/10 text-white border-white/20 hover:bg-white/20"}`,children:[s?v.jsx(yue,{size:14}):v.jsx(M$,{size:14}),s?"Playing":"Intro"]}),t.voiceIntroUrl&&v.jsxs("button",{onClick:E,className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-bold transition-all border ${p?"bg-purple-500 text-white border-purple-400":"bg-white/10 text-white border-white/20 hover:bg-white/20"}`,children:[p?v.jsx(Eue,{size:14}):v.jsx(Zh,{size:14}),p?"Listening":"Voice"]}),(t.introVideoUrl||t.voiceIntroUrl)&&t.socials&&Object.values(t.socials).some(C=>C)&&v.jsx("div",{className:"w-px h-5 bg-white/20 mx-1 shrink-0"}),t.socials&&v.jsxs("div",{className:"flex items-center gap-2",children:[t.socials.instagram&&v.jsx("a",{href:`https://instagram.com/${t.socials.instagram.replace("@","")}`,target:"_blank",rel:"noreferrer",onClick:C=>C.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-pink-600 hover:text-white text-white/80 transition-colors",children:v.jsx(UN,{size:14})}),t.socials.twitter&&v.jsx("a",{href:`https://twitter.com/${t.socials.twitter.replace("@","")}`,target:"_blank",rel:"noreferrer",onClick:C=>C.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-blue-400 hover:text-white text-white/80 transition-colors",children:v.jsx(U$,{size:14})}),t.socials.youtube&&v.jsx("a",{href:t.socials.youtube,target:"_blank",rel:"noreferrer",onClick:C=>C.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-red-600 hover:text-white text-white/80 transition-colors",children:v.jsx(kue,{size:14})}),t.socials.linkedin&&v.jsx("a",{href:t.socials.linkedin,target:"_blank",rel:"noreferrer",onClick:C=>C.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-blue-700 hover:text-white text-white/80 transition-colors",children:v.jsx(P$,{size:14})}),t.socials.facebook&&v.jsx("a",{href:t.socials.facebook,target:"_blank",rel:"noreferrer",onClick:C=>C.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-blue-600 hover:text-white text-white/80 transition-colors",children:v.jsx(rue,{size:14})}),t.website&&v.jsx("a",{href:t.website.startsWith("http")?t.website:`https://${t.website}`,target:"_blank",rel:"noreferrer",onClick:C=>C.stopPropagation(),className:"p-1.5 bg-white/10 rounded-full hover:bg-emerald-500 hover:text-white text-white/80 transition-colors",children:v.jsx(kA,{size:14})})]})]}),v.jsx("div",{className:"grid grid-cols-2 gap-2 mb-4",children:o?v.jsxs(v.Fragment,{children:[v.jsx(Sy,{icon:v.jsx(DN,{size:14,className:"text-green-400"}),label:"Budget",value:((M=t.stats)==null?void 0:M.budget)||"N/A"}),v.jsx(Sy,{icon:v.jsx(rl,{size:14,className:"text-purple-400"}),label:"Niche",value:t.tags[0]})]}):v.jsxs(v.Fragment,{children:[v.jsx(Sy,{icon:v.jsx(DA,{size:14,className:"text-pink-400"}),label:"Followers",value:((I=t.stats)==null?void 0:I.followers)||"0"}),v.jsx(Sy,{icon:v.jsx(wp,{size:14,className:"text-yellow-400"}),label:"Engagement",value:((N=t.stats)==null?void 0:N.engagement)||"0%"})]})}),v.jsx("p",{className:`text-white/80 text-sm leading-relaxed font-normal mb-4 ${i?"":"line-clamp-2"}`,children:t.bio}),t.portfolio&&t.portfolio.length>0&&v.jsxs("div",{className:i?"grid grid-cols-3 gap-2 pb-4":"flex gap-2 overflow-x-auto pb-1 no-scrollbar mask-linear-fade",children:[t.portfolio.slice(0,i?void 0:3).map((C,R)=>v.jsx("div",{className:`shrink-0 rounded-lg overflow-hidden border border-white/20 ${i?"aspect-square w-full":"w-16 h-16"}`,children:v.jsx("img",{src:C,className:"w-full h-full object-cover"})},R)),!i&&t.portfolio.length>3&&v.jsxs("div",{className:"w-16 h-16 shrink-0 rounded-lg bg-white/10 border border-white/20 flex items-center justify-center text-xs font-bold text-white",children:["+",t.portfolio.length-3]})]}),i&&v.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 space-y-4",children:[v.jsx("h4",{className:"text-xs font-bold text-white/50 uppercase tracking-widest",children:"Interests"}),v.jsx("div",{className:"flex flex-wrap gap-2",children:t.tags.map(C=>v.jsxs("span",{className:"text-xs font-bold bg-white/10 px-3 py-1 rounded-full text-white/90 border border-white/5",children:["#",C]},C))})]})]})]})},ja=(t=10)=>{if(typeof navigator<"u"&&navigator.vibrate)try{navigator.vibrate(t)}catch{}},Mue=({isOpen:t,onClose:e,onApply:n,currentFilters:r})=>{const[i,o]=W.useState(r.location),[s,l]=W.useState(r.niche);return W.useEffect(()=>{t&&(o(r.location),l(r.niche))},[t,r]),t?v.jsx("div",{className:"fixed inset-0 z-[100] flex items-end sm:items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:v.jsxs(qe.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},className:"w-full max-w-sm bg-[#1a1a1a] border border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center bg-white/5",children:[v.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[v.jsx(L$,{size:18,className:"text-pink-500"})," Filter Deck"]}),v.jsx("button",{onClick:e,className:"p-1 hover:bg-white/10 rounded-full text-white/60 hover:text-white",children:v.jsx(Dr,{size:20})})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"text-xs font-bold text-white/50 uppercase tracking-widest ml-1",children:"Location"}),v.jsxs("div",{className:"relative",children:[v.jsx(Nm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30",size:18}),v.jsx("input",{type:"text",value:i,onChange:c=>o(c.target.value),placeholder:"e.g. New York, Remote",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50 transition-colors placeholder:text-white/20"})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsx("label",{className:"text-xs font-bold text-white/50 uppercase tracking-widest ml-1",children:"Niche / Tag"}),v.jsxs("div",{className:"relative",children:[v.jsx(D$,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-white/30",size:18}),v.jsx("input",{type:"text",value:s,onChange:c=>l(c.target.value),placeholder:"e.g. Fitness, Tech, Fashion",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-12 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50 transition-colors placeholder:text-white/20"})]})]})]}),v.jsxs("div",{className:"p-6 pt-2 flex gap-3",children:[v.jsx(Jt,{variant:"secondary",fullWidth:!0,onClick:()=>{o(""),l(""),n({location:"",niche:""}),e()},children:"Clear"}),v.jsx(Jt,{fullWidth:!0,onClick:()=>{n({location:i,niche:s}),e()},children:"Apply Filters"})]})]})}):null},Oue=({candidate:t,onClose:e,onChat:n})=>v.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex flex-col items-center justify-center bg-black/90 backdrop-blur-xl p-6",children:[v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((r,i)=>v.jsx(qe.div,{initial:{y:-10,x:Math.random()*window.innerWidth,opacity:1},animate:{y:window.innerHeight+10,rotate:360},transition:{duration:2+Math.random()*2,repeat:1/0,ease:"linear"},className:"absolute w-2 h-2 bg-gradient-to-tr from-pink-500 to-yellow-500 rounded-full"},i))}),v.jsxs(qe.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",bounce:.5},className:"text-center space-y-8 relative z-10",children:[v.jsx("div",{className:"font-mono text-pink-500 font-bold tracking-widest text-xl animate-pulse",children:"IT'S A MATCH!"}),v.jsxs("div",{className:"flex items-center justify-center gap-4",children:[v.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-white overflow-hidden shadow-[0_0_30px_rgba(255,255,255,0.3)]",children:v.jsx("img",{src:"https://picsum.photos/200/200",className:"w-full h-full object-cover"})}),v.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-pink-500 overflow-hidden shadow-[0_0_30px_rgba(236,72,153,0.5)]",children:v.jsx("img",{src:t.avatar,className:"w-full h-full object-cover"})})]}),v.jsxs("div",{children:[v.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["You & ",t.name]}),v.jsx("p",{className:"text-white/60",children:"vibe with each other."})]}),v.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-xs mx-auto",children:[v.jsx(Jt,{fullWidth:!0,onClick:n,className:"flex items-center gap-2 justify-center",children:"Message"}),v.jsx(Jt,{fullWidth:!0,variant:"secondary",onClick:e,children:"Keep Swiping"})]})]})]}),Due=({user:t,onClose:e,onAction:n,role:r,isPremium:i})=>v.jsxs(qe.div,{initial:{opacity:0,scale:.9,y:50},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:50},className:"fixed inset-0 z-[100] bg-black/95 backdrop-blur-md flex flex-col",children:[v.jsxs("div",{className:"p-4 flex justify-between items-center shrink-0",children:[v.jsx("button",{onClick:e,className:"p-2 bg-white/10 rounded-full text-white hover:bg-white/20",children:v.jsx(Zle,{size:24})}),v.jsx("span",{className:"font-bold text-white text-sm tracking-widest uppercase",children:"Profile Detail"}),v.jsx("div",{className:"w-10"})]}),v.jsx("div",{className:"flex-1 px-4 pb-4 overflow-hidden flex flex-col justify-center",children:v.jsx("div",{className:"w-full max-w-lg mx-auto h-full max-h-[75vh] relative rounded-3xl overflow-hidden shadow-2xl border border-white/10",children:v.jsx(xb,{user:t,role:r,isPremium:i,expanded:!0})})}),v.jsxs("div",{className:"p-6 pb-8 flex justify-center items-center gap-6 shrink-0",children:[v.jsx(La,{icon:v.jsx(Dr,{size:32}),color:"text-red-500",bg:"bg-black/80 border-red-500/20 shadow-[0_0_20px_rgba(239,68,68,0.15)]",size:"large",onClick:()=>{n("left"),e()}}),v.jsx(La,{icon:v.jsx(BN,{size:24,fill:"currentColor"}),color:"text-blue-400",bg:"bg-black/80 border-blue-400/50 shadow-[0_0_20px_rgba(96,165,250,0.3)]",onClick:()=>{n("up"),e()}}),v.jsx(La,{icon:v.jsx(vb,{size:32,fill:"currentColor"}),color:"text-green-500",bg:"bg-black/80 border-green-500/20 shadow-[0_0_20px_rgba(34,197,94,0.15)]",size:"large",onClick:()=>{n("right"),e()}})]})]}),Lue=({user:t,onClick:e})=>{var n;return v.jsxs(qe.div,{layoutId:`card-${t.id}`,onClick:e,className:"relative aspect-[3/4] rounded-2xl overflow-hidden cursor-pointer group border border-transparent hover:border-pink-500/50 transition-all",whileHover:{scale:.98},children:[v.jsx("img",{src:t.avatar,className:"w-full h-full object-cover",loading:"lazy"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent opacity-80"}),v.jsxs("div",{className:"absolute top-2 right-2 flex flex-col gap-1",children:[t.aiMatchScore&&v.jsxs("div",{className:"bg-pink-500 text-white text-[10px] font-bold px-1.5 py-0.5 rounded shadow-sm",children:[t.aiMatchScore,"%"]}),t.introVideoUrl&&v.jsx("div",{className:"bg-white/20 backdrop-blur-sm text-white p-1 rounded-full flex items-center justify-center",children:v.jsx(M$,{size:10,fill:"currentColor"})}),t.voiceIntroUrl&&v.jsx("div",{className:"bg-purple-500/80 backdrop-blur-sm text-white p-1 rounded-full flex items-center justify-center",children:v.jsx(Zh,{size:10,fill:"currentColor"})})]}),v.jsxs("div",{className:"absolute bottom-3 left-3 right-3 text-white",children:[v.jsx("h3",{className:"font-bold text-sm truncate",children:t.name}),v.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-white/70",children:[v.jsx(Nm,{size:10})," ",(n=t.location)==null?void 0:n.split(",")[0]]}),v.jsx("div",{className:"flex gap-1 mt-1.5",children:t.tags.slice(0,1).map(r=>v.jsx("span",{className:"text-[9px] bg-white/20 px-1.5 py-0.5 rounded backdrop-blur-sm truncate",children:r},r))})]})]})},NL=({filtersActive:t})=>v.jsxs("div",{className:"flex flex-col items-center justify-center h-full relative w-full pb-32",children:[v.jsx("div",{className:"absolute w-64 h-64 border border-pink-500/20 rounded-full animate-ping opacity-20"}),v.jsx("div",{className:"absolute w-48 h-48 border border-pink-500/30 rounded-full animate-ping opacity-30 animation-delay-500"}),v.jsx("div",{className:"relative w-24 h-24 rounded-full bg-white/40 dark:bg-white/5 border border-white/20 dark:border-white/10 flex items-center justify-center backdrop-blur-md shadow-[0_0_50px_rgba(236,72,153,0.2)]",children:v.jsx("div",{className:"absolute inset-0 rounded-full border-t-2 border-pink-500 animate-spin"})}),v.jsx("h3",{className:"mt-8 text-xl font-bold text-gray-900 dark:text-white tracking-tight",children:t?"No Matches Found":"All Caught Up"}),v.jsx("p",{className:"text-gray-500 dark:text-white/40 text-sm mt-2",children:t?"Try adjusting your filters.":"Check back later for more."})]}),Uue=({candidates:t,currentUserRole:e,isPremium:n,onUpgrade:r,onSwipe:i,onMatchChat:o})=>{const[s,l]=W.useState(t),[c,f]=W.useState([]),[h,p]=W.useState(null),[g,_]=W.useState(!1),[S,A]=W.useState("stack"),[E,M]=W.useState(null),[I,N]=W.useState(!1),[C,R]=W.useState({location:"",niche:""}),U=W.useRef(null);W.useEffect(()=>{const X=new Set(c.map(ce=>ce.id));let te=t.filter(ce=>!X.has(ce.id));if(C.location){const ce=C.location.toLowerCase();te=te.filter(Y=>Y.location&&Y.location.toLowerCase().includes(ce))}if(C.niche){const ce=C.niche.toLowerCase();te=te.filter(Y=>Y.tags.some(L=>L.toLowerCase().includes(ce))||Y.bio&&Y.bio.toLowerCase().includes(ce))}l(te)},[t,C,c]);const k=W.useCallback(X=>{const te=s.find(ce=>ce.id===X);te&&f(ce=>[...ce,te])},[s]),O=async(X,te)=>{k(te.id),i(X,te),X==="up"?(ja([30,20,30]),q$({particleCount:100,spread:70,origin:{y:.7},colors:["#60A5FA","#3B82F6","#FFFFFF"],zIndex:100})):ja(10),(X==="right"||X==="up")&&(await kh.swipe("current-user-id",te.id,X)).isMatch&&p(te)},V=X=>{U.current&&s.length>0&&U.current.triggerSwipe(X)},F=()=>{if(c.length!==0){if(!n){r&&r();return}f(X=>X.slice(0,-1))}},q=()=>{if(!n){r&&r();return}g||(_(!0),ja([10,50,10]),l(X=>{if(X.length<=1)return X;const[te,...ce]=X,Y=[...ce].sort((L,G)=>(G.aiMatchScore||0)-(L.aiMatchScore||0));return[te,...Y]}),setTimeout(()=>_(!1),1e4))},z=0,B=1,Q=s[z],oe=s[B],K=!!(C.location||C.niche);return v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"relative w-full h-full flex flex-col overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/80 z-10 pointer-events-none"}),v.jsx("div",{className:"absolute top-4 left-0 right-0 z-30 flex justify-end px-6 items-start pointer-events-none",children:v.jsxs("button",{onClick:()=>N(!0),className:`w-10 h-10 rounded-full flex items-center justify-center backdrop-blur-md border transition-all pointer-events-auto ${K?"bg-pink-500 text-white border-pink-400":"bg-black/40 text-white/70 border-white/10 hover:bg-black/60 hover:text-white"}`,children:[v.jsx(L$,{size:18}),K&&v.jsx("span",{className:"absolute top-0 right-0 w-3 h-3 bg-red-500 rounded-full border-2 border-[#0f0c29]"})]})}),v.jsx(dr,{children:g&&S==="stack"&&v.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 z-30 pointer-events-none flex flex-col items-center justify-center overflow-hidden",children:[v.jsx("div",{className:"absolute inset-0 border-[8px] border-purple-500/30 shadow-[inset_0_0_100px_rgba(168,85,247,0.4)]"}),v.jsx(qe.div,{animate:{scale:[1,1.5],opacity:[.5,0]},transition:{duration:1,repeat:1/0},className:"absolute w-full aspect-square bg-purple-500/10 rounded-full"}),v.jsxs(qe.div,{initial:{y:-50,opacity:0},animate:{y:0,opacity:1},className:"bg-purple-600 text-white font-bold px-6 py-2 rounded-full text-sm uppercase tracking-widest shadow-[0_0_30px_rgba(168,85,247,0.6)] flex items-center gap-2 relative z-10",children:[v.jsx(wp,{size:16,fill:"currentColor"})," Boost Active"]})]})}),v.jsxs("div",{className:"flex-1 w-full relative z-0 h-full",children:[S==="stack"&&v.jsx("div",{className:"w-full h-full max-w-lg mx-auto flex flex-col justify-center px-4 pb-24",children:s.length===0?v.jsx(NL,{filtersActive:K}):v.jsx("div",{className:"relative w-full h-[75vh] sm:h-[80vh]",children:v.jsxs(dr,{mode:"popLayout",children:[oe&&v.jsx("div",{className:"absolute inset-0 scale-95 opacity-60 pointer-events-none z-0 transition-transform duration-300",children:v.jsx("div",{className:"w-full h-full overflow-hidden relative bg-[#1a1a1a] border border-white/20 rounded-3xl !p-0 shadow-2xl",children:v.jsx(xb,{user:oe,role:e,isPremium:n})})}),Q&&v.jsx(Vue,{ref:U,user:Q,role:e,isPremium:n,onUpgrade:r,onSwipe:X=>O(X,Q),onClick:()=>M(Q)},Q.id)]})})}),S==="grid"&&v.jsx("div",{className:"w-full h-full overflow-y-auto px-4 pt-20 pb-24 no-scrollbar",children:s.length===0?v.jsx("div",{className:"h-full flex items-center justify-center",children:v.jsx(NL,{filtersActive:K})}):v.jsx("div",{className:"grid grid-cols-2 gap-3 pb-10",children:s.map(X=>v.jsx(Lue,{user:X,onClick:()=>M(X)},X.id))})})]}),S==="stack"&&v.jsxs("div",{className:"absolute bottom-8 left-0 w-full z-[60] flex justify-center items-center gap-6 px-6 pointer-events-none",children:[v.jsx(La,{icon:v.jsx(bue,{size:20}),color:c.length>0?"text-yellow-400":"text-white/30",bg:"bg-black/60 border-white/5",onClick:F,disabled:c.length===0,className:"pointer-events-auto"}),v.jsx(La,{icon:v.jsx(Dr,{size:32}),color:"text-red-500",bg:"bg-black/80 border-red-500/20 shadow-[0_0_20px_rgba(239,68,68,0.15)] hover:shadow-[0_0_30px_rgba(239,68,68,0.4)]",size:"large",onClick:()=>V("left"),disabled:s.length===0,className:"pointer-events-auto"}),v.jsx("div",{className:"relative -mt-8 pointer-events-auto",children:v.jsx(La,{icon:v.jsx(BN,{size:24,fill:"currentColor"}),color:"text-blue-400",bg:"bg-black/80 border-blue-400/50 shadow-[0_0_20px_rgba(96,165,250,0.3)] hover:shadow-[0_0_40px_rgba(96,165,250,0.6)] hover:bg-blue-500/10",onClick:()=>V("up"),disabled:s.length===0,className:"scale-110 hover:scale-125 transition-all duration-300 ring-4 ring-black"})}),v.jsx(La,{icon:v.jsx(vb,{size:32,fill:"currentColor"}),color:"text-green-500",bg:"bg-black/80 border-green-500/20 shadow-[0_0_20px_rgba(34,197,94,0.15)] hover:shadow-[0_0_30px_rgba(34,197,94,0.4)]",size:"large",onClick:()=>V("right"),disabled:s.length===0,className:"pointer-events-auto"}),v.jsx(La,{icon:v.jsx(wp,{size:20,fill:"currentColor"}),color:g?"text-white":"text-purple-500",bg:g?"bg-purple-500 border-purple-400":"bg-black/60 border-purple-500/20",onClick:q,className:"pointer-events-auto"})]})]}),v.jsxs(dr,{children:[h&&v.jsx(Oue,{candidate:h,onClose:()=>p(null),onChat:()=>{o&&o(h),p(null)}}),I&&v.jsx(Mue,{isOpen:I,onClose:()=>N(!1),currentFilters:C,onApply:R}),E&&v.jsx(Due,{user:E,role:e,isPremium:n,onClose:()=>M(null),onAction:X=>{O(X,E),M(null)}})]})]})},Vue=W.forwardRef(({user:t,role:e,isPremium:n,onUpgrade:r,onSwipe:i,onClick:o},s)=>{const l=wf(0),c=wf(0),f=su(l,[-200,200],[-15,15]),h=Hle(),p=W.useRef(!1);W.useImperativeHandle(s,()=>({triggerSwipe:async I=>{I==="right"?await h.start({x:500,rotate:20,opacity:0,transition:{duration:.3}}):I==="left"?await h.start({x:-500,rotate:-20,opacity:0,transition:{duration:.3}}):I==="up"&&await h.start({y:-800,opacity:0,transition:{duration:.4}}),i(I)}}),[h,i]);const g=su(l,[20,150],[0,1]),_=su(l,[-20,-150],[0,1]),S=su(c,[-20,-150],[0,1]),A=su(l,[-200,0,200],["0px 0px 50px rgba(239, 68, 68, 0.4)","0px 0px 0px rgba(0,0,0,0)","0px 0px 50px rgba(34, 197, 94, 0.4)"]),E=()=>{p.current=!0,ja(5)},M=async(I,N)=>{setTimeout(()=>{p.current=!1},100);const C=100,R=N.velocity.x;N.offset.x>C||R>500?(ja(20),await h.start({x:500,opacity:0,transition:{duration:.2}}),i("right")):N.offset.x<-C||R<-500?(ja(20),await h.start({x:-500,opacity:0,transition:{duration:.2}}),i("left")):N.offset.y<-C?(ja([15,30]),await h.start({y:-500,opacity:0,transition:{duration:.2}}),i("up")):h.start({x:0,y:0,transition:{type:"spring",stiffness:300,damping:20}})};return v.jsxs(qe.div,{drag:!0,dragConstraints:{left:0,right:0,top:0,bottom:0},dragElastic:.6,onDragStart:E,onDragEnd:M,onTap:()=>{!p.current&&o&&o()},animate:h,style:{x:l,y:c,rotate:f,boxShadow:A},className:"absolute inset-0 z-10 cursor-grab active:cursor-grabbing touch-none rounded-3xl",children:[v.jsx(xb,{user:t,role:e,isPremium:n,onUpgrade:r}),v.jsx(qe.div,{style:{opacity:g},className:"absolute top-10 left-8 border-4 border-green-400 text-green-400 font-bold text-4xl px-4 py-2 rounded-xl -rotate-12 bg-black/50 backdrop-blur-md z-50 pointer-events-none",children:"LIKE"}),v.jsx(qe.div,{style:{opacity:_},className:"absolute top-10 right-8 border-4 border-red-500 text-red-500 font-bold text-4xl px-4 py-2 rounded-xl rotate-12 bg-black/50 backdrop-blur-md z-50 pointer-events-none",children:"NOPE"}),v.jsx(qe.div,{style:{opacity:S},className:"absolute bottom-32 left-1/2 -translate-x-1/2 border-4 border-blue-400 text-blue-400 font-bold text-3xl px-4 py-2 rounded-xl -rotate-6 bg-black/50 backdrop-blur-md z-50 pointer-events-none whitespace-nowrap",children:"SUPER LIKE"})]})}),La=({icon:t,color:e,bg:n,size:r="normal",onClick:i,disabled:o,className:s=""})=>{const l=r==="large",c=()=>{o||(ja(10),i())};return v.jsx(qe.button,{whileTap:o?void 0:{scale:.9},onClick:c,disabled:o,className:`
        rounded-full flex items-center justify-center backdrop-blur-xl transition-all duration-200
        ${n} ${e}
        border dark:border-white/5
        ${l?"w-16 h-16 text-xl":"w-12 h-12"}
        ${o?"opacity-30 cursor-not-allowed grayscale":"hover:scale-105 active:scale-95 shadow-xl hover:shadow-2xl"}
        ${s}
      `,children:t})},jue=Object.prototype.toString,Bue=t=>jue.call(t)==="[object Error]",Fue=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function que(t){if(!(t&&Bue(t)&&t.name==="TypeError"&&typeof t.message=="string"))return!1;const{message:n,stack:r}=t;return n==="Load failed"?r===void 0||"__sentry_captured__"in t:n.startsWith("error sending request for url")?!0:Fue.has(n)}function zue(t){if(typeof t=="number"){if(t<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(t))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(t!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function Ay(t,e,{min:n=0,allowInfinity:r=!1}={}){if(e!==void 0){if(typeof e!="number"||Number.isNaN(e))throw new TypeError(`Expected \`${t}\` to be a number${r?" or Infinity":""}.`);if(!r&&!Number.isFinite(e))throw new TypeError(`Expected \`${t}\` to be a finite number.`);if(e<n)throw new TypeError(`Expected \`${t}\` to be  ${n}.`)}}class z$ extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,{message:e}=e):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}function $ue(t,e){const n=Math.max(1,t+1),r=e.randomize?Math.random()+1:1;let i=Math.round(r*e.minTimeout*e.factor**(n-1));return i=Math.min(i,e.maxTimeout),i}function RL(t,e){return Number.isFinite(e)?e-(performance.now()-t):e}async function Gue({error:t,attemptNumber:e,retriesConsumed:n,startTime:r,options:i}){var _,S,A,E;const o=t instanceof Error?t:new TypeError(`Non-error was thrown: "${t}". You should only throw errors.`);if(o instanceof z$)throw o.originalError;const s=Number.isFinite(i.retries)?Math.max(0,i.retries-n):i.retries,l=i.maxRetryTime??Number.POSITIVE_INFINITY,c=Object.freeze({error:o,attemptNumber:e,retriesLeft:s,retriesConsumed:n});if(await i.onFailedAttempt(c),RL(r,l)<=0)throw o;const f=await i.shouldConsumeRetry(c),h=RL(r,l);if(h<=0||s<=0)throw o;if(o instanceof TypeError&&!que(o)){if(f)throw o;return(_=i.signal)==null||_.throwIfAborted(),!1}if(!await i.shouldRetry(c))throw o;if(!f)return(S=i.signal)==null||S.throwIfAborted(),!1;const p=$ue(n,i),g=Math.min(p,h);return(A=i.signal)==null||A.throwIfAborted(),g>0&&await new Promise((M,I)=>{var R,U;const N=()=>{var k;clearTimeout(C),(k=i.signal)==null||k.removeEventListener("abort",N),I(i.signal.reason)},C=setTimeout(()=>{var k;(k=i.signal)==null||k.removeEventListener("abort",N),M()},g);i.unref&&((R=C.unref)==null||R.call(C)),(U=i.signal)==null||U.addEventListener("abort",N,{once:!0})}),(E=i.signal)==null||E.throwIfAborted(),!0}async function Hue(t,e={}){var o,s,l;if(e={...e},zue(e.retries),Object.hasOwn(e,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");e.retries??(e.retries=10),e.factor??(e.factor=2),e.minTimeout??(e.minTimeout=1e3),e.maxTimeout??(e.maxTimeout=Number.POSITIVE_INFINITY),e.maxRetryTime??(e.maxRetryTime=Number.POSITIVE_INFINITY),e.randomize??(e.randomize=!1),e.onFailedAttempt??(e.onFailedAttempt=()=>{}),e.shouldRetry??(e.shouldRetry=()=>!0),e.shouldConsumeRetry??(e.shouldConsumeRetry=()=>!0),Ay("factor",e.factor,{min:0,allowInfinity:!1}),Ay("minTimeout",e.minTimeout,{min:0,allowInfinity:!1}),Ay("maxTimeout",e.maxTimeout,{min:0,allowInfinity:!0}),Ay("maxRetryTime",e.maxRetryTime,{min:0,allowInfinity:!0}),e.factor>0||(e.factor=1),(o=e.signal)==null||o.throwIfAborted();let n=0,r=0;const i=performance.now();for(;!Number.isFinite(e.retries)||r<=e.retries;){n++;try{(s=e.signal)==null||s.throwIfAborted();const c=await t(n);return(l=e.signal)==null||l.throwIfAborted(),c}catch(c){await Gue({error:c,attemptNumber:n,retriesConsumed:r,startTime:i,options:e})&&r++}}throw new Error("Retry attempts exhausted without throwing an error.")}var Kue={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Wue,Yue;function Xue(){return{geminiUrl:Wue,vertexUrl:Yue}}function Jue(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Xue();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qs{}function Me(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function b(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const l=s.slice(0,-2);if(!(l in t))if(Array.isArray(n))t[l]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[l])){const c=t[l];if(Array.isArray(n))for(let f=0;f<c.length;f++){const h=c[f];b(h,e.slice(o+1),n[f])}else for(const f of c)b(f,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const l=s.slice(0,-3);l in t||(t[l]=[{}]);const c=t[l];b(c[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function y(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(l=>y(l,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Que(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let l=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){l=c;break}if(l!==-1&&o.length>l)for(let c=l;c<o.length;c++){const f=o[c];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&s.add(f)}LA(t,i,o,0,s)}}function LA(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),l=t;if(s in l&&Array.isArray(l[s]))for(const c of l[s])LA(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,l=Object.keys(s).filter(f=>!f.startsWith("_")&&!i.has(f)),c={};for(const f of l)c[f]=s[f];for(const[f,h]of Object.entries(c)){const p=[];for(const g of n.slice(r))g==="*"?p.push(f):p.push(g);b(s,p,h)}for(const f of l)delete s[f]}}else{const s=t;o in s&&LA(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qN(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zue(t){const e={},n=y(t,["operationName"]);n!=null&&b(e,["operationName"],n);const r=y(t,["resourceName"]);return r!=null&&b(e,["_url","resourceName"],r),e}function ece(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const s=y(t,["response","generateVideoResponse"]);return s!=null&&b(e,["response"],nce(s)),e}function tce(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const s=y(t,["response"]);return s!=null&&b(e,["response"],rce(s)),e}function nce(t){const e={},n=y(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>ice(s))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function rce(t){const e={},n=y(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>oce(s))),b(e,["generatedVideos"],o)}const r=y(t,["raiMediaFilteredCount"]);r!=null&&b(e,["raiMediaFilteredCount"],r);const i=y(t,["raiMediaFilteredReasons"]);return i!=null&&b(e,["raiMediaFilteredReasons"],i),e}function ice(t){const e={},n=y(t,["video"]);return n!=null&&b(e,["video"],fce(n)),e}function oce(t){const e={},n=y(t,["_self"]);return n!=null&&b(e,["video"],dce(n)),e}function sce(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function ace(t){const e={},n=y(t,["operationName"]);return n!=null&&b(e,["_url","operationName"],n),e}function lce(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const s=y(t,["response"]);return s!=null&&b(e,["response"],uce(s)),e}function uce(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function $$(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const s=y(t,["response"]);return s!=null&&b(e,["response"],cce(s)),e}function cce(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function fce(t){const e={},n=y(t,["uri"]);n!=null&&b(e,["uri"],n);const r=y(t,["encodedVideo"]);r!=null&&b(e,["videoBytes"],qN(r));const i=y(t,["encoding"]);return i!=null&&b(e,["mimeType"],i),e}function dce(t){const e={},n=y(t,["gcsUri"]);n!=null&&b(e,["uri"],n);const r=y(t,["bytesBase64Encoded"]);r!=null&&b(e,["videoBytes"],qN(r));const i=y(t,["mimeType"]);return i!=null&&b(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var PL;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(PL||(PL={}));var kL;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(kL||(kL={}));var ML;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(ML||(ML={}));var Do;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Do||(Do={}));var OL;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(OL||(OL={}));var DL;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(DL||(DL={}));var LL;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(LL||(LL={}));var UL;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(UL||(UL={}));var VL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(VL||(VL={}));var jL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(jL||(jL={}));var BL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(BL||(BL={}));var FL;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(FL||(FL={}));var qL;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(qL||(qL={}));var zL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(zL||(zL={}));var $L;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})($L||($L={}));var GL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(GL||(GL={}));var HL;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(HL||(HL={}));var KL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(KL||(KL={}));var WL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(WL||(WL={}));var YL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(YL||(YL={}));var XL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(XL||(XL={}));var Bv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Bv||(Bv={}));var JL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(JL||(JL={}));var QL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(QL||(QL={}));var ZL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ZL||(ZL={}));var UA;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(UA||(UA={}));var e5;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(e5||(e5={}));var t5;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(t5||(t5={}));var VA;(function(t){t.COLLECTION="COLLECTION"})(VA||(VA={}));var n5;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(n5||(n5={}));var r5;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(r5||(r5={}));var i5;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(i5||(i5={}));var o5;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(o5||(o5={}));var s5;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(s5||(s5={}));var a5;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(a5||(a5={}));var l5;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(l5||(l5={}));var u5;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(u5||(u5={}));var c5;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(c5||(c5={}));var f5;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(f5||(f5={}));var d5;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(d5||(d5={}));var h5;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(h5||(h5={}));var p5;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(p5||(p5={}));var m5;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING",t.DISTILLATION="DISTILLATION"})(m5||(m5={}));var g5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(g5||(g5={}));var y5;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(y5||(y5={}));var v5;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(v5||(v5={}));var b5;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(b5||(b5={}));var x5;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(x5||(x5={}));var _5;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(_5||(_5={}));var w5;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(w5||(w5={}));var T5;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(T5||(T5={}));var E5;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(E5||(E5={}));var S5;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(S5||(S5={}));var A5;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(A5||(A5={}));var C5;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(C5||(C5={}));var I5;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(I5||(I5={}));var Zc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Zc||(Zc={}));class jA{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class ph{get text(){var e,n,r,i,o,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",h=!1;const p=[];for(const g of(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[_,S]of Object.entries(g))_!=="text"&&_!=="thought"&&_!=="thoughtSignature"&&(S!==null||S!==void 0)&&p.push(_);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;h=!0,f+=g.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?f:void 0}get data(){var e,n,r,i,o,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const h=[];for(const p of(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)!==null&&c!==void 0?c:[]){for(const[g,_]of Object.entries(p))g!=="inlineData"&&(_!==null||_!==void 0)&&h.push(g);p.inlineData&&typeof p.inlineData.data=="string"&&(f+=atob(p.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var e,n,r,i,o,s,l,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var e,n,r,i,o,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var e,n,r,i,o,s,l,c,f;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(l=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||l===void 0?void 0:l.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((h==null?void 0:h.length)!==0)return(f=h==null?void 0:h[0])===null||f===void 0?void 0:f.output}}class N5{}class R5{}class hce{}class pce{}class mce{}class gce{}class P5{}class k5{}class M5{}class yce{}class Fv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Fv;let i;const o=e;return n?i=tce(o):i=ece(o),Object.assign(r,i),r}}class O5{}class D5{}class L5{}class U5{}class vce{}class bce{}class xce{}class zN{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new zN,o=lce(e);return Object.assign(r,o),r}}class _ce{}class wce{}class Tce{}class Ece{}class V5{}class Sce{get text(){var e,n,r;let i="",o=!1;const s=[];for(const l of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,f]of Object.entries(l))c!=="text"&&c!=="thought"&&f!==null&&s.push(c);if(typeof l.text=="string"){if(typeof l.thought=="boolean"&&l.thought)continue;o=!0,i+=l.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,c]of Object.entries(s))l!=="inlineData"&&c!==null&&o.push(l);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class Ace{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class $N{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new $N,o=$$(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _t(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function G$(t,e){const n=_t(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function H$(t){return Array.isArray(t)?t.map(e=>qv(e)):[qv(t)]}function qv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function K$(t){const e=qv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function W$(t){const e=qv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function j5(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function Y$(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>j5(e)):[j5(t)]}function BA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function B5(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function F5(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function fr(t){if(t==null)throw new Error("ContentUnion is required");return BA(t)?t:{role:"user",parts:Y$(t)}}function GN(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=fr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=fr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>fr(n)):[fr(e)]}function Ai(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(B5(t)||F5(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[fr(t)]}const e=[],n=[],r=BA(t[0]);for(const i of t){const o=BA(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(B5(i)||F5(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:Y$(n)}),e}function Cce(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Do).includes(n[0].toUpperCase())?n[0].toUpperCase():Do.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Do).includes(r.toUpperCase())?r.toUpperCase():Do.TYPE_UNSPECIFIED})}}function ff(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&Cce(t.type,e);for(const[s,l]of Object.entries(t))if(l!=null)if(s=="type"){if(l==="null")throw new Error("type: null can not be the only possible type for the field.");if(l instanceof Array)continue;e.type=Object.values(Do).includes(l.toUpperCase())?l.toUpperCase():Do.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=ff(l);else if(r.includes(s)){const c=[];for(const f of l){if(f.type=="null"){e.nullable=!0;continue}c.push(ff(f))}e[s]=c}else if(i.includes(s)){const c={};for(const[f,h]of Object.entries(l))c[f]=ff(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=l}return e}function HN(t){return ff(t)}function KN(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function WN(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Xf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=ff(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=ff(e.response));return t}function Jf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function Ice(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function zs(t,e){if(typeof e!="string")throw new Error("name must be a string");return Ice(t,e,"cachedContents")}function X$(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function fl(t){return qN(t)}function Nce(t){return t!=null&&typeof t=="object"&&"name"in t}function Rce(t){return t!=null&&typeof t=="object"&&"video"in t}function Pce(t){return t!=null&&typeof t=="object"&&"uri"in t}function J$(t){var e;let n;if(Nce(t)&&(n=t.name),!(Pce(t)&&(n=t.uri,n===void 0))&&!(Rce(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Q$(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function Z$(t){for(const e of["models","tunedModels","publisherModels"])if(kce(t,e))return t[e];return[]}function kce(t,e){return t!==null&&typeof t=="object"&&e in t}function Mce(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function Oce(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=Mce(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function e8(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function Dce(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function t8(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Qf(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function n8(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lce(t){const e={},n=y(t,["responsesFile"]);n!=null&&b(e,["fileName"],n);const r=y(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>gfe(s))),b(e,["inlinedResponses"],o)}const i=y(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["inlinedEmbedContentResponses"],o)}return e}function Uce(t){const e={},n=y(t,["predictionsFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsDestination","outputUriPrefix"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigqueryDestination","outputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function Vce(t){const e={},n=y(t,["format"]);n!=null&&b(e,["predictionsFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsDestination","outputUriPrefix"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigqueryDestination","outputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(y(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function sv(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata","displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["metadata","state"]);i!=null&&b(e,["state"],n8(i));const o=y(t,["metadata","createTime"]);o!=null&&b(e,["createTime"],o);const s=y(t,["metadata","endTime"]);s!=null&&b(e,["endTime"],s);const l=y(t,["metadata","updateTime"]);l!=null&&b(e,["updateTime"],l);const c=y(t,["metadata","model"]);c!=null&&b(e,["model"],c);const f=y(t,["metadata","output"]);return f!=null&&b(e,["dest"],Lce(t8(f))),e}function FA(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["displayName"]);r!=null&&b(e,["displayName"],r);const i=y(t,["state"]);i!=null&&b(e,["state"],n8(i));const o=y(t,["error"]);o!=null&&b(e,["error"],o);const s=y(t,["createTime"]);s!=null&&b(e,["createTime"],s);const l=y(t,["startTime"]);l!=null&&b(e,["startTime"],l);const c=y(t,["endTime"]);c!=null&&b(e,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&b(e,["updateTime"],f);const h=y(t,["model"]);h!=null&&b(e,["model"],h);const p=y(t,["inputConfig"]);p!=null&&b(e,["src"],jce(p));const g=y(t,["outputConfig"]);g!=null&&b(e,["dest"],Uce(t8(g)));const _=y(t,["completionStats"]);return _!=null&&b(e,["completionStats"],_),e}function jce(t){const e={},n=y(t,["instancesFormat"]);n!=null&&b(e,["format"],n);const r=y(t,["gcsSource","uris"]);r!=null&&b(e,["gcsUri"],r);const i=y(t,["bigquerySource","inputUri"]);return i!=null&&b(e,["bigqueryUri"],i),e}function Bce(t,e){const n={};if(y(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(y(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=y(e,["fileName"]);r!=null&&b(n,["fileName"],r);const i=y(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>mfe(t,s))),b(n,["requests","requests"],o)}return n}function Fce(t){const e={},n=y(t,["format"]);n!=null&&b(e,["instancesFormat"],n);const r=y(t,["gcsUri"]);r!=null&&b(e,["gcsSource","uris"],r);const i=y(t,["bigqueryUri"]);if(i!=null&&b(e,["bigquerySource","inputUri"],i),y(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(y(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function qce(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function zce(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Qf(t,r)),n}function $ce(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Qf(t,r)),n}function Gce(t){const e={},n=y(t,["content"]);n!=null&&b(e,["content"],n);const r=y(t,["citationMetadata"]);r!=null&&b(e,["citationMetadata"],Hce(r));const i=y(t,["tokenCount"]);i!=null&&b(e,["tokenCount"],i);const o=y(t,["finishReason"]);o!=null&&b(e,["finishReason"],o);const s=y(t,["avgLogprobs"]);s!=null&&b(e,["avgLogprobs"],s);const l=y(t,["groundingMetadata"]);l!=null&&b(e,["groundingMetadata"],l);const c=y(t,["index"]);c!=null&&b(e,["index"],c);const f=y(t,["logprobsResult"]);f!=null&&b(e,["logprobsResult"],f);const h=y(t,["safetyRatings"]);if(h!=null){let g=h;Array.isArray(g)&&(g=g.map(_=>_)),b(e,["safetyRatings"],g)}const p=y(t,["urlContextMetadata"]);return p!=null&&b(e,["urlContextMetadata"],p),e}function Hce(t){const e={},n=y(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["citations"],r)}return e}function r8(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Tfe(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Kce(t,e){const n={},r=y(t,["displayName"]);if(e!==void 0&&r!=null&&b(e,["batch","displayName"],r),y(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Wce(t,e){const n={},r=y(t,["displayName"]);e!==void 0&&r!=null&&b(e,["displayName"],r);const i=y(t,["dest"]);return e!==void 0&&i!=null&&b(e,["outputConfig"],Vce(Dce(i))),n}function q5(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],_t(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],Bce(t,e8(t,i)));const o=y(e,["config"]);return o!=null&&Kce(o,n),n}function Yce(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],_t(t,r));const i=y(e,["src"]);i!=null&&b(n,["inputConfig"],Fce(e8(t,i)));const o=y(e,["config"]);return o!=null&&Wce(o,n),n}function Xce(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["batch","displayName"],r),n}function Jce(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["_url","model"],_t(t,r));const i=y(e,["src"]);i!=null&&b(n,["batch","inputConfig"],ife(t,i));const o=y(e,["config"]);return o!=null&&Xce(o,n),n}function Qce(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Qf(t,r)),n}function Zce(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Qf(t,r)),n}function efe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);return o!=null&&b(e,["error"],o),e}function tfe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);return o!=null&&b(e,["error"],o),e}function nfe(t,e){const n={},r=y(e,["contents"]);if(r!=null){let o=GN(t,r);Array.isArray(o)&&(o=o.map(s=>s)),b(n,["requests[]","request","content"],o)}const i=y(e,["config"]);return i!=null&&(b(n,["_self"],rfe(i,n)),Que(n,{"requests[].*":"requests[].request.*"})),n}function rfe(t,e){const n={},r=y(t,["taskType"]);e!==void 0&&r!=null&&b(e,["requests[]","taskType"],r);const i=y(t,["title"]);e!==void 0&&i!=null&&b(e,["requests[]","title"],i);const o=y(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&b(e,["requests[]","outputDimensionality"],o),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function ife(t,e){const n={},r=y(e,["fileName"]);r!=null&&b(n,["file_name"],r);const i=y(e,["inlinedRequests"]);return i!=null&&b(n,["requests"],nfe(t,i)),n}function ofe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function sfe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function afe(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&b(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function lfe(t,e,n){const r={},i=y(e,["systemInstruction"]);n!==void 0&&i!=null&&b(n,["systemInstruction"],r8(fr(i)));const o=y(e,["temperature"]);o!=null&&b(r,["temperature"],o);const s=y(e,["topP"]);s!=null&&b(r,["topP"],s);const l=y(e,["topK"]);l!=null&&b(r,["topK"],l);const c=y(e,["candidateCount"]);c!=null&&b(r,["candidateCount"],c);const f=y(e,["maxOutputTokens"]);f!=null&&b(r,["maxOutputTokens"],f);const h=y(e,["stopSequences"]);h!=null&&b(r,["stopSequences"],h);const p=y(e,["responseLogprobs"]);p!=null&&b(r,["responseLogprobs"],p);const g=y(e,["logprobs"]);g!=null&&b(r,["logprobs"],g);const _=y(e,["presencePenalty"]);_!=null&&b(r,["presencePenalty"],_);const S=y(e,["frequencyPenalty"]);S!=null&&b(r,["frequencyPenalty"],S);const A=y(e,["seed"]);A!=null&&b(r,["seed"],A);const E=y(e,["responseMimeType"]);E!=null&&b(r,["responseMimeType"],E);const M=y(e,["responseSchema"]);M!=null&&b(r,["responseSchema"],HN(M));const I=y(e,["responseJsonSchema"]);if(I!=null&&b(r,["responseJsonSchema"],I),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const N=y(e,["safetySettings"]);if(n!==void 0&&N!=null){let B=N;Array.isArray(B)&&(B=B.map(Q=>Efe(Q))),b(n,["safetySettings"],B)}const C=y(e,["tools"]);if(n!==void 0&&C!=null){let B=Jf(C);Array.isArray(B)&&(B=B.map(Q=>Afe(Xf(Q)))),b(n,["tools"],B)}const R=y(e,["toolConfig"]);if(n!==void 0&&R!=null&&b(n,["toolConfig"],Sfe(R)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const U=y(e,["cachedContent"]);n!==void 0&&U!=null&&b(n,["cachedContent"],zs(t,U));const k=y(e,["responseModalities"]);k!=null&&b(r,["responseModalities"],k);const O=y(e,["mediaResolution"]);O!=null&&b(r,["mediaResolution"],O);const V=y(e,["speechConfig"]);if(V!=null&&b(r,["speechConfig"],KN(V)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=y(e,["thinkingConfig"]);F!=null&&b(r,["thinkingConfig"],F);const q=y(e,["imageConfig"]);q!=null&&b(r,["imageConfig"],pfe(q));const z=y(e,["enableEnhancedCivicAnswers"]);if(z!=null&&b(r,["enableEnhancedCivicAnswers"],z),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function ufe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(f=>Gce(f))),b(e,["candidates"],c)}const i=y(t,["modelVersion"]);i!=null&&b(e,["modelVersion"],i);const o=y(t,["promptFeedback"]);o!=null&&b(e,["promptFeedback"],o);const s=y(t,["responseId"]);s!=null&&b(e,["responseId"],s);const l=y(t,["usageMetadata"]);return l!=null&&b(e,["usageMetadata"],l),e}function cfe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Qf(t,r)),n}function ffe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],Qf(t,r)),n}function dfe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function hfe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function pfe(t){const e={},n=y(t,["aspectRatio"]);n!=null&&b(e,["aspectRatio"],n);const r=y(t,["imageSize"]);if(r!=null&&b(e,["imageSize"],r),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function mfe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["request","model"],_t(t,r));const i=y(e,["contents"]);if(i!=null){let l=Ai(i);Array.isArray(l)&&(l=l.map(c=>r8(c))),b(n,["request","contents"],l)}const o=y(e,["metadata"]);o!=null&&b(n,["metadata"],o);const s=y(e,["config"]);return s!=null&&b(n,["request","generationConfig"],lfe(t,s,y(n,["request"],{}))),n}function gfe(t){const e={},n=y(t,["response"]);n!=null&&b(e,["response"],ufe(n));const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["error"]);return i!=null&&b(e,["error"],i),e}function yfe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);if(e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),y(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function vfe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);e!==void 0&&i!=null&&b(e,["_query","pageToken"],i);const o=y(t,["filter"]);return e!==void 0&&o!=null&&b(e,["_query","filter"],o),n}function bfe(t){const e={},n=y(t,["config"]);return n!=null&&yfe(n,e),e}function xfe(t){const e={},n=y(t,["config"]);return n!=null&&vfe(n,e),e}function _fe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>sv(s))),b(e,["batchJobs"],o)}return e}function wfe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>FA(s))),b(e,["batchJobs"],o)}return e}function Tfe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],ofe(o));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],sfe(s));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],qce(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Efe(t){const e={},n=y(t,["category"]);if(n!=null&&b(e,["category"],n),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=y(t,["threshold"]);return r!=null&&b(e,["threshold"],r),e}function Sfe(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],afe(r)),e}function Afe(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],dfe(s));const l=y(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],hfe(l));const c=y(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Us;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(Us||(Us={}));class $u{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Cfe extends qs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Us.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=q5(this.apiClient,e),r=n._url,i=Me("{model}:batchGenerateContent",r),l=n.batch.inputConfig.requests,c=l.requests,f=[];for(const h of c){const p=Object.assign({},h);if(p.systemInstruction){const g=p.systemInstruction;delete p.systemInstruction;const _=p.request;_.systemInstruction=g,p.request=_}f.push(p)}return l.requests=f,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Yce(this.apiClient,e);return l=Me("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>FA(h))}else{const f=q5(this.apiClient,e);return l=Me("{model}:batchGenerateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>sv(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Jce(this.apiClient,e);return o=Me("{model}:asyncBatchEmbedContent",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>sv(c))}}async get(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=ffe(this.apiClient,e);return l=Me("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>FA(h))}else{const f=cfe(this.apiClient,e);return l=Me("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>sv(h))}}async cancel(e){var n,r,i,o;let s="",l={};if(this.apiClient.isVertexAI()){const c=$ce(this.apiClient,e);s=Me("batchPredictionJobs/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=zce(this.apiClient,e);s=Me("batches/{name}:cancel",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:l,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=xfe(e);return l=Me("batchPredictionJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=wfe(h),g=new V5;return Object.assign(g,p),g})}else{const f=bfe(e);return l=Me("batches",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=_fe(h),g=new V5;return Object.assign(g,p),g})}}async delete(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Zce(this.apiClient,e);return l=Me("batchPredictionJobs/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>tfe(h))}else{const f=Qce(this.apiClient,e);return l=Me("batches/{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>efe(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ife(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function z5(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Jfe(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Nfe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let h=Ai(s);Array.isArray(h)&&(h=h.map(p=>z5(p))),b(e,["contents"],h)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],z5(fr(l)));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Zfe(p))),b(e,["tools"],h)}const f=y(t,["toolConfig"]);if(e!==void 0&&f!=null&&b(e,["toolConfig"],Qfe(f)),y(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function Rfe(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);e!==void 0&&i!=null&&b(e,["expireTime"],i);const o=y(t,["displayName"]);e!==void 0&&o!=null&&b(e,["displayName"],o);const s=y(t,["contents"]);if(e!==void 0&&s!=null){let p=Ai(s);Array.isArray(p)&&(p=p.map(g=>g)),b(e,["contents"],p)}const l=y(t,["systemInstruction"]);e!==void 0&&l!=null&&b(e,["systemInstruction"],fr(l));const c=y(t,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(g=>ede(g))),b(e,["tools"],p)}const f=y(t,["toolConfig"]);e!==void 0&&f!=null&&b(e,["toolConfig"],f);const h=y(t,["kmsKeyName"]);return e!==void 0&&h!=null&&b(e,["encryption_spec","kmsKeyName"],h),n}function Pfe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],G$(t,r));const i=y(e,["config"]);return i!=null&&Nfe(i,n),n}function kfe(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["model"],G$(t,r));const i=y(e,["config"]);return i!=null&&Rfe(i,n),n}function Mfe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],zs(t,r)),n}function Ofe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],zs(t,r)),n}function Dfe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Lfe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function Ufe(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Vfe(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function jfe(t){const e={},n=y(t,["allowedFunctionNames"]);n!=null&&b(e,["allowedFunctionNames"],n);const r=y(t,["mode"]);if(r!=null&&b(e,["mode"],r),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Bfe(t){const e={},n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=y(t,["response"]);s!=null&&b(e,["response"],s);const l=y(t,["responseJsonSchema"]);if(l!=null&&b(e,["responseJsonSchema"],l),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Ffe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],zs(t,r)),n}function qfe(t,e){const n={},r=y(e,["name"]);return r!=null&&b(n,["_url","name"],zs(t,r)),n}function zfe(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function $fe(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Gfe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Hfe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function Kfe(t){const e={},n=y(t,["config"]);return n!=null&&Gfe(n,e),e}function Wfe(t){const e={},n=y(t,["config"]);return n!=null&&Hfe(n,e),e}function Yfe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["cachedContents"],o)}return e}function Xfe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["cachedContents"],o)}return e}function Jfe(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],Ufe(o));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],Vfe(s));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],Ife(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Qfe(t){const e={},n=y(t,["retrievalConfig"]);n!=null&&b(e,["retrievalConfig"],n);const r=y(t,["functionCallingConfig"]);return r!=null&&b(e,["functionCallingConfig"],jfe(r)),e}function Zfe(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],zfe(s));const l=y(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],$fe(l));const c=y(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function ede(t){const e={},n=y(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&b(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&b(e,["enterpriseWebSearch"],o);const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Bfe(g))),b(e,["functionDeclarations"],p)}const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],l);const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function tde(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function nde(t,e){const n={},r=y(t,["ttl"]);e!==void 0&&r!=null&&b(e,["ttl"],r);const i=y(t,["expireTime"]);return e!==void 0&&i!=null&&b(e,["expireTime"],i),n}function rde(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],zs(t,r));const i=y(e,["config"]);return i!=null&&tde(i,n),n}function ide(t,e){const n={},r=y(e,["name"]);r!=null&&b(n,["_url","name"],zs(t,r));const i=y(e,["config"]);return i!=null&&nde(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ode extends qs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Us.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=kfe(this.apiClient,e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Pfe(this.apiClient,e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=qfe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=Ffe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ofe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Lfe(h),g=new L5;return Object.assign(g,p),g})}else{const f=Mfe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Dfe(h),g=new L5;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=ide(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const f=rde(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Wfe(e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Xfe(h),g=new U5;return Object.assign(g,p),g})}else{const f=Kfe(e);return l=Me("cachedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Yfe(h),g=new U5;return Object.assign(g,p),g})}}}function zv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function $5(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ye(t){return this instanceof Ye?(this.v=t,this):new Ye(t)}function Ji(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(_){return function(S){return Promise.resolve(S).then(_,p)}}function l(_,S){r[_]&&(i[_]=function(A){return new Promise(function(E,M){o.push([_,A,E,M])>1||c(_,A)})},S&&(i[_]=S(i[_])))}function c(_,S){try{f(r[_](S))}catch(A){g(o[0][3],A)}}function f(_){_.value instanceof Ye?Promise.resolve(_.value.v).then(h,p):g(o[0][2],_)}function h(_){c("next",_)}function p(_){c("throw",_)}function g(_,S){_(S),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Qi(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof $5=="function"?$5(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(l,c){s=t[o](s),i(l,c,s.done,s.value)})}}function i(o,s,l,c){Promise.resolve(c).then(function(f){o({value:f,done:l})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sde(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:i8(n)}function i8(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function ade(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function G5(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!i8(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class lde{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new ude(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class ude{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),ade(o)}async sendMessage(e){var n;await this.sendPromise;const r=fr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,l;const c=await i,f=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let g=[];h!=null&&(g=(l=h.slice(p))!==null&&l!==void 0?l:[]);const _=f?[f]:[];this.recordHistory(r,_,g)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=fr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?G5(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return Ji(this,arguments,function*(){var i,o,s,l,c,f;const h=[];try{for(var p=!0,g=Qi(e),_;_=yield Ye(g.next()),i=_.done,!i;p=!0){l=_.value,p=!1;const S=l;if(sde(S)){const A=(f=(c=S.candidates)===null||c===void 0?void 0:c[0])===null||f===void 0?void 0:f.content;A!==void 0&&h.push(A)}yield yield Ye(S)}}catch(S){o={error:S}}finally{try{!p&&!i&&(s=g.return)&&(yield Ye(s.call(g)))}finally{if(o)throw o.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...G5(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Tp extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Tp.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cde(t){const e={},n=y(t,["file"]);return n!=null&&b(e,["file"],n),e}function fde(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function dde(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],J$(n)),e}function hde(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}function pde(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","file"],J$(n)),e}function mde(t){const e={},n=y(t,["uris"]);return n!=null&&b(e,["uris"],n),e}function gde(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function yde(t){const e={},n=y(t,["config"]);return n!=null&&gde(n,e),e}function vde(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["files"],o)}return e}function bde(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["files"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(e,["files"],i)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xde extends qs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Us.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async registerFiles(e){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(e){return this.registerFilesInternal(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=yde(e);return o=Me("files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=vde(c),h=new _ce;return Object.assign(h,f),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=cde(e);return o=Me("upload/v1beta/files",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=fde(c),h=new wce;return Object.assign(h,f),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=pde(e);return o=Me("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=dde(e);return o=Me("files/{file}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=hde(c),h=new Tce;return Object.assign(h,f),h})}}async registerFilesInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=mde(e);return o=Me("files:register",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=bde(c),h=new Ece;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function av(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function _de(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Ude(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function wde(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Tde(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Ede(t){const e={},n=y(t,["description"]);n!=null&&b(e,["description"],n);const r=y(t,["name"]);r!=null&&b(e,["name"],r);const i=y(t,["parameters"]);i!=null&&b(e,["parameters"],i);const o=y(t,["parametersJsonSchema"]);o!=null&&b(e,["parametersJsonSchema"],o);const s=y(t,["response"]);s!=null&&b(e,["response"],s);const l=y(t,["responseJsonSchema"]);if(l!=null&&b(e,["responseJsonSchema"],l),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function Sde(t){const e={},n=y(t,["modelSelectionConfig"]);n!=null&&b(e,["modelConfig"],n);const r=y(t,["responseJsonSchema"]);r!=null&&b(e,["responseJsonSchema"],r);const i=y(t,["audioTimestamp"]);i!=null&&b(e,["audioTimestamp"],i);const o=y(t,["candidateCount"]);o!=null&&b(e,["candidateCount"],o);const s=y(t,["enableAffectiveDialog"]);s!=null&&b(e,["enableAffectiveDialog"],s);const l=y(t,["frequencyPenalty"]);l!=null&&b(e,["frequencyPenalty"],l);const c=y(t,["logprobs"]);c!=null&&b(e,["logprobs"],c);const f=y(t,["maxOutputTokens"]);f!=null&&b(e,["maxOutputTokens"],f);const h=y(t,["mediaResolution"]);h!=null&&b(e,["mediaResolution"],h);const p=y(t,["presencePenalty"]);p!=null&&b(e,["presencePenalty"],p);const g=y(t,["responseLogprobs"]);g!=null&&b(e,["responseLogprobs"],g);const _=y(t,["responseMimeType"]);_!=null&&b(e,["responseMimeType"],_);const S=y(t,["responseModalities"]);S!=null&&b(e,["responseModalities"],S);const A=y(t,["responseSchema"]);A!=null&&b(e,["responseSchema"],A);const E=y(t,["routingConfig"]);E!=null&&b(e,["routingConfig"],E);const M=y(t,["seed"]);M!=null&&b(e,["seed"],M);const I=y(t,["speechConfig"]);I!=null&&b(e,["speechConfig"],I);const N=y(t,["stopSequences"]);N!=null&&b(e,["stopSequences"],N);const C=y(t,["temperature"]);C!=null&&b(e,["temperature"],C);const R=y(t,["thinkingConfig"]);R!=null&&b(e,["thinkingConfig"],R);const U=y(t,["topK"]);U!=null&&b(e,["topK"],U);const k=y(t,["topP"]);if(k!=null&&b(e,["topP"],k),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Ade(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Cde(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Ide(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],WN(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const _=y(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],_de(fr(S)));const A=y(t,["tools"]);if(e!==void 0&&A!=null){let U=Jf(A);Array.isArray(U)&&(U=U.map(k=>jde(Xf(k)))),b(e,["setup","tools"],U)}const E=y(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],Vde(E));const M=y(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&b(e,["setup","inputAudioTranscription"],M);const I=y(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","outputAudioTranscription"],I);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const C=y(t,["contextWindowCompression"]);e!==void 0&&C!=null&&b(e,["setup","contextWindowCompression"],C);const R=y(t,["proactivity"]);if(e!==void 0&&R!=null&&b(e,["setup","proactivity"],R),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function Nde(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],Sde(r));const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],WN(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const _=y(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],fr(S));const A=y(t,["tools"]);if(e!==void 0&&A!=null){let k=Jf(A);Array.isArray(k)&&(k=k.map(O=>Bde(Xf(O)))),b(e,["setup","tools"],k)}const E=y(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],E);const M=y(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&b(e,["setup","inputAudioTranscription"],M);const I=y(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","outputAudioTranscription"],I);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const C=y(t,["contextWindowCompression"]);e!==void 0&&C!=null&&b(e,["setup","contextWindowCompression"],C);const R=y(t,["proactivity"]);e!==void 0&&R!=null&&b(e,["setup","proactivity"],R);const U=y(t,["explicitVadSignal"]);return e!==void 0&&U!=null&&b(e,["setup","explicitVadSignal"],U),n}function Rde(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],_t(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],Ide(i,n)),n}function Pde(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],_t(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],Nde(i,n)),n}function kde(t){const e={},n=y(t,["musicGenerationConfig"]);return n!=null&&b(e,["musicGenerationConfig"],n),e}function Mde(t){const e={},n=y(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),b(e,["weightedPrompts"],r)}return e}function Ode(t){const e={},n=y(t,["media"]);if(n!=null){let f=H$(n);Array.isArray(f)&&(f=f.map(h=>av(h))),b(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],av(W$(r)));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&b(e,["video"],av(K$(o)));const s=y(t,["text"]);s!=null&&b(e,["text"],s);const l=y(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const c=y(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function Dde(t){const e={},n=y(t,["media"]);if(n!=null){let f=H$(n);Array.isArray(f)&&(f=f.map(h=>h)),b(e,["mediaChunks"],f)}const r=y(t,["audio"]);r!=null&&b(e,["audio"],W$(r));const i=y(t,["audioStreamEnd"]);i!=null&&b(e,["audioStreamEnd"],i);const o=y(t,["video"]);o!=null&&b(e,["video"],K$(o));const s=y(t,["text"]);s!=null&&b(e,["text"],s);const l=y(t,["activityStart"]);l!=null&&b(e,["activityStart"],l);const c=y(t,["activityEnd"]);return c!=null&&b(e,["activityEnd"],c),e}function Lde(t){const e={},n=y(t,["setupComplete"]);n!=null&&b(e,["setupComplete"],n);const r=y(t,["serverContent"]);r!=null&&b(e,["serverContent"],r);const i=y(t,["toolCall"]);i!=null&&b(e,["toolCall"],i);const o=y(t,["toolCallCancellation"]);o!=null&&b(e,["toolCallCancellation"],o);const s=y(t,["usageMetadata"]);s!=null&&b(e,["usageMetadata"],Fde(s));const l=y(t,["goAway"]);l!=null&&b(e,["goAway"],l);const c=y(t,["sessionResumptionUpdate"]);c!=null&&b(e,["sessionResumptionUpdate"],c);const f=y(t,["voiceActivityDetectionSignal"]);f!=null&&b(e,["voiceActivityDetectionSignal"],f);const h=y(t,["voiceActivity"]);return h!=null&&b(e,["voiceActivity"],qde(h)),e}function Ude(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],wde(o));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],Tde(s));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],av(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Vde(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function jde(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],Ade(s));const l=y(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],Cde(l));const c=y(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}function Bde(t){const e={},n=y(t,["retrieval"]);n!=null&&b(e,["retrieval"],n);const r=y(t,["computerUse"]);if(r!=null&&b(e,["computerUse"],r),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=y(t,["codeExecution"]);i!=null&&b(e,["codeExecution"],i);const o=y(t,["enterpriseWebSearch"]);o!=null&&b(e,["enterpriseWebSearch"],o);const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>Ede(g))),b(e,["functionDeclarations"],p)}const l=y(t,["googleMaps"]);l!=null&&b(e,["googleMaps"],l);const c=y(t,["googleSearch"]);c!=null&&b(e,["googleSearch"],c);const f=y(t,["googleSearchRetrieval"]);f!=null&&b(e,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&b(e,["urlContext"],h),e}function Fde(t){const e={},n=y(t,["promptTokenCount"]);n!=null&&b(e,["promptTokenCount"],n);const r=y(t,["cachedContentTokenCount"]);r!=null&&b(e,["cachedContentTokenCount"],r);const i=y(t,["candidatesTokenCount"]);i!=null&&b(e,["responseTokenCount"],i);const o=y(t,["toolUsePromptTokenCount"]);o!=null&&b(e,["toolUsePromptTokenCount"],o);const s=y(t,["thoughtsTokenCount"]);s!=null&&b(e,["thoughtsTokenCount"],s);const l=y(t,["totalTokenCount"]);l!=null&&b(e,["totalTokenCount"],l);const c=y(t,["promptTokensDetails"]);if(c!=null){let _=c;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["promptTokensDetails"],_)}const f=y(t,["cacheTokensDetails"]);if(f!=null){let _=f;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["cacheTokensDetails"],_)}const h=y(t,["candidatesTokensDetails"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["responseTokensDetails"],_)}const p=y(t,["toolUsePromptTokensDetails"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>S)),b(e,["toolUsePromptTokensDetails"],_)}const g=y(t,["trafficType"]);return g!=null&&b(e,["trafficType"],g),e}function qde(t){const e={},n=y(t,["type"]);return n!=null&&b(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zde(t,e){const n={},r=y(t,["data"]);if(r!=null&&b(n,["data"],r),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=y(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function $de(t,e){const n={},r=y(t,["content"]);r!=null&&b(n,["content"],r);const i=y(t,["citationMetadata"]);i!=null&&b(n,["citationMetadata"],Gde(i));const o=y(t,["tokenCount"]);o!=null&&b(n,["tokenCount"],o);const s=y(t,["finishReason"]);s!=null&&b(n,["finishReason"],s);const l=y(t,["avgLogprobs"]);l!=null&&b(n,["avgLogprobs"],l);const c=y(t,["groundingMetadata"]);c!=null&&b(n,["groundingMetadata"],c);const f=y(t,["index"]);f!=null&&b(n,["index"],f);const h=y(t,["logprobsResult"]);h!=null&&b(n,["logprobsResult"],h);const p=y(t,["safetyRatings"]);if(p!=null){let _=p;Array.isArray(_)&&(_=_.map(S=>S)),b(n,["safetyRatings"],_)}const g=y(t,["urlContextMetadata"]);return g!=null&&b(n,["urlContextMetadata"],g),n}function Gde(t,e){const n={},r=y(t,["citationSources"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(n,["citations"],i)}return n}function Hde(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["contents"]);if(o!=null){let s=Ai(o);Array.isArray(s)&&(s=s.map(l=>l)),b(r,["contents"],s)}return r}function Kde(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["tokensInfo"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(n,["tokensInfo"],o)}return n}function Wde(t,e){const n={},r=y(t,["values"]);r!=null&&b(n,["values"],r);const i=y(t,["statistics"]);return i!=null&&b(n,["statistics"],Yde(i)),n}function Yde(t,e){const n={},r=y(t,["truncated"]);r!=null&&b(n,["truncated"],r);const i=y(t,["token_count"]);return i!=null&&b(n,["tokenCount"],i),n}function _b(t,e){const n={},r=y(t,["parts"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>ipe(s))),b(n,["parts"],o)}const i=y(t,["role"]);return i!=null&&b(n,["role"],i),n}function Xde(t,e){const n={},r=y(t,["controlType"]);r!=null&&b(n,["controlType"],r);const i=y(t,["enableControlImageComputation"]);return i!=null&&b(n,["computeControl"],i),n}function Jde(t,e){const n={};if(y(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(y(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(y(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function Qde(t,e,n){const r={},i=y(t,["systemInstruction"]);e!==void 0&&i!=null&&b(e,["systemInstruction"],fr(i));const o=y(t,["tools"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>l8(c))),b(e,["tools"],l)}const s=y(t,["generationConfig"]);return e!==void 0&&s!=null&&b(e,["generationConfig"],zhe(s)),r}function Zde(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["contents"]);if(o!=null){let l=Ai(o);Array.isArray(l)&&(l=l.map(c=>_b(c))),b(r,["contents"],l)}const s=y(e,["config"]);return s!=null&&Jde(s),r}function ehe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["contents"]);if(o!=null){let l=Ai(o);Array.isArray(l)&&(l=l.map(c=>c)),b(r,["contents"],l)}const s=y(e,["config"]);return s!=null&&Qde(s,r),r}function the(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);i!=null&&b(n,["totalTokens"],i);const o=y(t,["cachedContentTokenCount"]);return o!=null&&b(n,["cachedContentTokenCount"],o),n}function nhe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["totalTokens"]);return i!=null&&b(n,["totalTokens"],i),n}function rhe(t,e,n){const r={},i=y(e,["model"]);return i!=null&&b(r,["_url","name"],_t(t,i)),r}function ihe(t,e,n){const r={},i=y(e,["model"]);return i!=null&&b(r,["_url","name"],_t(t,i)),r}function ohe(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function she(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function ahe(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&b(e,["parameters","negativePrompt"],o);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const l=y(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&b(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&b(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&b(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&b(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&b(e,["parameters","includeSafetyAttributes"],g);const _=y(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const S=y(t,["language"]);e!==void 0&&S!=null&&b(e,["parameters","language"],S);const A=y(t,["outputMimeType"]);e!==void 0&&A!=null&&b(e,["parameters","outputOptions","mimeType"],A);const E=y(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&b(e,["parameters","outputOptions","compressionQuality"],E);const M=y(t,["addWatermark"]);e!==void 0&&M!=null&&b(e,["parameters","addWatermark"],M);const I=y(t,["labels"]);e!==void 0&&I!=null&&b(e,["labels"],I);const N=y(t,["editMode"]);e!==void 0&&N!=null&&b(e,["parameters","editMode"],N);const C=y(t,["baseSteps"]);return e!==void 0&&C!=null&&b(e,["parameters","editConfig","baseSteps"],C),r}function lhe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=y(e,["referenceImages"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(f=>cpe(f))),b(r,["instances[0]","referenceImages"],c)}const l=y(e,["config"]);return l!=null&&ahe(l,r),r}function uhe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wb(s))),b(n,["generatedImages"],o)}return n}function che(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&b(e,["requests[]","taskType"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&b(e,["requests[]","title"],o);const s=y(t,["outputDimensionality"]);if(e!==void 0&&s!=null&&b(e,["requests[]","outputDimensionality"],s),y(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(y(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return r}function fhe(t,e,n){const r={},i=y(t,["taskType"]);e!==void 0&&i!=null&&b(e,["instances[]","task_type"],i);const o=y(t,["title"]);e!==void 0&&o!=null&&b(e,["instances[]","title"],o);const s=y(t,["outputDimensionality"]);e!==void 0&&s!=null&&b(e,["parameters","outputDimensionality"],s);const l=y(t,["mimeType"]);e!==void 0&&l!=null&&b(e,["instances[]","mimeType"],l);const c=y(t,["autoTruncate"]);return e!==void 0&&c!=null&&b(e,["parameters","autoTruncate"],c),r}function dhe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["contents"]);if(o!=null){let c=GN(t,o);Array.isArray(c)&&(c=c.map(f=>f)),b(r,["requests[]","content"],c)}const s=y(e,["config"]);s!=null&&che(s,r);const l=y(e,["model"]);return l!==void 0&&b(r,["requests[]","model"],_t(t,l)),r}function hhe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["contents"]);if(o!=null){let l=GN(t,o);Array.isArray(l)&&(l=l.map(c=>c)),b(r,["instances[]","content"],l)}const s=y(e,["config"]);return s!=null&&fhe(s,r),r}function phe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>l)),b(n,["embeddings"],s)}const o=y(t,["metadata"]);return o!=null&&b(n,["metadata"],o),n}function mhe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["predictions[]","embeddings"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>Wde(l))),b(n,["embeddings"],s)}const o=y(t,["metadata"]);return o!=null&&b(n,["metadata"],o),n}function ghe(t,e){const n={},r=y(t,["endpoint"]);r!=null&&b(n,["name"],r);const i=y(t,["deployedModelId"]);return i!=null&&b(n,["deployedModelId"],i),n}function yhe(t,e){const n={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["fileUri"]);r!=null&&b(n,["fileUri"],r);const i=y(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function vhe(t,e){const n={},r=y(t,["id"]);r!=null&&b(n,["id"],r);const i=y(t,["args"]);i!=null&&b(n,["args"],i);const o=y(t,["name"]);if(o!=null&&b(n,["name"],o),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return n}function bhe(t,e){const n={},r=y(t,["allowedFunctionNames"]);r!=null&&b(n,["allowedFunctionNames"],r);const i=y(t,["mode"]);if(i!=null&&b(n,["mode"],i),y(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return n}function xhe(t,e){const n={},r=y(t,["description"]);r!=null&&b(n,["description"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["parameters"]);o!=null&&b(n,["parameters"],o);const s=y(t,["parametersJsonSchema"]);s!=null&&b(n,["parametersJsonSchema"],s);const l=y(t,["response"]);l!=null&&b(n,["response"],l);const c=y(t,["responseJsonSchema"]);if(c!=null&&b(n,["responseJsonSchema"],c),y(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return n}function _he(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],_b(fr(o)));const s=y(e,["temperature"]);s!=null&&b(i,["temperature"],s);const l=y(e,["topP"]);l!=null&&b(i,["topP"],l);const c=y(e,["topK"]);c!=null&&b(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&b(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&b(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&b(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&b(i,["responseLogprobs"],g);const _=y(e,["logprobs"]);_!=null&&b(i,["logprobs"],_);const S=y(e,["presencePenalty"]);S!=null&&b(i,["presencePenalty"],S);const A=y(e,["frequencyPenalty"]);A!=null&&b(i,["frequencyPenalty"],A);const E=y(e,["seed"]);E!=null&&b(i,["seed"],E);const M=y(e,["responseMimeType"]);M!=null&&b(i,["responseMimeType"],M);const I=y(e,["responseSchema"]);I!=null&&b(i,["responseSchema"],HN(I));const N=y(e,["responseJsonSchema"]);if(N!=null&&b(i,["responseJsonSchema"],N),y(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(y(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=y(e,["safetySettings"]);if(n!==void 0&&C!=null){let Q=C;Array.isArray(Q)&&(Q=Q.map(oe=>fpe(oe))),b(n,["safetySettings"],Q)}const R=y(e,["tools"]);if(n!==void 0&&R!=null){let Q=Jf(R);Array.isArray(Q)&&(Q=Q.map(oe=>vpe(Xf(oe)))),b(n,["tools"],Q)}const U=y(e,["toolConfig"]);if(n!==void 0&&U!=null&&b(n,["toolConfig"],ype(U)),y(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=y(e,["cachedContent"]);n!==void 0&&k!=null&&b(n,["cachedContent"],zs(t,k));const O=y(e,["responseModalities"]);O!=null&&b(i,["responseModalities"],O);const V=y(e,["mediaResolution"]);V!=null&&b(i,["mediaResolution"],V);const F=y(e,["speechConfig"]);if(F!=null&&b(i,["speechConfig"],KN(F)),y(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const q=y(e,["thinkingConfig"]);q!=null&&b(i,["thinkingConfig"],q);const z=y(e,["imageConfig"]);z!=null&&b(i,["imageConfig"],Whe(z));const B=y(e,["enableEnhancedCivicAnswers"]);if(B!=null&&b(i,["enableEnhancedCivicAnswers"],B),y(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return i}function whe(t,e,n,r){const i={},o=y(e,["systemInstruction"]);n!==void 0&&o!=null&&b(n,["systemInstruction"],fr(o));const s=y(e,["temperature"]);s!=null&&b(i,["temperature"],s);const l=y(e,["topP"]);l!=null&&b(i,["topP"],l);const c=y(e,["topK"]);c!=null&&b(i,["topK"],c);const f=y(e,["candidateCount"]);f!=null&&b(i,["candidateCount"],f);const h=y(e,["maxOutputTokens"]);h!=null&&b(i,["maxOutputTokens"],h);const p=y(e,["stopSequences"]);p!=null&&b(i,["stopSequences"],p);const g=y(e,["responseLogprobs"]);g!=null&&b(i,["responseLogprobs"],g);const _=y(e,["logprobs"]);_!=null&&b(i,["logprobs"],_);const S=y(e,["presencePenalty"]);S!=null&&b(i,["presencePenalty"],S);const A=y(e,["frequencyPenalty"]);A!=null&&b(i,["frequencyPenalty"],A);const E=y(e,["seed"]);E!=null&&b(i,["seed"],E);const M=y(e,["responseMimeType"]);M!=null&&b(i,["responseMimeType"],M);const I=y(e,["responseSchema"]);I!=null&&b(i,["responseSchema"],HN(I));const N=y(e,["responseJsonSchema"]);N!=null&&b(i,["responseJsonSchema"],N);const C=y(e,["routingConfig"]);C!=null&&b(i,["routingConfig"],C);const R=y(e,["modelSelectionConfig"]);R!=null&&b(i,["modelConfig"],R);const U=y(e,["safetySettings"]);if(n!==void 0&&U!=null){let te=U;Array.isArray(te)&&(te=te.map(ce=>ce)),b(n,["safetySettings"],te)}const k=y(e,["tools"]);if(n!==void 0&&k!=null){let te=Jf(k);Array.isArray(te)&&(te=te.map(ce=>l8(Xf(ce)))),b(n,["tools"],te)}const O=y(e,["toolConfig"]);n!==void 0&&O!=null&&b(n,["toolConfig"],O);const V=y(e,["labels"]);n!==void 0&&V!=null&&b(n,["labels"],V);const F=y(e,["cachedContent"]);n!==void 0&&F!=null&&b(n,["cachedContent"],zs(t,F));const q=y(e,["responseModalities"]);q!=null&&b(i,["responseModalities"],q);const z=y(e,["mediaResolution"]);z!=null&&b(i,["mediaResolution"],z);const B=y(e,["speechConfig"]);B!=null&&b(i,["speechConfig"],KN(B));const Q=y(e,["audioTimestamp"]);Q!=null&&b(i,["audioTimestamp"],Q);const oe=y(e,["thinkingConfig"]);oe!=null&&b(i,["thinkingConfig"],oe);const K=y(e,["imageConfig"]);if(K!=null&&b(i,["imageConfig"],Yhe(K)),y(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const X=y(e,["modelArmorConfig"]);return n!==void 0&&X!=null&&b(n,["modelArmorConfig"],X),i}function H5(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["contents"]);if(o!=null){let l=Ai(o);Array.isArray(l)&&(l=l.map(c=>_b(c))),b(r,["contents"],l)}const s=y(e,["config"]);return s!=null&&b(r,["generationConfig"],_he(t,s,r)),r}function K5(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["contents"]);if(o!=null){let l=Ai(o);Array.isArray(l)&&(l=l.map(c=>c)),b(r,["contents"],l)}const s=y(e,["config"]);return s!=null&&b(r,["generationConfig"],whe(t,s,r)),r}function W5(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(h=>$de(h))),b(n,["candidates"],f)}const o=y(t,["modelVersion"]);o!=null&&b(n,["modelVersion"],o);const s=y(t,["promptFeedback"]);s!=null&&b(n,["promptFeedback"],s);const l=y(t,["responseId"]);l!=null&&b(n,["responseId"],l);const c=y(t,["usageMetadata"]);return c!=null&&b(n,["usageMetadata"],c),n}function Y5(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["candidates"]);if(i!=null){let h=i;Array.isArray(h)&&(h=h.map(p=>p)),b(n,["candidates"],h)}const o=y(t,["createTime"]);o!=null&&b(n,["createTime"],o);const s=y(t,["modelVersion"]);s!=null&&b(n,["modelVersion"],s);const l=y(t,["promptFeedback"]);l!=null&&b(n,["promptFeedback"],l);const c=y(t,["responseId"]);c!=null&&b(n,["responseId"],c);const f=y(t,["usageMetadata"]);return f!=null&&b(n,["usageMetadata"],f),n}function The(t,e,n){const r={};if(y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i);const o=y(t,["aspectRatio"]);e!==void 0&&o!=null&&b(e,["parameters","aspectRatio"],o);const s=y(t,["guidanceScale"]);if(e!==void 0&&s!=null&&b(e,["parameters","guidanceScale"],s),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=y(t,["safetyFilterLevel"]);e!==void 0&&l!=null&&b(e,["parameters","safetySetting"],l);const c=y(t,["personGeneration"]);e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c);const f=y(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&b(e,["parameters","includeSafetyAttributes"],f);const h=y(t,["includeRaiReason"]);e!==void 0&&h!=null&&b(e,["parameters","includeRaiReason"],h);const p=y(t,["language"]);e!==void 0&&p!=null&&b(e,["parameters","language"],p);const g=y(t,["outputMimeType"]);e!==void 0&&g!=null&&b(e,["parameters","outputOptions","mimeType"],g);const _=y(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&b(e,["parameters","outputOptions","compressionQuality"],_),y(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=y(t,["imageSize"]);if(e!==void 0&&S!=null&&b(e,["parameters","sampleImageSize"],S),y(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return r}function Ehe(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=y(t,["negativePrompt"]);e!==void 0&&o!=null&&b(e,["parameters","negativePrompt"],o);const s=y(t,["numberOfImages"]);e!==void 0&&s!=null&&b(e,["parameters","sampleCount"],s);const l=y(t,["aspectRatio"]);e!==void 0&&l!=null&&b(e,["parameters","aspectRatio"],l);const c=y(t,["guidanceScale"]);e!==void 0&&c!=null&&b(e,["parameters","guidanceScale"],c);const f=y(t,["seed"]);e!==void 0&&f!=null&&b(e,["parameters","seed"],f);const h=y(t,["safetyFilterLevel"]);e!==void 0&&h!=null&&b(e,["parameters","safetySetting"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&b(e,["parameters","personGeneration"],p);const g=y(t,["includeSafetyAttributes"]);e!==void 0&&g!=null&&b(e,["parameters","includeSafetyAttributes"],g);const _=y(t,["includeRaiReason"]);e!==void 0&&_!=null&&b(e,["parameters","includeRaiReason"],_);const S=y(t,["language"]);e!==void 0&&S!=null&&b(e,["parameters","language"],S);const A=y(t,["outputMimeType"]);e!==void 0&&A!=null&&b(e,["parameters","outputOptions","mimeType"],A);const E=y(t,["outputCompressionQuality"]);e!==void 0&&E!=null&&b(e,["parameters","outputOptions","compressionQuality"],E);const M=y(t,["addWatermark"]);e!==void 0&&M!=null&&b(e,["parameters","addWatermark"],M);const I=y(t,["labels"]);e!==void 0&&I!=null&&b(e,["labels"],I);const N=y(t,["imageSize"]);e!==void 0&&N!=null&&b(e,["parameters","sampleImageSize"],N);const C=y(t,["enhancePrompt"]);return e!==void 0&&C!=null&&b(e,["parameters","enhancePrompt"],C),r}function She(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=y(e,["config"]);return s!=null&&The(s,r),r}function Ahe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=y(e,["config"]);return s!=null&&Ehe(s,r),r}function Che(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>jhe(l))),b(n,["generatedImages"],s)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&b(n,["positivePromptSafetyAttributes"],s8(o)),n}function Ihe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(l=>wb(l))),b(n,["generatedImages"],s)}const o=y(t,["positivePromptSafetyAttributes"]);return o!=null&&b(n,["positivePromptSafetyAttributes"],a8(o)),n}function Nhe(t,e,n){const r={},i=y(t,["numberOfVideos"]);if(e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i),y(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(y(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const o=y(t,["durationSeconds"]);if(e!==void 0&&o!=null&&b(e,["parameters","durationSeconds"],o),y(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=y(t,["aspectRatio"]);e!==void 0&&s!=null&&b(e,["parameters","aspectRatio"],s);const l=y(t,["resolution"]);e!==void 0&&l!=null&&b(e,["parameters","resolution"],l);const c=y(t,["personGeneration"]);if(e!==void 0&&c!=null&&b(e,["parameters","personGeneration"],c),y(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const f=y(t,["negativePrompt"]);e!==void 0&&f!=null&&b(e,["parameters","negativePrompt"],f);const h=y(t,["enhancePrompt"]);if(e!==void 0&&h!=null&&b(e,["parameters","enhancePrompt"],h),y(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=y(t,["lastFrame"]);e!==void 0&&p!=null&&b(e,["instances[0]","lastFrame"],Tb(p));const g=y(t,["referenceImages"]);if(e!==void 0&&g!=null){let _=g;Array.isArray(_)&&(_=_.map(S=>Ppe(S))),b(e,["instances[0]","referenceImages"],_)}if(y(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(y(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return r}function Rhe(t,e,n){const r={},i=y(t,["numberOfVideos"]);e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i);const o=y(t,["outputGcsUri"]);e!==void 0&&o!=null&&b(e,["parameters","storageUri"],o);const s=y(t,["fps"]);e!==void 0&&s!=null&&b(e,["parameters","fps"],s);const l=y(t,["durationSeconds"]);e!==void 0&&l!=null&&b(e,["parameters","durationSeconds"],l);const c=y(t,["seed"]);e!==void 0&&c!=null&&b(e,["parameters","seed"],c);const f=y(t,["aspectRatio"]);e!==void 0&&f!=null&&b(e,["parameters","aspectRatio"],f);const h=y(t,["resolution"]);e!==void 0&&h!=null&&b(e,["parameters","resolution"],h);const p=y(t,["personGeneration"]);e!==void 0&&p!=null&&b(e,["parameters","personGeneration"],p);const g=y(t,["pubsubTopic"]);e!==void 0&&g!=null&&b(e,["parameters","pubsubTopic"],g);const _=y(t,["negativePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","negativePrompt"],_);const S=y(t,["enhancePrompt"]);e!==void 0&&S!=null&&b(e,["parameters","enhancePrompt"],S);const A=y(t,["generateAudio"]);e!==void 0&&A!=null&&b(e,["parameters","generateAudio"],A);const E=y(t,["lastFrame"]);e!==void 0&&E!=null&&b(e,["instances[0]","lastFrame"],io(E));const M=y(t,["referenceImages"]);if(e!==void 0&&M!=null){let C=M;Array.isArray(C)&&(C=C.map(R=>kpe(R))),b(e,["instances[0]","referenceImages"],C)}const I=y(t,["mask"]);e!==void 0&&I!=null&&b(e,["instances[0]","mask"],Rpe(I));const N=y(t,["compressionQuality"]);return e!==void 0&&N!=null&&b(e,["parameters","compressionQuality"],N),r}function Phe(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const i=y(t,["metadata"]);i!=null&&b(n,["metadata"],i);const o=y(t,["done"]);o!=null&&b(n,["done"],o);const s=y(t,["error"]);s!=null&&b(n,["error"],s);const l=y(t,["response","generateVideoResponse"]);return l!=null&&b(n,["response"],Dhe(l)),n}function khe(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const i=y(t,["metadata"]);i!=null&&b(n,["metadata"],i);const o=y(t,["done"]);o!=null&&b(n,["done"],o);const s=y(t,["error"]);s!=null&&b(n,["error"],s);const l=y(t,["response"]);return l!=null&&b(n,["response"],Lhe(l)),n}function Mhe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=y(e,["image"]);s!=null&&b(r,["instances[0]","image"],Tb(s));const l=y(e,["video"]);l!=null&&b(r,["instances[0]","video"],u8(l));const c=y(e,["source"]);c!=null&&Uhe(c,r);const f=y(e,["config"]);return f!=null&&Nhe(f,r),r}function Ohe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["prompt"]);o!=null&&b(r,["instances[0]","prompt"],o);const s=y(e,["image"]);s!=null&&b(r,["instances[0]","image"],io(s));const l=y(e,["video"]);l!=null&&b(r,["instances[0]","video"],c8(l));const c=y(e,["source"]);c!=null&&Vhe(c,r);const f=y(e,["config"]);return f!=null&&Rhe(f,r),r}function Dhe(t,e){const n={},r=y(t,["generatedSamples"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>Fhe(l))),b(n,["generatedVideos"],s)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&b(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function Lhe(t,e){const n={},r=y(t,["videos"]);if(r!=null){let s=r;Array.isArray(s)&&(s=s.map(l=>qhe(l))),b(n,["generatedVideos"],s)}const i=y(t,["raiMediaFilteredCount"]);i!=null&&b(n,["raiMediaFilteredCount"],i);const o=y(t,["raiMediaFilteredReasons"]);return o!=null&&b(n,["raiMediaFilteredReasons"],o),n}function Uhe(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&b(e,["instances[0]","image"],Tb(o));const s=y(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],u8(s)),r}function Vhe(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&b(e,["instances[0]","image"],io(o));const s=y(t,["video"]);return e!==void 0&&s!=null&&b(e,["instances[0]","video"],c8(s)),r}function jhe(t,e){const n={},r=y(t,["_self"]);r!=null&&b(n,["image"],Xhe(r));const i=y(t,["raiFilteredReason"]);i!=null&&b(n,["raiFilteredReason"],i);const o=y(t,["_self"]);return o!=null&&b(n,["safetyAttributes"],s8(o)),n}function wb(t,e){const n={},r=y(t,["_self"]);r!=null&&b(n,["image"],o8(r));const i=y(t,["raiFilteredReason"]);i!=null&&b(n,["raiFilteredReason"],i);const o=y(t,["_self"]);o!=null&&b(n,["safetyAttributes"],a8(o));const s=y(t,["prompt"]);return s!=null&&b(n,["enhancedPrompt"],s),n}function Bhe(t,e){const n={},r=y(t,["_self"]);r!=null&&b(n,["mask"],o8(r));const i=y(t,["labels"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(n,["labels"],o)}return n}function Fhe(t,e){const n={},r=y(t,["video"]);return r!=null&&b(n,["video"],Ipe(r)),n}function qhe(t,e){const n={},r=y(t,["_self"]);return r!=null&&b(n,["video"],Npe(r)),n}function zhe(t,e){const n={},r=y(t,["modelSelectionConfig"]);r!=null&&b(n,["modelConfig"],r);const i=y(t,["responseJsonSchema"]);i!=null&&b(n,["responseJsonSchema"],i);const o=y(t,["audioTimestamp"]);o!=null&&b(n,["audioTimestamp"],o);const s=y(t,["candidateCount"]);s!=null&&b(n,["candidateCount"],s);const l=y(t,["enableAffectiveDialog"]);l!=null&&b(n,["enableAffectiveDialog"],l);const c=y(t,["frequencyPenalty"]);c!=null&&b(n,["frequencyPenalty"],c);const f=y(t,["logprobs"]);f!=null&&b(n,["logprobs"],f);const h=y(t,["maxOutputTokens"]);h!=null&&b(n,["maxOutputTokens"],h);const p=y(t,["mediaResolution"]);p!=null&&b(n,["mediaResolution"],p);const g=y(t,["presencePenalty"]);g!=null&&b(n,["presencePenalty"],g);const _=y(t,["responseLogprobs"]);_!=null&&b(n,["responseLogprobs"],_);const S=y(t,["responseMimeType"]);S!=null&&b(n,["responseMimeType"],S);const A=y(t,["responseModalities"]);A!=null&&b(n,["responseModalities"],A);const E=y(t,["responseSchema"]);E!=null&&b(n,["responseSchema"],E);const M=y(t,["routingConfig"]);M!=null&&b(n,["routingConfig"],M);const I=y(t,["seed"]);I!=null&&b(n,["seed"],I);const N=y(t,["speechConfig"]);N!=null&&b(n,["speechConfig"],N);const C=y(t,["stopSequences"]);C!=null&&b(n,["stopSequences"],C);const R=y(t,["temperature"]);R!=null&&b(n,["temperature"],R);const U=y(t,["thinkingConfig"]);U!=null&&b(n,["thinkingConfig"],U);const k=y(t,["topK"]);k!=null&&b(n,["topK"],k);const O=y(t,["topP"]);if(O!=null&&b(n,["topP"],O),y(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function $he(t,e,n){const r={},i=y(e,["model"]);return i!=null&&b(r,["_url","name"],_t(t,i)),r}function Ghe(t,e,n){const r={},i=y(e,["model"]);return i!=null&&b(r,["_url","name"],_t(t,i)),r}function Hhe(t,e){const n={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const r=y(t,["enableWidget"]);return r!=null&&b(n,["enableWidget"],r),n}function Khe(t,e){const n={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const r=y(t,["timeRangeFilter"]);return r!=null&&b(n,["timeRangeFilter"],r),n}function Whe(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const i=y(t,["imageSize"]);if(i!=null&&b(n,["imageSize"],i),y(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(y(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(y(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return n}function Yhe(t,e){const n={},r=y(t,["aspectRatio"]);r!=null&&b(n,["aspectRatio"],r);const i=y(t,["imageSize"]);i!=null&&b(n,["imageSize"],i);const o=y(t,["personGeneration"]);o!=null&&b(n,["personGeneration"],o);const s=y(t,["outputMimeType"]);s!=null&&b(n,["imageOutputOptions","mimeType"],s);const l=y(t,["outputCompressionQuality"]);return l!=null&&b(n,["imageOutputOptions","compressionQuality"],l),n}function Xhe(t,e){const n={},r=y(t,["bytesBase64Encoded"]);r!=null&&b(n,["imageBytes"],fl(r));const i=y(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function o8(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&b(n,["imageBytes"],fl(i));const o=y(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Tb(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const r=y(t,["imageBytes"]);r!=null&&b(n,["bytesBase64Encoded"],fl(r));const i=y(t,["mimeType"]);return i!=null&&b(n,["mimeType"],i),n}function io(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["gcsUri"],r);const i=y(t,["imageBytes"]);i!=null&&b(n,["bytesBase64Encoded"],fl(i));const o=y(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Jhe(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const l=y(e,["filter"]);n!==void 0&&l!=null&&b(n,["_query","filter"],l);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&b(n,["_url","models_url"],Q$(t,c)),i}function Qhe(t,e,n,r){const i={},o=y(e,["pageSize"]);n!==void 0&&o!=null&&b(n,["_query","pageSize"],o);const s=y(e,["pageToken"]);n!==void 0&&s!=null&&b(n,["_query","pageToken"],s);const l=y(e,["filter"]);n!==void 0&&l!=null&&b(n,["_query","filter"],l);const c=y(e,["queryBase"]);return n!==void 0&&c!=null&&b(n,["_url","models_url"],Q$(t,c)),i}function Zhe(t,e,n){const r={},i=y(e,["config"]);return i!=null&&Jhe(t,i,r),r}function epe(t,e,n){const r={},i=y(e,["config"]);return i!=null&&Qhe(t,i,r),r}function tpe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let s=Z$(o);Array.isArray(s)&&(s=s.map(l=>qA(l))),b(n,["models"],s)}return n}function npe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["_self"]);if(o!=null){let s=Z$(o);Array.isArray(s)&&(s=s.map(l=>zA(l))),b(n,["models"],s)}return n}function rpe(t,e){const n={},r=y(t,["maskMode"]);r!=null&&b(n,["maskMode"],r);const i=y(t,["segmentationClasses"]);i!=null&&b(n,["maskClasses"],i);const o=y(t,["maskDilation"]);return o!=null&&b(n,["dilation"],o),n}function qA(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const i=y(t,["displayName"]);i!=null&&b(n,["displayName"],i);const o=y(t,["description"]);o!=null&&b(n,["description"],o);const s=y(t,["version"]);s!=null&&b(n,["version"],s);const l=y(t,["_self"]);l!=null&&b(n,["tunedModelInfo"],bpe(l));const c=y(t,["inputTokenLimit"]);c!=null&&b(n,["inputTokenLimit"],c);const f=y(t,["outputTokenLimit"]);f!=null&&b(n,["outputTokenLimit"],f);const h=y(t,["supportedGenerationMethods"]);h!=null&&b(n,["supportedActions"],h);const p=y(t,["temperature"]);p!=null&&b(n,["temperature"],p);const g=y(t,["maxTemperature"]);g!=null&&b(n,["maxTemperature"],g);const _=y(t,["topP"]);_!=null&&b(n,["topP"],_);const S=y(t,["topK"]);S!=null&&b(n,["topK"],S);const A=y(t,["thinking"]);return A!=null&&b(n,["thinking"],A),n}function zA(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["name"],r);const i=y(t,["displayName"]);i!=null&&b(n,["displayName"],i);const o=y(t,["description"]);o!=null&&b(n,["description"],o);const s=y(t,["versionId"]);s!=null&&b(n,["version"],s);const l=y(t,["deployedModels"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(_=>ghe(_))),b(n,["endpoints"],g)}const c=y(t,["labels"]);c!=null&&b(n,["labels"],c);const f=y(t,["_self"]);f!=null&&b(n,["tunedModelInfo"],xpe(f));const h=y(t,["defaultCheckpointId"]);h!=null&&b(n,["defaultCheckpointId"],h);const p=y(t,["checkpoints"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(_=>_)),b(n,["checkpoints"],g)}return n}function ipe(t,e){const n={},r=y(t,["mediaResolution"]);r!=null&&b(n,["mediaResolution"],r);const i=y(t,["codeExecutionResult"]);i!=null&&b(n,["codeExecutionResult"],i);const o=y(t,["executableCode"]);o!=null&&b(n,["executableCode"],o);const s=y(t,["fileData"]);s!=null&&b(n,["fileData"],yhe(s));const l=y(t,["functionCall"]);l!=null&&b(n,["functionCall"],vhe(l));const c=y(t,["functionResponse"]);c!=null&&b(n,["functionResponse"],c);const f=y(t,["inlineData"]);f!=null&&b(n,["inlineData"],zde(f));const h=y(t,["text"]);h!=null&&b(n,["text"],h);const p=y(t,["thought"]);p!=null&&b(n,["thought"],p);const g=y(t,["thoughtSignature"]);g!=null&&b(n,["thoughtSignature"],g);const _=y(t,["videoMetadata"]);return _!=null&&b(n,["videoMetadata"],_),n}function ope(t,e){const n={},r=y(t,["productImage"]);return r!=null&&b(n,["image"],io(r)),n}function spe(t,e,n){const r={},i=y(t,["numberOfImages"]);e!==void 0&&i!=null&&b(e,["parameters","sampleCount"],i);const o=y(t,["baseSteps"]);e!==void 0&&o!=null&&b(e,["parameters","baseSteps"],o);const s=y(t,["outputGcsUri"]);e!==void 0&&s!=null&&b(e,["parameters","storageUri"],s);const l=y(t,["seed"]);e!==void 0&&l!=null&&b(e,["parameters","seed"],l);const c=y(t,["safetyFilterLevel"]);e!==void 0&&c!=null&&b(e,["parameters","safetySetting"],c);const f=y(t,["personGeneration"]);e!==void 0&&f!=null&&b(e,["parameters","personGeneration"],f);const h=y(t,["addWatermark"]);e!==void 0&&h!=null&&b(e,["parameters","addWatermark"],h);const p=y(t,["outputMimeType"]);e!==void 0&&p!=null&&b(e,["parameters","outputOptions","mimeType"],p);const g=y(t,["outputCompressionQuality"]);e!==void 0&&g!=null&&b(e,["parameters","outputOptions","compressionQuality"],g);const _=y(t,["enhancePrompt"]);e!==void 0&&_!=null&&b(e,["parameters","enhancePrompt"],_);const S=y(t,["labels"]);return e!==void 0&&S!=null&&b(e,["labels"],S),r}function ape(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["source"]);o!=null&&upe(o,r);const s=y(e,["config"]);return s!=null&&spe(s,r),r}function lpe(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>wb(o))),b(n,["generatedImages"],i)}return n}function upe(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=y(t,["personImage"]);e!==void 0&&o!=null&&b(e,["instances[0]","personImage","image"],io(o));const s=y(t,["productImages"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>ope(c))),b(e,["instances[0]","productImages"],l)}return r}function cpe(t,e){const n={},r=y(t,["referenceImage"]);r!=null&&b(n,["referenceImage"],io(r));const i=y(t,["referenceId"]);i!=null&&b(n,["referenceId"],i);const o=y(t,["referenceType"]);o!=null&&b(n,["referenceType"],o);const s=y(t,["maskImageConfig"]);s!=null&&b(n,["maskImageConfig"],rpe(s));const l=y(t,["controlImageConfig"]);l!=null&&b(n,["controlImageConfig"],Xde(l));const c=y(t,["styleImageConfig"]);c!=null&&b(n,["styleImageConfig"],c);const f=y(t,["subjectImageConfig"]);return f!=null&&b(n,["subjectImageConfig"],f),n}function s8(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&b(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&b(n,["contentType"],o),n}function a8(t,e){const n={},r=y(t,["safetyAttributes","categories"]);r!=null&&b(n,["categories"],r);const i=y(t,["safetyAttributes","scores"]);i!=null&&b(n,["scores"],i);const o=y(t,["contentType"]);return o!=null&&b(n,["contentType"],o),n}function fpe(t,e){const n={},r=y(t,["category"]);if(r!=null&&b(n,["category"],r),y(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=y(t,["threshold"]);return i!=null&&b(n,["threshold"],i),n}function dpe(t,e){const n={},r=y(t,["image"]);return r!=null&&b(n,["image"],io(r)),n}function hpe(t,e,n){const r={},i=y(t,["mode"]);e!==void 0&&i!=null&&b(e,["parameters","mode"],i);const o=y(t,["maxPredictions"]);e!==void 0&&o!=null&&b(e,["parameters","maxPredictions"],o);const s=y(t,["confidenceThreshold"]);e!==void 0&&s!=null&&b(e,["parameters","confidenceThreshold"],s);const l=y(t,["maskDilation"]);e!==void 0&&l!=null&&b(e,["parameters","maskDilation"],l);const c=y(t,["binaryColorThreshold"]);e!==void 0&&c!=null&&b(e,["parameters","binaryColorThreshold"],c);const f=y(t,["labels"]);return e!==void 0&&f!=null&&b(e,["labels"],f),r}function ppe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["source"]);o!=null&&gpe(o,r);const s=y(e,["config"]);return s!=null&&hpe(s,r),r}function mpe(t,e){const n={},r=y(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>Bhe(o))),b(n,["generatedMasks"],i)}return n}function gpe(t,e,n){const r={},i=y(t,["prompt"]);e!==void 0&&i!=null&&b(e,["instances[0]","prompt"],i);const o=y(t,["image"]);e!==void 0&&o!=null&&b(e,["instances[0]","image"],io(o));const s=y(t,["scribbleImage"]);return e!==void 0&&s!=null&&b(e,["instances[0]","scribble"],dpe(s)),r}function ype(t,e){const n={},r=y(t,["retrievalConfig"]);r!=null&&b(n,["retrievalConfig"],r);const i=y(t,["functionCallingConfig"]);return i!=null&&b(n,["functionCallingConfig"],bhe(i)),n}function vpe(t,e){const n={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=y(t,["computerUse"]);r!=null&&b(n,["computerUse"],r);const i=y(t,["fileSearch"]);i!=null&&b(n,["fileSearch"],i);const o=y(t,["codeExecution"]);if(o!=null&&b(n,["codeExecution"],o),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const s=y(t,["functionDeclarations"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(g=>g)),b(n,["functionDeclarations"],p)}const l=y(t,["googleMaps"]);l!=null&&b(n,["googleMaps"],Hhe(l));const c=y(t,["googleSearch"]);c!=null&&b(n,["googleSearch"],Khe(c));const f=y(t,["googleSearchRetrieval"]);f!=null&&b(n,["googleSearchRetrieval"],f);const h=y(t,["urlContext"]);return h!=null&&b(n,["urlContext"],h),n}function l8(t,e){const n={},r=y(t,["retrieval"]);r!=null&&b(n,["retrieval"],r);const i=y(t,["computerUse"]);if(i!=null&&b(n,["computerUse"],i),y(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const o=y(t,["codeExecution"]);o!=null&&b(n,["codeExecution"],o);const s=y(t,["enterpriseWebSearch"]);s!=null&&b(n,["enterpriseWebSearch"],s);const l=y(t,["functionDeclarations"]);if(l!=null){let g=l;Array.isArray(g)&&(g=g.map(_=>xhe(_))),b(n,["functionDeclarations"],g)}const c=y(t,["googleMaps"]);c!=null&&b(n,["googleMaps"],c);const f=y(t,["googleSearch"]);f!=null&&b(n,["googleSearch"],f);const h=y(t,["googleSearchRetrieval"]);h!=null&&b(n,["googleSearchRetrieval"],h);const p=y(t,["urlContext"]);return p!=null&&b(n,["urlContext"],p),n}function bpe(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&b(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&b(n,["updateTime"],o),n}function xpe(t,e){const n={},r=y(t,["labels","google-vertex-llm-tuning-base-model-id"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["createTime"]);i!=null&&b(n,["createTime"],i);const o=y(t,["updateTime"]);return o!=null&&b(n,["updateTime"],o),n}function _pe(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),r}function wpe(t,e,n){const r={},i=y(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=y(t,["description"]);e!==void 0&&o!=null&&b(e,["description"],o);const s=y(t,["defaultCheckpointId"]);return e!==void 0&&s!=null&&b(e,["defaultCheckpointId"],s),r}function Tpe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","name"],_t(t,i));const o=y(e,["config"]);return o!=null&&_pe(o,r),r}function Epe(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["config"]);return o!=null&&wpe(o,r),r}function Spe(t,e,n){const r={},i=y(t,["outputGcsUri"]);e!==void 0&&i!=null&&b(e,["parameters","storageUri"],i);const o=y(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&b(e,["parameters","safetySetting"],o);const s=y(t,["personGeneration"]);e!==void 0&&s!=null&&b(e,["parameters","personGeneration"],s);const l=y(t,["includeRaiReason"]);e!==void 0&&l!=null&&b(e,["parameters","includeRaiReason"],l);const c=y(t,["outputMimeType"]);e!==void 0&&c!=null&&b(e,["parameters","outputOptions","mimeType"],c);const f=y(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&b(e,["parameters","outputOptions","compressionQuality"],f);const h=y(t,["enhanceInputImage"]);e!==void 0&&h!=null&&b(e,["parameters","upscaleConfig","enhanceInputImage"],h);const p=y(t,["imagePreservationFactor"]);e!==void 0&&p!=null&&b(e,["parameters","upscaleConfig","imagePreservationFactor"],p);const g=y(t,["labels"]);e!==void 0&&g!=null&&b(e,["labels"],g);const _=y(t,["numberOfImages"]);e!==void 0&&_!=null&&b(e,["parameters","sampleCount"],_);const S=y(t,["mode"]);return e!==void 0&&S!=null&&b(e,["parameters","mode"],S),r}function Ape(t,e,n){const r={},i=y(e,["model"]);i!=null&&b(r,["_url","model"],_t(t,i));const o=y(e,["image"]);o!=null&&b(r,["instances[0]","image"],io(o));const s=y(e,["upscaleFactor"]);s!=null&&b(r,["parameters","upscaleConfig","upscaleFactor"],s);const l=y(e,["config"]);return l!=null&&Spe(l,r),r}function Cpe(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["predictions"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>wb(s))),b(n,["generatedImages"],o)}return n}function Ipe(t,e){const n={},r=y(t,["uri"]);r!=null&&b(n,["uri"],r);const i=y(t,["encodedVideo"]);i!=null&&b(n,["videoBytes"],fl(i));const o=y(t,["encoding"]);return o!=null&&b(n,["mimeType"],o),n}function Npe(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["uri"],r);const i=y(t,["bytesBase64Encoded"]);i!=null&&b(n,["videoBytes"],fl(i));const o=y(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}function Rpe(t,e){const n={},r=y(t,["image"]);r!=null&&b(n,["_self"],io(r));const i=y(t,["maskMode"]);return i!=null&&b(n,["maskMode"],i),n}function Ppe(t,e){const n={},r=y(t,["image"]);r!=null&&b(n,["image"],Tb(r));const i=y(t,["referenceType"]);return i!=null&&b(n,["referenceType"],i),n}function kpe(t,e){const n={},r=y(t,["image"]);r!=null&&b(n,["image"],io(r));const i=y(t,["referenceType"]);return i!=null&&b(n,["referenceType"],i),n}function u8(t,e){const n={},r=y(t,["uri"]);r!=null&&b(n,["uri"],r);const i=y(t,["videoBytes"]);i!=null&&b(n,["encodedVideo"],fl(i));const o=y(t,["mimeType"]);return o!=null&&b(n,["encoding"],o),n}function c8(t,e){const n={},r=y(t,["uri"]);r!=null&&b(n,["gcsUri"],r);const i=y(t,["videoBytes"]);i!=null&&b(n,["bytesBase64Encoded"],fl(i));const o=y(t,["mimeType"]);return o!=null&&b(n,["mimeType"],o),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mpe(t,e){const n={},r=y(t,["displayName"]);return e!==void 0&&r!=null&&b(e,["displayName"],r),n}function Ope(t){const e={},n=y(t,["config"]);return n!=null&&Mpe(n,e),e}function Dpe(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function Lpe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&Dpe(r,e),e}function Upe(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function Vpe(t,e){const n={},r=y(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["customMetadata"],o)}const i=y(t,["chunkingConfig"]);return e!==void 0&&i!=null&&b(e,["chunkingConfig"],i),n}function jpe(t){const e={},n=y(t,["name"]);n!=null&&b(e,["name"],n);const r=y(t,["metadata"]);r!=null&&b(e,["metadata"],r);const i=y(t,["done"]);i!=null&&b(e,["done"],i);const o=y(t,["error"]);o!=null&&b(e,["error"],o);const s=y(t,["response"]);return s!=null&&b(e,["response"],Fpe(s)),e}function Bpe(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["fileName"]);r!=null&&b(e,["fileName"],r);const i=y(t,["config"]);return i!=null&&Vpe(i,e),e}function Fpe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["parent"]);r!=null&&b(e,["parent"],r);const i=y(t,["documentName"]);return i!=null&&b(e,["documentName"],i),e}function qpe(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function zpe(t){const e={},n=y(t,["config"]);return n!=null&&qpe(n,e),e}function $pe(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["fileSearchStores"],o)}return e}function f8(t,e){const n={},r=y(t,["mimeType"]);e!==void 0&&r!=null&&b(e,["mimeType"],r);const i=y(t,["displayName"]);e!==void 0&&i!=null&&b(e,["displayName"],i);const o=y(t,["customMetadata"]);if(e!==void 0&&o!=null){let l=o;Array.isArray(l)&&(l=l.map(c=>c)),b(e,["customMetadata"],l)}const s=y(t,["chunkingConfig"]);return e!==void 0&&s!=null&&b(e,["chunkingConfig"],s),n}function Gpe(t){const e={},n=y(t,["fileSearchStoreName"]);n!=null&&b(e,["_url","file_search_store_name"],n);const r=y(t,["config"]);return r!=null&&f8(r,e),e}function Hpe(t){const e={},n=y(t,["sdkHttpResponse"]);return n!=null&&b(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kpe="Content-Type",Wpe="X-Server-Timeout",Ype="User-Agent",$A="x-goog-api-client",Xpe="1.41.0",Jpe=`google-genai-sdk/${Xpe}`,Qpe="v1beta1",Zpe="v1beta",eme=5,tme=[408,429,500,502,503,504];class nme{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const o={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const l=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!l?(o.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?o.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(o.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),o.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Qpe}else{if(!this.clientOptions.apiKey)throw new Tp({message:"API key must be set when using the Gemini API.",status:403});o.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:Zpe,o.baseUrl="https://generativelanguage.googleapis.com/"}o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===VA.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,l]of Object.entries(e.queryParams))i.searchParams.append(s,String(l));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const l=setTimeout(()=>o.abort(),n.timeout);l&&typeof l.unref=="function"&&l.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&rme(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await X5(i),new jA(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await X5(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return Ji(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const l="data:",c=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:h}=yield Ye(i.read());if(f){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=o.decode(h,{stream:!0});try{const S=JSON.parse(p);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),E=A.status,M=A.code,I=`got status: ${E}. ${JSON.stringify(S)}`;if(M>=400&&M<600)throw new Tp({message:I,status:M})}}catch(S){if(S.name==="ApiError")throw S}s+=p;let g=-1,_=0;for(;;){g=-1,_=0;for(const E of c){const M=s.indexOf(E);M!==-1&&(g===-1||M<g)&&(g=M,_=E.length)}if(g===-1)break;const S=s.substring(0,g);s=s.substring(g+_);const A=S.trim();if(A.startsWith(l)){const E=A.substring(l.length).trim();try{const M=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Ye(new jA(M))}catch(M){throw new Error(`exception parsing stream chunk ${E}. ${M}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){var r;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(e,n);const i=this.clientOptions.httpOptions.retryOptions;return Hue(async()=>{const s=await fetch(e,n);if(s.ok)return s;throw tme.includes(s.status)?new Error(`Retryable HTTP Error: ${s.statusText}`):new z$(`Non-retryable exception ${s.statusText} sending request`)},{retries:((r=i.attempts)!==null&&r!==void 0?r:eme)-1})}getDefaultHeaders(){const e={},n=Jpe+" "+this.clientOptions.userAgentExtra;return e[Ype]=n,e[$A]=n,e[Kpe]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(Wpe,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const l=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=l;const c={file:i},f=this.getFileName(e),h=Me("upload/v1beta/files",c._url),p=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,f,c,n==null?void 0:n.httpOptions);return o.upload(e,p,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),l=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),p={};r!=null&&f8(r,p);const g=await this.fetchUploadUrl(f,l,c,h,p,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,g,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var l;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const f=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=f==null?void 0:f.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function X5(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new Tp({message:i,status:n}):new Error(i)}}function rme(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const l=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const f=s[c],h=l[c];f&&typeof f=="object"&&!Array.isArray(f)&&h&&typeof h=="object"&&!Array.isArray(h)?l[c]=r(h,f):(h&&f&&typeof h!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof f}. Overwriting.`),l[c]=f)}return l}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ime="mcp_used/unknown";let ome=!1;function d8(t){for(const e of t)if(sme(e)||typeof e=="object"&&"inputSchema"in e)return!0;return ome}function h8(t){var e;const n=(e=t[$A])!==null&&e!==void 0?e:"";t[$A]=(n+` ${ime}`).trimStart()}function sme(t){return t!==null&&typeof t=="object"&&t instanceof YN}function ame(t){return Ji(this,arguments,function*(n,r=100){let i,o=0;for(;o<r;){const s=yield Ye(n.listTools({cursor:i}));for(const l of s.tools)yield yield Ye(l),o++;if(!s.nextCursor)break;i=s.nextCursor}})}class YN{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new YN(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var l=!0,c=(n=void 0,Qi(ame(h))),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const p=i;s.push(p);const g=p.name;if(o[g])throw new Error(`Duplicate function name ${g} found in MCP tools. Please ensure function names are unique.`);o[g]=h}}catch(p){n={error:p}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),Oce(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function lme(t,e,n){const r=new Ace;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class ume{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=dme(this.apiClient.getDefaultHeaders()),l=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${l}`;let f=()=>{};const h=new Promise(N=>{f=N}),p=e.callbacks,g=function(){f({})},_=this.apiClient,S={onopen:g,onmessage:N=>{lme(_,p.onmessage,N)},onerror:(n=p==null?void 0:p.onerror)!==null&&n!==void 0?n:function(N){},onclose:(r=p==null?void 0:p.onclose)!==null&&r!==void 0?r:function(N){}},A=this.webSocketFactory.create(c,fme(s),S);A.connect(),await h;const I={setup:{model:_t(this.apiClient,e.model)}};return A.send(JSON.stringify(I)),new cme(A,this.apiClient)}}class cme{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=Mde(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=kde(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Zc.PLAY)}pause(){this.sendPlaybackControl(Zc.PAUSE)}stop(){this.sendPlaybackControl(Zc.STOP)}resetContext(){this.sendPlaybackControl(Zc.RESET_CONTEXT)}close(){this.conn.close()}}function fme(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function dme(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hme="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pme(t,e,n){const r=new Sce;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=Lde(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class mme{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new ume(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,l;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let h;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&d8(e.config.tools)&&h8(p);const g=bme(p);if(this.apiClient.isVertexAI()){const V=this.apiClient.getProject(),F=this.apiClient.getLocation(),q=this.apiClient.getApiKey(),z=!!V&&!!F||!!q;this.apiClient.getCustomBaseUrl()&&!z?h=c:(h=`${c}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(g,h))}else{const V=this.apiClient.getApiKey();let F="BidiGenerateContent",q="key";V!=null&&V.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",q="access_token"),h=`${c}/ws/google.ai.generativelanguage.${f}.GenerativeService.${F}?${q}=${V}`}let _=()=>{};const S=new Promise(V=>{_=V}),A=e.callbacks,E=function(){var V;(V=A==null?void 0:A.onopen)===null||V===void 0||V.call(A),_({})},M=this.apiClient,I={onopen:E,onmessage:V=>{pme(M,A.onmessage,V)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(V){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(V){}},N=this.webSocketFactory.create(h,vme(g),I);N.connect(),await S;let C=_t(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const V=this.apiClient.getProject(),F=this.apiClient.getLocation();V&&F&&(C=`projects/${V}/locations/${F}/`+C)}let R={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Bv.AUDIO]}:e.config.responseModalities=[Bv.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const U=(l=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[],k=[];for(const V of U)if(this.isCallableTool(V)){const F=V;k.push(await F.tool())}else k.push(V);k.length>0&&(e.config.tools=k);const O={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?R=Pde(this.apiClient,O):R=Rde(this.apiClient,O),delete R.config,N.send(JSON.stringify(R)),new yme(N,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const gme={turnComplete:!0};class yme{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Ai(n.turns),e.isVertexAI()||(r=r.map(i=>_b(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(hme)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},gme),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:Dde(e)}:n={realtimeInput:Ode(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function vme(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function bme(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const J5=10;function Q5(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(df(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function df(t){return"callTool"in t&&typeof t.callTool=="function"}function xme(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>df(i)))!==null&&r!==void 0?r:!1}function Z5(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(df(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function eU(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _me extends qs{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,l;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!xme(n)||Q5(n.config))return await this.generateContentInternal(c);const f=Z5(n);if(f.length>0){const A=f.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,p;const g=Ai(c.contents),_=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:J5;let S=0;for(;S<_&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,E=[];for(const M of(l=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&l!==void 0?l:[])if(df(M)){const N=await M.callTool(h.functionCalls);E.push(...N)}S++,p={role:"user",parts:E},c.contents=Ai(c.contents),c.contents.push(A),c.contents.push(p),eU(c.config)&&(g.push(A),g.push(p))}return eU(c.config)&&(h.automaticFunctionCallingHistory=g),h},this.generateContentStream=async n=>{var r,i,o,s,l;if(this.maybeMoveToResponseJsonSchem(n),Q5(n.config)){const p=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(p)}const c=Z5(n);if(c.length>0){const p=c.map(g=>`tools[${g}]`).join(", ");throw new Error(`Incompatible tools found at ${p}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(l=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||l===void 0?void 0:l.disable;if(f&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let l;return o?l={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:l={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},l}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new $u(Us.PAGED_ITEM_MODELS,l=>this.listInternal(l),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,l,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((c=(l=n.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>df(c)?await c.tool():c)),l={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(l.config.tools=s,e.config&&e.config.tools&&d8(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let f=Object.assign({},c);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),h8(f),l.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:f})}return l}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(df(s)){const l=s,c=await l.tool();for(const f of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!f.name)throw new Error("Function declaration name is required.");if(o.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);o.set(f.name,l)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:J5;let s=!1,l=0;const c=await this.initAfcToolsMap(e);return(function(f,h,p){return Ji(this,arguments,function*(){for(var g,_,S,A,E,M;l<o;){s&&(l++,s=!1);const R=yield Ye(f.processParamsMaybeAddMcpUsage(p)),U=yield Ye(f.generateContentStreamInternal(R)),k=[],O=[];try{for(var I=!0,N=(_=void 0,Qi(U)),C;C=yield Ye(N.next()),g=C.done,!g;I=!0){A=C.value,I=!1;const V=A;if(yield yield Ye(V),V.candidates&&(!((E=V.candidates[0])===null||E===void 0)&&E.content)){O.push(V.candidates[0].content);for(const F of(M=V.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(l<o&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const q=yield Ye(h.get(F.functionCall.name).callTool([F.functionCall]));k.push(...q)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(V){_={error:V}}finally{try{!I&&!g&&(S=N.return)&&(yield Ye(S.call(N)))}finally{if(_)throw _.error}}if(k.length>0){s=!0;const V=new ph;V.candidates=[{content:{role:"user",parts:k}}],yield yield Ye(V);const F=[];F.push(...O),F.push({role:"user",parts:k});const q=Ai(p.contents).concat(F);p.contents=q}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=K5(this.apiClient,e);return l=Me("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Y5(h),g=new ph;return Object.assign(g,p),g})}else{const f=H5(this.apiClient,e);return l=Me("{model}:generateContent",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=W5(h),g=new ph;return Object.assign(g,p),g})}}async generateContentStreamInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=K5(this.apiClient,e);return l=Me("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(p){return Ji(this,arguments,function*(){var g,_,S,A;try{for(var E=!0,M=Qi(p),I;I=yield Ye(M.next()),g=I.done,!g;E=!0){A=I.value,E=!1;const N=A,C=Y5(yield Ye(N.json()),e);C.sdkHttpResponse={headers:N.headers};const R=new ph;Object.assign(R,C),yield yield Ye(R)}}catch(N){_={error:N}}finally{try{!E&&!g&&(S=M.return)&&(yield Ye(S.call(M)))}finally{if(_)throw _.error}}})})}else{const f=H5(this.apiClient,e);return l=Me("{model}:streamGenerateContent?alt=sse",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.requestStream({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(p){return Ji(this,arguments,function*(){var g,_,S,A;try{for(var E=!0,M=Qi(p),I;I=yield Ye(M.next()),g=I.done,!g;E=!0){A=I.value,E=!1;const N=A,C=W5(yield Ye(N.json()),e);C.sdkHttpResponse={headers:N.headers};const R=new ph;Object.assign(R,C),yield yield Ye(R)}}catch(N){_={error:N}}finally{try{!E&&!g&&(S=M.return)&&(yield Ye(S.call(M)))}finally{if(_)throw _.error}}})})}}async embedContent(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=hhe(this.apiClient,e);return l=Me("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=mhe(h),g=new N5;return Object.assign(g,p),g})}else{const f=dhe(this.apiClient,e);return l=Me("{model}:batchEmbedContents",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=phe(h),g=new N5;return Object.assign(g,p),g})}}async generateImagesInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ahe(this.apiClient,e);return l=Me("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Ihe(h),g=new R5;return Object.assign(g,p),g})}else{const f=She(this.apiClient,e);return l=Me("{model}:predict",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Che(h),g=new R5;return Object.assign(g,p),g})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=lhe(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=uhe(c),h=new hce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Ape(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Cpe(c),h=new pce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=ape(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=lpe(c),h=new mce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=ppe(this.apiClient,e);return o=Me("{model}:predict",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=mpe(c),h=new gce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ghe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>zA(h))}else{const f=$he(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>qA(h))}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=epe(this.apiClient,e);return l=Me("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=npe(h),g=new P5;return Object.assign(g,p),g})}else{const f=Zhe(this.apiClient,e);return l=Me("{models_url}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=tpe(h),g=new P5;return Object.assign(g,p),g})}}async update(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Epe(this.apiClient,e);return l=Me("{model}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>zA(h))}else{const f=Tpe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>qA(h))}}async delete(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=ihe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=she(h),g=new k5;return Object.assign(g,p),g})}else{const f=rhe(this.apiClient,e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=ohe(h),g=new k5;return Object.assign(g,p),g})}}async countTokens(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=ehe(this.apiClient,e);return l=Me("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=nhe(h),g=new M5;return Object.assign(g,p),g})}else{const f=Zde(this.apiClient,e);return l=Me("{model}:countTokens",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=the(h),g=new M5;return Object.assign(g,p),g})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Hde(this.apiClient,e);return o=Me("{model}:computeTokens",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const f=Kde(c),h=new yce;return Object.assign(h,f),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Ohe(this.apiClient,e);return l=Me("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const p=khe(h),g=new Fv;return Object.assign(g,p),g})}else{const f=Mhe(this.apiClient,e);return l=Me("{model}:predictLongRunning",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const p=Phe(h),g=new Fv;return Object.assign(g,p),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wme extends qs{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=ace(e);return l=Me("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const f=sce(e);return l=Me("{operationName}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Zue(e);return o=Me("{resourceName}:fetchPredictOperation",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Tme(t){const e={},n=y(t,["data"]);if(n!=null&&b(e,["data"],n),y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Eme(t){const e={},n=y(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Mme(o))),b(e,["parts"],i)}const r=y(t,["role"]);return r!=null&&b(e,["role"],r),e}function Sme(t,e,n){const r={},i=y(e,["expireTime"]);n!==void 0&&i!=null&&b(n,["expireTime"],i);const o=y(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&b(n,["newSessionExpireTime"],o);const s=y(e,["uses"]);n!==void 0&&s!=null&&b(n,["uses"],s);const l=y(e,["liveConnectConstraints"]);n!==void 0&&l!=null&&b(n,["bidiGenerateContentSetup"],kme(t,l));const c=y(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&b(n,["fieldMask"],c),r}function Ame(t,e){const n={},r=y(e,["config"]);return r!=null&&b(n,["config"],Sme(t,r,n)),n}function Cme(t){const e={};if(y(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=y(t,["fileUri"]);n!=null&&b(e,["fileUri"],n);const r=y(t,["mimeType"]);return r!=null&&b(e,["mimeType"],r),e}function Ime(t){const e={},n=y(t,["id"]);n!=null&&b(e,["id"],n);const r=y(t,["args"]);r!=null&&b(e,["args"],r);const i=y(t,["name"]);if(i!=null&&b(e,["name"],i),y(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(y(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Nme(t){const e={};if(y(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=y(t,["enableWidget"]);return n!=null&&b(e,["enableWidget"],n),e}function Rme(t){const e={};if(y(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(y(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=y(t,["timeRangeFilter"]);return n!=null&&b(e,["timeRangeFilter"],n),e}function Pme(t,e){const n={},r=y(t,["generationConfig"]);e!==void 0&&r!=null&&b(e,["setup","generationConfig"],r);const i=y(t,["responseModalities"]);e!==void 0&&i!=null&&b(e,["setup","generationConfig","responseModalities"],i);const o=y(t,["temperature"]);e!==void 0&&o!=null&&b(e,["setup","generationConfig","temperature"],o);const s=y(t,["topP"]);e!==void 0&&s!=null&&b(e,["setup","generationConfig","topP"],s);const l=y(t,["topK"]);e!==void 0&&l!=null&&b(e,["setup","generationConfig","topK"],l);const c=y(t,["maxOutputTokens"]);e!==void 0&&c!=null&&b(e,["setup","generationConfig","maxOutputTokens"],c);const f=y(t,["mediaResolution"]);e!==void 0&&f!=null&&b(e,["setup","generationConfig","mediaResolution"],f);const h=y(t,["seed"]);e!==void 0&&h!=null&&b(e,["setup","generationConfig","seed"],h);const p=y(t,["speechConfig"]);e!==void 0&&p!=null&&b(e,["setup","generationConfig","speechConfig"],WN(p));const g=y(t,["thinkingConfig"]);e!==void 0&&g!=null&&b(e,["setup","generationConfig","thinkingConfig"],g);const _=y(t,["enableAffectiveDialog"]);e!==void 0&&_!=null&&b(e,["setup","generationConfig","enableAffectiveDialog"],_);const S=y(t,["systemInstruction"]);e!==void 0&&S!=null&&b(e,["setup","systemInstruction"],Eme(fr(S)));const A=y(t,["tools"]);if(e!==void 0&&A!=null){let U=Jf(A);Array.isArray(U)&&(U=U.map(k=>Dme(Xf(k)))),b(e,["setup","tools"],U)}const E=y(t,["sessionResumption"]);e!==void 0&&E!=null&&b(e,["setup","sessionResumption"],Ome(E));const M=y(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&b(e,["setup","inputAudioTranscription"],M);const I=y(t,["outputAudioTranscription"]);e!==void 0&&I!=null&&b(e,["setup","outputAudioTranscription"],I);const N=y(t,["realtimeInputConfig"]);e!==void 0&&N!=null&&b(e,["setup","realtimeInputConfig"],N);const C=y(t,["contextWindowCompression"]);e!==void 0&&C!=null&&b(e,["setup","contextWindowCompression"],C);const R=y(t,["proactivity"]);if(e!==void 0&&R!=null&&b(e,["setup","proactivity"],R),y(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function kme(t,e){const n={},r=y(e,["model"]);r!=null&&b(n,["setup","model"],_t(t,r));const i=y(e,["config"]);return i!=null&&b(n,["config"],Pme(i,n)),n}function Mme(t){const e={},n=y(t,["mediaResolution"]);n!=null&&b(e,["mediaResolution"],n);const r=y(t,["codeExecutionResult"]);r!=null&&b(e,["codeExecutionResult"],r);const i=y(t,["executableCode"]);i!=null&&b(e,["executableCode"],i);const o=y(t,["fileData"]);o!=null&&b(e,["fileData"],Cme(o));const s=y(t,["functionCall"]);s!=null&&b(e,["functionCall"],Ime(s));const l=y(t,["functionResponse"]);l!=null&&b(e,["functionResponse"],l);const c=y(t,["inlineData"]);c!=null&&b(e,["inlineData"],Tme(c));const f=y(t,["text"]);f!=null&&b(e,["text"],f);const h=y(t,["thought"]);h!=null&&b(e,["thought"],h);const p=y(t,["thoughtSignature"]);p!=null&&b(e,["thoughtSignature"],p);const g=y(t,["videoMetadata"]);return g!=null&&b(e,["videoMetadata"],g),e}function Ome(t){const e={},n=y(t,["handle"]);if(n!=null&&b(e,["handle"],n),y(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Dme(t){const e={};if(y(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=y(t,["computerUse"]);n!=null&&b(e,["computerUse"],n);const r=y(t,["fileSearch"]);r!=null&&b(e,["fileSearch"],r);const i=y(t,["codeExecution"]);if(i!=null&&b(e,["codeExecution"],i),y(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const o=y(t,["functionDeclarations"]);if(o!=null){let h=o;Array.isArray(h)&&(h=h.map(p=>p)),b(e,["functionDeclarations"],h)}const s=y(t,["googleMaps"]);s!=null&&b(e,["googleMaps"],Nme(s));const l=y(t,["googleSearch"]);l!=null&&b(e,["googleSearch"],Rme(l));const c=y(t,["googleSearchRetrieval"]);c!=null&&b(e,["googleSearchRetrieval"],c);const f=y(t,["urlContext"]);return f!=null&&b(e,["urlContext"],f),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lme(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function Ume(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=Lme(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let l=[];i.length>0&&(l=i.map(f=>s.includes(f)?`generationConfig.${f}`:f));const c=[];o&&c.push(o),l.length>0&&c.push(...l),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Vme extends qs{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const l=Ame(this.apiClient,e);o=Me("auth_tokens",l._url),s=l._query,delete l.config,delete l._url,delete l._query;const c=Ume(l,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(f=>f.json()),i.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jme(t,e){const n={},r=y(t,["force"]);return e!==void 0&&r!=null&&b(e,["_query","force"],r),n}function Bme(t){const e={},n=y(t,["name"]);n!=null&&b(e,["_url","name"],n);const r=y(t,["config"]);return r!=null&&jme(r,e),e}function Fme(t){const e={},n=y(t,["name"]);return n!=null&&b(e,["_url","name"],n),e}function qme(t,e){const n={},r=y(t,["pageSize"]);e!==void 0&&r!=null&&b(e,["_query","pageSize"],r);const i=y(t,["pageToken"]);return e!==void 0&&i!=null&&b(e,["_query","pageToken"],i),n}function zme(t){const e={},n=y(t,["parent"]);n!=null&&b(e,["_url","parent"],n);const r=y(t,["config"]);return r!=null&&qme(r,e),e}function $me(t){const e={},n=y(t,["sdkHttpResponse"]);n!=null&&b(e,["sdkHttpResponse"],n);const r=y(t,["nextPageToken"]);r!=null&&b(e,["nextPageToken"],r);const i=y(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),b(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Gme extends qs{constructor(e){super(),this.apiClient=e,this.list=async n=>new $u(Us.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Fme(e);return o=Me("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Bme(e);i=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zme(e);return o=Me("{parent}/documents",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=$me(c),h=new vce;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hme extends qs{constructor(e,n=new Gme(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new $u(Us.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Ope(e);return o=Me("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Upe(e);return o=Me("{name}",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Lpe(e);i=Me("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=zpe(e);return o=Me("fileSearchStores",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=$pe(c),h=new bce;return Object.assign(h,f),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Gpe(e);return o=Me("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=Hpe(c),h=new xce;return Object.assign(h,f),h})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Bpe(e);return o=Me("{file_search_store_name}:importFile",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const f=jpe(c),h=new zN;return Object.assign(h,f),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let p8=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return p8=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const Kme=()=>p8();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GA(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const HA=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ni extends Error{}class wr extends Ni{constructor(e,n,r,i){super(`${wr.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new Eb({message:r,cause:HA(n)});const o=n;return e===400?new g8(e,o,r,i):e===401?new y8(e,o,r,i):e===403?new v8(e,o,r,i):e===404?new b8(e,o,r,i):e===409?new x8(e,o,r,i):e===422?new _8(e,o,r,i):e===429?new w8(e,o,r,i):e>=500?new T8(e,o,r,i):new wr(e,o,r,i)}}class KA extends wr{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Eb extends wr{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class m8 extends Eb{constructor({message:e}={}){super({message:e??"Request timed out."})}}class g8 extends wr{}class y8 extends wr{}class v8 extends wr{}class b8 extends wr{}class x8 extends wr{}class _8 extends wr{}class w8 extends wr{}class T8 extends wr{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wme=/^[a-z][a-z0-9+.-]*:/i,Yme=t=>Wme.test(t);let WA=t=>(WA=Array.isArray,WA(t));const Xme=WA;let Jme=Xme;const tU=Jme;function Qme(t){if(!t)return!0;for(const e in t)return!1;return!0}function Zme(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const ege=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Ni(`${t} must be an integer`);if(e<0)throw new Ni(`${t} must be a positive integer`);return e},tge=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nge=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Hc="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rge(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const ige=()=>{var t,e,n,r,i;const o=rge();if(o==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hc,"X-Stainless-OS":rU(Deno.build.os),"X-Stainless-Arch":nU(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(o==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hc,"X-Stainless-OS":rU((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":nU((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=oge();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Hc,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function oge(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,o=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${o}.${s}`}}}return null}const nU=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",rU=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let Cy;const sge=()=>Cy??(Cy=ige());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function age(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function E8(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function lge(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return E8({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function S8(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function uge(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const cge=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A8=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Dw(t,e,n){return A8(),new File(t,e??"unknown_file",n)}function fge(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const dge=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const C8=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",hge=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&C8(t),pge=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function mge(t,e,n){if(A8(),t=await t,hge(t))return t instanceof File?t:Dw([await t.arrayBuffer()],t.name);if(pge(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Dw(await YA(i),e,n)}const r=await YA(t);if(e||(e=fge(t)),!(n!=null&&n.type)){const i=r.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Dw(r,e,n)}async function YA(t){var e,n,r,i,o;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(C8(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(dge(t))try{for(var l=!0,c=Qi(t),f;f=await c.next(),e=f.done,!e;l=!0){i=f.value,l=!1;const h=i;s.push(...await YA(h))}}catch(h){n={error:h}}finally{try{!l&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}else{const h=(o=t==null?void 0:t.constructor)===null||o===void 0?void 0:o.name;throw new Error(`Unexpected data type: ${typeof t}${h?`; constructor: ${h}`:""}${gge(t)}`)}return s}function gge(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class I8{constructor(e){this._client=e}}I8._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N8(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const iU=Object.freeze(Object.create(null)),yge=(t=N8)=>(function(n,...r){if(n.length===1)return n[0];let i=!1;const o=[],s=n.reduce((h,p,g)=>{var _,S,A;/[?#]/.test(p)&&(i=!0);const E=r[g];let M=(i?encodeURIComponent:t)(""+E);return g!==r.length&&(E==null||typeof E=="object"&&E.toString===((A=Object.getPrototypeOf((S=Object.getPrototypeOf((_=E.hasOwnProperty)!==null&&_!==void 0?_:iU))!==null&&S!==void 0?S:iU))===null||A===void 0?void 0:A.toString))&&(M=E+"",o.push({start:h.length+p.length,length:M.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),h+p+(g===r.length?"":M)},""),l=s.split(/[?#]/,1)[0],c=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=c.exec(l))!==null;)o.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(o.sort((h,p)=>h.start-p.start),o.length>0){let h=0;const p=o.reduce((g,_)=>{const S=" ".repeat(_.start-h),A="^".repeat(_.length);return h=_.start+_.length,g+S+A},"");throw new Ni(`Path parameters result in path with invalid segments:
${o.map(g=>g.error).join(`
`)}
${s}
${p}`)}return s}),Iy=yge(N8);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class R8 extends I8{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,o=zv(e,["api_version"]);if("model"in o&&"agent_config"in o)throw new Ni("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in o&&"generation_config"in o)throw new Ni("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Iy`/${i}/interactions`,Object.assign(Object.assign({body:o},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(Iy`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(Iy`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const o=n??{},{api_version:s=this._client.apiVersion}=o,l=zv(o,["api_version"]);return this._client.get(Iy`/${s}/interactions/${e}`,Object.assign(Object.assign({query:l},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}R8._key=Object.freeze(["interactions"]);class P8 extends R8{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vge(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let Ny;function XN(t){let e;return(Ny??(e=new globalThis.TextEncoder,Ny=e.encode.bind(e)))(t)}let Ry;function oU(t){let e;return(Ry??(e=new globalThis.TextDecoder,Ry=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sb{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?XN(e):e;this.buffer=vge([this.buffer,n]);const r=[];let i;for(;(i=bge(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(oU(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const o=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=oU(this.buffer.subarray(0,o));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}Sb.NEWLINE_CHARS=new Set([`
`,"\r"]);Sb.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bge(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function xge(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $v={off:0,error:200,warn:300,info:400,debug:500},sU=(t,e,n)=>{if(t){if(Zme($v,t))return t;br(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys($v))}`)}};function Mh(){}function Py(t,e,n){return!e||$v[t]>$v[n]?Mh:e[t].bind(e)}const _ge={error:Mh,warn:Mh,info:Mh,debug:Mh};let aU=new WeakMap;function br(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return _ge;const i=aU.get(n);if(i&&i[0]===r)return i[1];const o={error:Py("error",n,r),warn:Py("warn",n,r),info:Py("info",n,r),debug:Py("debug",n,r)};return aU.set(n,[r,o]),o}const ru=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ef{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const o=r?br(r):console;function s(){return Ji(this,arguments,function*(){var c,f,h,p;if(i)throw new Ni("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var _=!0,S=Qi(wge(e,n)),A;A=yield Ye(S.next()),c=A.done,!c;_=!0){p=A.value,_=!1;const E=p;if(!g)if(E.data.startsWith("[DONE]")){g=!0;continue}else try{yield yield Ye(JSON.parse(E.data))}catch(M){throw o.error("Could not parse message into JSON:",E.data),o.error("From chunk:",E.raw),M}}}catch(E){f={error:E}}finally{try{!_&&!c&&(h=S.return)&&(yield Ye(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(E){if(GA(E))return yield Ye(void 0);throw E}finally{g||n.abort()}})}return new ef(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function o(){return Ji(this,arguments,function*(){var c,f,h,p;const g=new Sb,_=S8(e);try{for(var S=!0,A=Qi(_),E;E=yield Ye(A.next()),c=E.done,!c;S=!0){p=E.value,S=!1;const M=p;for(const I of g.decode(M))yield yield Ye(I)}}catch(M){f={error:M}}finally{try{!S&&!c&&(h=A.return)&&(yield Ye(h.call(A)))}finally{if(f)throw f.error}}for(const M of g.flush())yield yield Ye(M)})}function s(){return Ji(this,arguments,function*(){var c,f,h,p;if(i)throw new Ni("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let g=!1;try{try{for(var _=!0,S=Qi(o()),A;A=yield Ye(S.next()),c=A.done,!c;_=!0){p=A.value,_=!1;const E=p;g||E&&(yield yield Ye(JSON.parse(E)))}}catch(E){f={error:E}}finally{try{!_&&!c&&(h=S.return)&&(yield Ye(h.call(S)))}finally{if(f)throw f.error}}g=!0}catch(E){if(GA(E))return yield Ye(void 0);throw E}finally{g||n.abort()}})}return new ef(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=o=>({next:()=>{if(o.length===0){const s=r.next();e.push(s),n.push(s)}return o.shift()}});return[new ef(()=>i(e),this.controller,this.client),new ef(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return E8({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:o}=await n.next();if(o)return r.close();const s=XN(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function wge(t,e){return Ji(this,arguments,function*(){var r,i,o,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ni("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ni("Attempted to iterate over a response with no body");const l=new Ege,c=new Sb,f=S8(t.body);try{for(var h=!0,p=Qi(Tge(f)),g;g=yield Ye(p.next()),r=g.done,!r;h=!0){s=g.value,h=!1;const _=s;for(const S of c.decode(_)){const A=l.decode(S);A&&(yield yield Ye(A))}}}catch(_){i={error:_}}finally{try{!h&&!r&&(o=p.return)&&(yield Ye(o.call(p)))}finally{if(i)throw i.error}}for(const _ of c.flush()){const S=l.decode(_);S&&(yield yield Ye(S))}})}function Tge(t){return Ji(this,arguments,function*(){var n,r,i,o;let s=new Uint8Array;try{for(var l=!0,c=Qi(t),f;f=yield Ye(c.next()),n=f.done,!n;l=!0){o=f.value,l=!1;const h=o;if(h==null)continue;const p=h instanceof ArrayBuffer?new Uint8Array(h):typeof h=="string"?XN(h):h;let g=new Uint8Array(s.length+p.length);g.set(s),g.set(p,s.length),s=g;let _;for(;(_=xge(s))!==-1;)yield yield Ye(s.slice(0,_)),s=s.slice(_)}}catch(h){r={error:h}}finally{try{!l&&!n&&(i=c.return)&&(yield Ye(i.call(c)))}finally{if(r)throw r.error}}s.length>0&&(yield yield Ye(s))})}class Ege{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=Sge(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function Sge(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Age(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:o}=e,s=await(async()=>{var l;if(e.options.stream)return br(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):ef.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const c=n.headers.get("content-type"),f=(l=c==null?void 0:c.split(";")[0])===null||l===void 0?void 0:l.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?n.headers.get("content-length")==="0"?void 0:await n.json():await n.text()})();return br(t).debug(`[${r}] response parsed`,ru({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-o})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JN extends Promise{constructor(e,n,r=Age){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new JN(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const k8=Symbol("brand.privateNullableHeaders");function*Cge(t){if(!t)return;if(k8 in t){const{values:r,nulls:i}=t;yield*r.entries();for(const o of i)yield[o,null];return}let e=!1,n;t instanceof Headers?n=t.entries():tU(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const o=tU(r[1])?r[1]:[r[1]];let s=!1;for(const l of o)l!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,l])}}const mh=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[o,s]of Cge(r)){const l=o.toLowerCase();i.has(l)||(e.delete(o),i.add(l)),s===null?(e.delete(o),n.add(l)):(e.append(o,s),n.delete(l))}}return{[k8]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Lw=t=>{var e,n,r,i,o,s;if(typeof globalThis.process<"u")return(r=(n=(e=Kue)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(o=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||o===void 0?void 0:o.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var M8;class Ab{constructor(e){var n,r,i,o,s,l,c,{baseURL:f=Lw("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:h=(n=Lw("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:p="v1beta"}=e,g=zv(e,["baseURL","apiKey","apiVersion"]);const _=Object.assign(Object.assign({apiKey:h,apiVersion:p},g),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=_.baseURL,this.timeout=(r=_.timeout)!==null&&r!==void 0?r:Ab.DEFAULT_TIMEOUT,this.logger=(i=_.logger)!==null&&i!==void 0?i:console;const S="warn";this.logLevel=S,this.logLevel=(s=(o=sU(_.logLevel,"ClientOptions.logLevel",this))!==null&&o!==void 0?o:sU(Lw("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:S,this.fetchOptions=_.fetchOptions,this.maxRetries=(l=_.maxRetries)!==null&&l!==void 0?l:2,this.fetch=(c=_.fetch)!==null&&c!==void 0?c:age(),this.encoder=cge,this._options=_,this.apiKey=h,this.apiVersion=p,this.clientAdapter=_.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=mh([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return mh([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return mh([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new Ni(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Hc}`}defaultIdempotencyKey(){return`stainless-node-retry-${Kme()}`}makeStatusError(e,n,r,i){return wr.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,o=Yme(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return Qme(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(o.search=this.stringifyQuery(n)),o.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new JN(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,o,s;const l=await e,c=(i=l.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=c),await this.prepareOptions(l);const{req:f,url:h,timeout:p}=await this.buildRequest(l,{retryCount:c-n});await this.prepareRequest(f,{url:h,options:l});const g="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),_=r===void 0?"":`, retryOf: ${r}`,S=Date.now();if(br(this).debug(`[${g}] sending request`,ru({retryOfRequestLogID:r,method:l.method,url:h,options:l,headers:f.headers})),!((o=l.signal)===null||o===void 0)&&o.aborted)throw new KA;const A=new AbortController,E=await this.fetchWithTimeout(h,f,p,A).catch(HA),M=Date.now();if(E instanceof globalThis.Error){const N=`retrying, ${n} attempts remaining`;if(!((s=l.signal)===null||s===void 0)&&s.aborted)throw new KA;const C=GA(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return br(this).info(`[${g}] connection ${C?"timed out":"failed"} - ${N}`),br(this).debug(`[${g}] connection ${C?"timed out":"failed"} (${N})`,ru({retryOfRequestLogID:r,url:h,durationMs:M-S,message:E.message})),this.retryRequest(l,n,r??g);throw br(this).info(`[${g}] connection ${C?"timed out":"failed"} - error; no more retries left`),br(this).debug(`[${g}] connection ${C?"timed out":"failed"} (error; no more retries left)`,ru({retryOfRequestLogID:r,url:h,durationMs:M-S,message:E.message})),C?new m8:new Eb({cause:E})}const I=`[${g}${_}] ${f.method} ${h} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${M-S}ms`;if(!E.ok){const N=await this.shouldRetry(E);if(n&&N){const V=`retrying, ${n} attempts remaining`;return await uge(E.body),br(this).info(`${I} - ${V}`),br(this).debug(`[${g}] response error (${V})`,ru({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:M-S})),this.retryRequest(l,n,r??g,E.headers)}const C=N?"error; no more retries left":"error; not retryable";br(this).info(`${I} - ${C}`);const R=await E.text().catch(V=>HA(V).message),U=tge(R),k=U?void 0:R;throw br(this).debug(`[${g}] response error (${C})`,ru({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:k,durationMs:Date.now()-S})),this.makeStatusError(E.status,U,k,E.headers)}return br(this).info(I),br(this).debug(`[${g}] response start`,ru({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:M-S})),{response:E,options:l,controller:A,requestLogID:g,retryOfRequestLogID:r,startTime:S}}async fetchWithTimeout(e,n,r,i){const o=n||{},{signal:s,method:l}=o,c=zv(o,["signal","method"]),f=this._makeAbort(i);s&&s.addEventListener("abort",f,{once:!0});const h=setTimeout(f,r),p=globalThis.ReadableStream&&c.body instanceof globalThis.ReadableStream||typeof c.body=="object"&&c.body!==null&&Symbol.asyncIterator in c.body,g=Object.assign(Object.assign(Object.assign({signal:i.signal},p?{duplex:"half"}:{}),{method:"GET"}),c);l&&(g.method=l.toUpperCase());try{return await this.fetch.call(void 0,e,g)}finally{clearTimeout(h)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var o;let s;const l=i==null?void 0:i.get("retry-after-ms");if(l){const f=parseFloat(l);Number.isNaN(f)||(s=f)}const c=i==null?void 0:i.get("retry-after");if(c&&!s){const f=parseFloat(c);Number.isNaN(f)?s=Date.parse(c)-Date.now():s=f*1e3}if(!(s&&0<=s&&s<60*1e3)){const f=(o=e.maxRetries)!==null&&o!==void 0?o:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,f)}return await nge(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const o=n-e,s=Math.min(.5*Math.pow(2,o),8),l=1-Math.random()*.25;return s*l*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,o;const s=Object.assign({},e),{method:l,path:c,query:f,defaultBaseURL:h}=s,p=this.buildURL(c,f,h);"timeout"in s&&ege("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:g,body:_}=this.buildBody({options:s}),S=await this.buildHeaders({options:e,method:l,bodyHeaders:g,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:l,headers:S},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&_ instanceof globalThis.ReadableStream&&{duplex:"half"}),_&&{body:_}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(o=s.fetchOptions)!==null&&o!==void 0?o:{}),url:p,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let o={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let l=mh([o,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),sge()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(l),l.values}_makeAbort(e){return()=>e.abort()}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=mh([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:lge(e)}:this.encoder({body:e,headers:r})}}Ab.DEFAULT_TIMEOUT=6e4;class qn extends Ab{constructor(){super(...arguments),this.interactions=new P8(this)}}M8=qn;qn.GeminiNextGenAPIClient=M8;qn.GeminiNextGenAPIClientError=Ni;qn.APIError=wr;qn.APIConnectionError=Eb;qn.APIConnectionTimeoutError=m8;qn.APIUserAbortError=KA;qn.NotFoundError=b8;qn.ConflictError=x8;qn.RateLimitError=w8;qn.BadRequestError=g8;qn.AuthenticationError=y8;qn.InternalServerError=T8;qn.PermissionDeniedError=v8;qn.UnprocessableEntityError=_8;qn.toFile=mge;qn.Interactions=P8;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ige(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Nge(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Rge(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function Pge(t,e){const n={},r=y(t,["sdkHttpResponse"]);return r!=null&&b(n,["sdkHttpResponse"],r),n}function kge(t,e,n){const r={};if(y(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=y(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&b(e,["displayName"],i),y(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=y(t,["epochCount"]);e!==void 0&&o!=null&&b(e,["tuningTask","hyperparameters","epochCount"],o);const s=y(t,["learningRateMultiplier"]);if(s!=null&&b(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),y(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(y(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(y(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(y(t,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(y(t,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const l=y(t,["batchSize"]);e!==void 0&&l!=null&&b(e,["tuningTask","hyperparameters","batchSize"],l);const c=y(t,["learningRate"]);if(e!==void 0&&c!=null&&b(e,["tuningTask","hyperparameters","learningRate"],c),y(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(y(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(y(t,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(y(t,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(y(t,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(y(t,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(y(t,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return r}function Mge(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec"],Uw(U))}else if(i==="PREFERENCE_TUNING"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&b(e,["preferenceOptimizationSpec"],Uw(U))}else if(i==="DISTILLATION"){const U=y(t,["validationDataset"]);e!==void 0&&U!=null&&b(e,["distillationSpec"],Uw(U))}const o=y(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&b(e,["tunedModelDisplayName"],o);const s=y(t,["description"]);e!==void 0&&s!=null&&b(e,["description"],s);let l=y(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec","hyperParameters","epochCount"],U)}else if(l==="PREFERENCE_TUNING"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],U)}else if(l==="DISTILLATION"){const U=y(t,["epochCount"]);e!==void 0&&U!=null&&b(e,["distillationSpec","hyperParameters","epochCount"],U)}let c=y(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],U)}else if(c==="PREFERENCE_TUNING"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],U)}else if(c==="DISTILLATION"){const U=y(t,["learningRateMultiplier"]);e!==void 0&&U!=null&&b(e,["distillationSpec","hyperParameters","learningRateMultiplier"],U)}let f=y(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec","exportLastCheckpointOnly"],U)}else if(f==="PREFERENCE_TUNING"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&b(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],U)}else if(f==="DISTILLATION"){const U=y(t,["exportLastCheckpointOnly"]);e!==void 0&&U!=null&&b(e,["distillationSpec","exportLastCheckpointOnly"],U)}let h=y(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec","hyperParameters","adapterSize"],U)}else if(h==="PREFERENCE_TUNING"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],U)}else if(h==="DISTILLATION"){const U=y(t,["adapterSize"]);e!==void 0&&U!=null&&b(e,["distillationSpec","hyperParameters","adapterSize"],U)}let p=y(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const U=y(t,["tuningMode"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec","tuningMode"],U)}const g=y(t,["customBaseModel"]);e!==void 0&&g!=null&&b(e,["customBaseModel"],g);let _=y(n,["config","method"]);if(_===void 0&&(_="SUPERVISED_FINE_TUNING"),_==="SUPERVISED_FINE_TUNING"){const U=y(t,["batchSize"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec","hyperParameters","batchSize"],U)}let S=y(n,["config","method"]);if(S===void 0&&(S="SUPERVISED_FINE_TUNING"),S==="SUPERVISED_FINE_TUNING"){const U=y(t,["learningRate"]);e!==void 0&&U!=null&&b(e,["supervisedTuningSpec","hyperParameters","learningRate"],U)}const A=y(t,["labels"]);e!==void 0&&A!=null&&b(e,["labels"],A);const E=y(t,["beta"]);e!==void 0&&E!=null&&b(e,["preferenceOptimizationSpec","hyperParameters","beta"],E);const M=y(t,["baseTeacherModel"]);e!==void 0&&M!=null&&b(e,["distillationSpec","baseTeacherModel"],M);const I=y(t,["tunedTeacherModelSource"]);e!==void 0&&I!=null&&b(e,["distillationSpec","tunedTeacherModelSource"],I);const N=y(t,["sftLossWeightMultiplier"]);e!==void 0&&N!=null&&b(e,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],N);const C=y(t,["outputUri"]);e!==void 0&&C!=null&&b(e,["outputUri"],C);const R=y(t,["encryptionSpec"]);return e!==void 0&&R!=null&&b(e,["encryptionSpec"],R),r}function Oge(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&Gge(o);const s=y(t,["config"]);return s!=null&&kge(s,n),n}function Dge(t,e){const n={},r=y(t,["baseModel"]);r!=null&&b(n,["baseModel"],r);const i=y(t,["preTunedModel"]);i!=null&&b(n,["preTunedModel"],i);const o=y(t,["trainingDataset"]);o!=null&&Hge(o,n,e);const s=y(t,["config"]);return s!=null&&Mge(s,n,e),n}function Lge(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Uge(t,e){const n={},r=y(t,["name"]);return r!=null&&b(n,["_url","name"],r),n}function Vge(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const s=y(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),r}function jge(t,e,n){const r={},i=y(t,["pageSize"]);e!==void 0&&i!=null&&b(e,["_query","pageSize"],i);const o=y(t,["pageToken"]);e!==void 0&&o!=null&&b(e,["_query","pageToken"],o);const s=y(t,["filter"]);return e!==void 0&&s!=null&&b(e,["_query","filter"],s),r}function Bge(t,e){const n={},r=y(t,["config"]);return r!=null&&Vge(r,n),n}function Fge(t,e){const n={},r=y(t,["config"]);return r!=null&&jge(r,n),n}function qge(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>O8(l))),b(n,["tuningJobs"],s)}return n}function zge(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["nextPageToken"]);i!=null&&b(n,["nextPageToken"],i);const o=y(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(l=>XA(l))),b(n,["tuningJobs"],s)}return n}function $ge(t,e){const n={},r=y(t,["name"]);r!=null&&b(n,["model"],r);const i=y(t,["name"]);return i!=null&&b(n,["endpoint"],i),n}function Gge(t,e){const n={};if(y(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(y(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=y(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),b(n,["examples","examples"],i)}return n}function Hge(t,e,n){const r={};let i=y(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(i==="DISTILLATION"){const s=y(t,["gcsUri"]);e!==void 0&&s!=null&&b(e,["distillationSpec","promptDatasetUri"],s)}let o=y(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}else if(o==="DISTILLATION"){const s=y(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&b(e,["distillationSpec","promptDatasetUri"],s)}if(y(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function O8(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["state"]);o!=null&&b(n,["state"],X$(o));const s=y(t,["createTime"]);s!=null&&b(n,["createTime"],s);const l=y(t,["tuningTask","startTime"]);l!=null&&b(n,["startTime"],l);const c=y(t,["tuningTask","completeTime"]);c!=null&&b(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=y(t,["description"]);h!=null&&b(n,["description"],h);const p=y(t,["baseModel"]);p!=null&&b(n,["baseModel"],p);const g=y(t,["_self"]);return g!=null&&b(n,["tunedModel"],$ge(g)),n}function XA(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["state"]);o!=null&&b(n,["state"],X$(o));const s=y(t,["createTime"]);s!=null&&b(n,["createTime"],s);const l=y(t,["startTime"]);l!=null&&b(n,["startTime"],l);const c=y(t,["endTime"]);c!=null&&b(n,["endTime"],c);const f=y(t,["updateTime"]);f!=null&&b(n,["updateTime"],f);const h=y(t,["error"]);h!=null&&b(n,["error"],h);const p=y(t,["description"]);p!=null&&b(n,["description"],p);const g=y(t,["baseModel"]);g!=null&&b(n,["baseModel"],g);const _=y(t,["tunedModel"]);_!=null&&b(n,["tunedModel"],_);const S=y(t,["preTunedModel"]);S!=null&&b(n,["preTunedModel"],S);const A=y(t,["supervisedTuningSpec"]);A!=null&&b(n,["supervisedTuningSpec"],A);const E=y(t,["preferenceOptimizationSpec"]);E!=null&&b(n,["preferenceOptimizationSpec"],E);const M=y(t,["distillationSpec"]);M!=null&&b(n,["distillationSpec"],M);const I=y(t,["tuningDataStats"]);I!=null&&b(n,["tuningDataStats"],I);const N=y(t,["encryptionSpec"]);N!=null&&b(n,["encryptionSpec"],N);const C=y(t,["partnerModelTuningSpec"]);C!=null&&b(n,["partnerModelTuningSpec"],C);const R=y(t,["customBaseModel"]);R!=null&&b(n,["customBaseModel"],R);const U=y(t,["experiment"]);U!=null&&b(n,["experiment"],U);const k=y(t,["labels"]);k!=null&&b(n,["labels"],k);const O=y(t,["outputUri"]);O!=null&&b(n,["outputUri"],O);const V=y(t,["pipelineJob"]);V!=null&&b(n,["pipelineJob"],V);const F=y(t,["serviceAccount"]);F!=null&&b(n,["serviceAccount"],F);const q=y(t,["tunedModelDisplayName"]);q!=null&&b(n,["tunedModelDisplayName"],q);const z=y(t,["veoTuningSpec"]);return z!=null&&b(n,["veoTuningSpec"],z),n}function Kge(t,e){const n={},r=y(t,["sdkHttpResponse"]);r!=null&&b(n,["sdkHttpResponse"],r);const i=y(t,["name"]);i!=null&&b(n,["name"],i);const o=y(t,["metadata"]);o!=null&&b(n,["metadata"],o);const s=y(t,["done"]);s!=null&&b(n,["done"],s);const l=y(t,["error"]);return l!=null&&b(n,["error"],l),n}function Uw(t,e){const n={},r=y(t,["gcsUri"]);r!=null&&b(n,["validationDatasetUri"],r);const i=y(t,["vertexDatasetResource"]);return i!=null&&b(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wge extends qs{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new $u(Us.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:UA.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Uge(e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>XA(h))}else{const f=Lge(e);return l=Me("{name}",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>O8(h))}}async listInternal(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Fge(e);return l=Me("tuningJobs",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=zge(h),g=new O5;return Object.assign(g,p),g})}else{const f=Bge(e);return l=Me("tunedModels",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=qge(h),g=new O5;return Object.assign(g,p),g})}}async cancel(e){var n,r,i,o;let s,l="",c={};if(this.apiClient.isVertexAI()){const f=Nge(e);return l=Me("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Pge(h),g=new D5;return Object.assign(g,p),g})}else{const f=Ige(e);return l=Me("{name}:cancel",f._url),c=f._query,delete f._url,delete f._query,s=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(p=>{const g=p;return g.sdkHttpResponse={headers:h.headers},g})),s.then(h=>{const p=Rge(h),g=new D5;return Object.assign(g,p),g})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const l=Dge(e,e);return o=Me("tuningJobs",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>XA(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const l=Oge(e);return o=Me("tunedModels",l._url),s=l._query,delete l._url,delete l._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const h=f;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>Kge(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Yge{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const Xge=1024*1024*8,Jge=3,Qge=1e3,Zge=2,Gv="x-goog-upload-status";async function eye(t,e,n){var r;const i=await D8(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function tye(t,e,n){var r;const i=await D8(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Gv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=$$(o),l=new $N;return Object.assign(l,s),l}async function D8(t,e,n){var r,i;let o=0,s=0,l=new jA(new Response),c="upload";for(o=t.size;s<o;){const f=Math.min(Xge,o-s),h=t.slice(s,s+f);s+f>=o&&(c+=", finalize");let p=0,g=Qge;for(;p<Jge&&(l=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(f)}}}),!(!((r=l==null?void 0:l.headers)===null||r===void 0)&&r[Gv]));)p++,await rye(g),g=g*Zge;if(s+=f,((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[Gv])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return l}async function nye(t){return{size:t.size,type:t.type}}function rye(t){return new Promise(e=>setTimeout(e,t))}class iye{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await eye(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await tye(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await nye(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oye{create(e,n,r){return new sye(e,n,r)}}class sye{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lU="x-goog-api-key";class aye{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(lU)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(lU,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lye="gl-node/";class Vw{get interactions(){var e;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const n=this.httpOptions;n!=null&&n.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const r=new qn({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:n==null?void 0:n.timeout,maxRetries:(e=n==null?void 0:n.retryOptions)===null||e===void 0?void 0:e.attempts});return this._interactions=r.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Jue(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new aye(this.apiKey);this.apiClient=new nme({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:lye+"web",uploader:new iye,downloader:new Yge}),this.models=new _me(this.apiClient),this.live=new mme(this.apiClient,i,new oye),this.batches=new Cfe(this.apiClient),this.chats=new lde(this.models,this.apiClient),this.caches=new ode(this.apiClient),this.files=new xde(this.apiClient),this.operations=new wme(this.apiClient),this.authTokens=new Vme(this.apiClient),this.tunings=new Wge(this.apiClient),this.fileSearchStores=new Hme(this.apiClient)}}const L8={async generateBio(t,e="Professional"){var n;try{const r=new Vw({apiKey:"PLACEHOLDER_API_KEY"}),i=t.role===Fe.BUSINESS,o=`
        Name: ${t.name}
        Role: ${t.role}
        Tags: ${t.tags.join(", ")}
        ${i?`Industry: ${t.industry}`:`Job: ${t.jobTitle}`}
        ${i?`Company: ${t.company}`:`School: ${t.school}`}
      `;let s="";switch(e){case"Fun":s="witty, humorous, and engaging using emojis";break;case"Creative":s="poetic, artistic, and unique";break;case"Hype":s="energetic, persuasive, and exciting with high energy";break;case"Professional":default:s="polished, concise, and trustworthy";break}const l=`Write a ${s} bio (max 2 sentences) for a ${i?"brand":"influencer/creator"} profile on a networking app called Ping. 
      Make it sound authentic.
      User Details:
      ${o}`;return((n=(await r.models.generateContent({model:"gemini-3-flash-preview",contents:l})).text)==null?void 0:n.trim())||""}catch(r){return console.error("Gemini Bio Error:",r),"Creative powerhouse ready to collaborate. Let's make magic happen! "}},async generateIcebreakers(t,e,n){try{const r=new Vw({apiKey:"PLACEHOLDER_API_KEY"}),i=`Generate 3 short, casual, and engaging conversation starters (icebreakers) to send to ${t}.
      Context: I am a ${n} on a professional networking app.
      Target User Interests: ${e.join(", ")}.
      
      Output strictly as a JSON array of strings. Example: ["Hey, love your work!", "Question about your rates?"]`,s=(await r.models.generateContent({model:"gemini-3-flash-preview",contents:i,config:{responseMimeType:"application/json",responseSchema:{type:Do.ARRAY,items:{type:Do.STRING}}}})).text;if(!s)return[];const l=JSON.parse(s);return Array.isArray(l)?l:[]}catch(r){return console.error("Gemini Icebreaker Error:",r),[`Hey ${t}, love your profile!`,`Hi! I saw you're interested in ${e[0]||"collaboration"}.`,"Would love to discuss a potential partnership."]}},async identifyLocation(t,e){var n;try{return((n=(await new Vw({apiKey:"PLACEHOLDER_API_KEY"}).models.generateContent({model:"gemini-2.5-flash",contents:"What is the specific City and State (or City and Country if outside US) for this location? Return ONLY the location string (e.g. 'San Francisco, CA'). Do not add any introduction or periods.",config:{tools:[{googleMaps:{}}],toolConfig:{retrievalConfig:{latLng:{latitude:t,longitude:e}}}}})).text)==null?void 0:n.trim())||""}catch(r){return console.error("Gemini Location Error:",r),""}}},uye=({stage:t,dealValue:e,onAction:n})=>{if(t==="NONE")return null;const r=[{id:"PROPOSAL_SENT",label:"Offer",icon:LN},{id:"AGREED",label:"Contract",icon:Im},{id:"ESCROW_FUNDED",label:"Escrow",icon:zu},{id:"COMPLETED",label:"Done",icon:Tf}],i=l=>{const c=["NONE","PROPOSAL_SENT","NEGOTIATION","AGREED","ESCROW_FUNDED","WORK_SUBMITTED","COMPLETED"],f=c.indexOf(t),h=c.indexOf(l);return f>h?"completed":f===h?"active":"pending"},o={PROPOSAL_SENT:{bg:"bg-blue-500/10 border-blue-500/20",text:"Proposal Pending",subtext:"Waiting for response...",action:"View Offer",color:"text-blue-500"},NEGOTIATION:{bg:"bg-orange-500/10 border-orange-500/20",text:"Negotiating Terms",subtext:"Review counter-offer",action:"Review",color:"text-orange-500"},AGREED:{bg:"bg-green-500/10 border-green-500/20",text:"Offer Accepted",subtext:"Waiting for funding",action:"Fund Escrow",color:"text-green-500"},ESCROW_FUNDED:{bg:"bg-purple-500/10 border-purple-500/20",text:"Active Collaboration",subtext:"Funds secured in escrow",action:"Submit Work",color:"text-purple-500"},WORK_SUBMITTED:{bg:"bg-yellow-500/10 border-yellow-500/20",text:"Work Submitted",subtext:"Review deliverables",action:"Release Funds",color:"text-yellow-500"},COMPLETED:{bg:"bg-green-500/10 border-green-500/20",text:"Campaign Completed",subtext:"Payment released",action:"View Receipt",color:"text-green-500"}},s=o[t]||o.PROPOSAL_SENT;return v.jsxs(qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`mx-4 mt-2 p-3 rounded-2xl border backdrop-blur-md shadow-sm ${s.bg}`,children:[v.jsxs("div",{className:"flex justify-between items-center mb-3 px-2 relative",children:[v.jsx("div",{className:"absolute top-1/2 left-0 w-full h-0.5 bg-gray-200 dark:bg-white/10 -z-10"}),r.map((l,c)=>{const f=i(l.id);return v.jsx("div",{className:"flex flex-col items-center gap-1 bg-white dark:bg-[#0f0c29] p-1 rounded-full z-10",children:v.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center transition-colors ${f==="completed"?"bg-green-500 text-white":f==="active"?"bg-pink-500 text-white":"bg-gray-200 dark:bg-white/20 text-gray-400"}`,children:f==="completed"?v.jsx(bu,{size:12}):v.jsx(l.icon,{size:12})})},l.id)})]}),v.jsxs("div",{className:"flex justify-between items-center pl-1",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h4",{className:`text-sm font-bold ${s.color}`,children:s.text}),e&&v.jsxs("span",{className:"text-xs font-mono bg-black/10 dark:bg-white/10 px-1.5 py-0.5 rounded text-gray-600 dark:text-white/80",children:["$",e]})]}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:s.subtext})]}),v.jsx("button",{onClick:n,className:"bg-white dark:bg-white/10 text-gray-900 dark:text-white text-xs font-bold px-4 py-2 rounded-xl shadow-sm hover:scale-105 transition-transform border border-black/5 dark:border-white/10",children:s.action})]})]})},cye=({onClose:t,onSend:e})=>{const[n,r]=W.useState(""),[i,o]=W.useState(""),[s,l]=W.useState(""),c=f=>{f.preventDefault(),n&&i&&s&&e({title:n,price:i,deadline:s})};return v.jsx("div",{className:"fixed inset-0 z-[160] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:v.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"w-full max-w-sm bg-[#1a1a1a] border border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"bg-gradient-to-r from-pink-600 to-orange-500 p-6 text-white flex justify-between items-center",children:[v.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[v.jsx(rl,{size:20})," Create Proposal"]}),v.jsx("button",{onClick:t,className:"p-1 hover:bg-white/20 rounded-full",children:v.jsx(Dr,{size:20})})]}),v.jsx("div",{className:"p-6",children:v.jsxs("form",{onSubmit:c,className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Deliverable"}),v.jsx("input",{type:"text",value:n,onChange:f=>r(f.target.value),placeholder:"e.g. 1 Instagram Reel + 3 Stories",className:"w-full bg-black/20 border border-white/10 rounded-xl px-4 py-3 text-white focus:outline-none focus:border-pink-500/50",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Price ($)"}),v.jsxs("div",{className:"relative",children:[v.jsx(DN,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),v.jsx("input",{type:"number",value:i,onChange:f=>o(f.target.value),placeholder:"500",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-9 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50",required:!0})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Deadline"}),v.jsxs("div",{className:"relative",children:[v.jsx(Jle,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),v.jsx("input",{type:"text",value:s,onChange:f=>l(f.target.value),placeholder:"7 Days",className:"w-full bg-black/20 border border-white/10 rounded-xl pl-9 pr-4 py-3 text-white focus:outline-none focus:border-pink-500/50",required:!0})]})]})]}),v.jsx("div",{className:"pt-4",children:v.jsx(Jt,{fullWidth:!0,type:"submit",children:"Send Proposal"})})]})})]})})},fye=({contract:t,onClose:e})=>v.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:v.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"w-full max-w-sm bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 text-white relative",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsx("div",{className:"bg-white/20 p-2 rounded-lg backdrop-blur-md",children:v.jsx(rl,{size:20})}),v.jsx("button",{onClick:e,className:"p-1 hover:bg-white/20 rounded-full",children:v.jsx(Yf,{size:20})})]}),v.jsx("h3",{className:"text-xl font-bold",children:t.title}),v.jsxs("p",{className:"opacity-80 text-sm",children:["Escrow Secure ID: #",t.id]})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex justify-between items-end mb-6",children:[v.jsx("span",{className:"text-sm text-gray-500 dark:text-white/50 font-bold uppercase tracking-wider",children:"Total Value"}),v.jsxs("span",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",t.totalAmount.toLocaleString()]})]}),v.jsxs("div",{className:"space-y-4 relative",children:[v.jsx("div",{className:"absolute left-[11px] top-2 bottom-2 w-0.5 bg-gray-200 dark:bg-white/10"}),t.milestones.map((n,r)=>v.jsxs("div",{className:"relative flex items-center gap-4",children:[v.jsx("div",{className:`z-10 w-6 h-6 rounded-full border-2 flex items-center justify-center shrink-0 ${n.status==="PAID"?"bg-green-500 border-green-500 text-white":n.status==="LOCKED"?"bg-gray-200 dark:bg-white/10 border-gray-300 dark:border-white/20 text-gray-400":"bg-white dark:bg-[#1a1a1a] border-blue-500 text-blue-500"}`,children:n.status==="PAID"?v.jsx(bu,{size:12}):n.status==="LOCKED"?v.jsx(zu,{size:12}):v.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})}),v.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-white/5 p-3 rounded-xl border border-black/5 dark:border-white/5 flex justify-between items-center",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:n.title}),v.jsxs("p",{className:"text-xs text-gray-500 dark:text-white/50 font-mono",children:["$",n.amount]})]}),v.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-md uppercase ${n.status==="PAID"?"bg-green-500/10 text-green-600 dark:text-green-400":n.status==="LOCKED"?"text-gray-400":"bg-blue-500/10 text-blue-600 dark:text-blue-400"}`,children:n.status})]})]},n.id))]}),v.jsx("div",{className:"mt-8",children:v.jsx(Jt,{fullWidth:!0,variant:"secondary",onClick:e,children:"Close Contract"})})]})]})}),dye=({match:t,onBack:e,isPremium:n,onUpgrade:r})=>{const[i,o]=W.useState([]),[s,l]=W.useState(""),[c,f]=W.useState(!0),[h,p]=W.useState([]),[g,_]=W.useState(!1),[S,A]=W.useState("NONE"),[E,M]=W.useState(void 0),[I,N]=W.useState(null),[C,R]=W.useState(!1),[U,k]=W.useState(!1),O=W.useRef(null);W.useEffect(()=>{q(),z(),i.length<2&&F()},[t.id]),W.useEffect(()=>{V()},[i]);const V=()=>{var X;(X=O.current)==null||X.scrollIntoView({behavior:"smooth"})},F=async()=>{_(!0);const X=t.userProfile.role==="INFLUENCER"?"BUSINESS":"INFLUENCER",te=await L8.generateIcebreakers(t.userProfile.name,t.userProfile.tags,X);p(te),_(!1)},q=async()=>{f(!0);const X=await kh.getMessages(t.id);o(X);const te=[...X].reverse().find(ce=>ce.type==="proposal");te&&te.proposalData&&(te.proposalData.status==="ACCEPTED"?(A("AGREED"),M(te.proposalData.price)):te.proposalData.status==="PENDING"&&(A("PROPOSAL_SENT"),M(te.proposalData.price))),f(!1)},z=async()=>{const X=await kh.getContract(t.id);N(X)},B=async X=>{if(X.preventDefault(),!s.trim())return;const te={id:Date.now().toString(),senderId:"current-user-123",text:s,timestamp:Date.now(),read:!1};o(ce=>[...ce,te]),l(""),await kh.sendMessage(t.id,te.text)},Q=async X=>{k(!1),A("PROPOSAL_SENT"),M(X.price);const te=` PROPOSAL: ${X.title} for $${X.price} (Due: ${X.deadline})`,ce={id:Date.now().toString(),senderId:"current-user-123",text:te,timestamp:Date.now(),read:!1,type:"proposal",proposalData:{...X,status:"PENDING"}};o(Y=>[...Y,ce]),await kh.sendMessage(t.id,te)},oe=(X,te)=>{o(ce=>ce.map(Y=>Y.id===X&&Y.proposalData?{...Y,proposalData:{...Y.proposalData,status:te}}:Y)),te==="ACCEPTED"?(A("AGREED"),q$({particleCount:150,spread:70,origin:{y:.6},colors:["#22c55e","#ffffff","#86efac"]}),setTimeout(()=>A("ESCROW_FUNDED"),3e3)):A("NONE")},K=()=>{S==="PROPOSAL_SENT"||S==="NEGOTIATION"?alert("Opening latest proposal details..."):S==="AGREED"?alert("Redirecting to Payment Gateway to fund escrow..."):S==="ESCROW_FUNDED"?alert("Upload deliverables form..."):S==="COMPLETED"&&R(!0)};return v.jsxs(qe.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-0 z-[100] bg-white dark:bg-[#0f0c29] flex flex-col h-[100dvh] transition-colors duration-300",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-brand-purple/20 to-brand-dark z-0 pointer-events-none opacity-0 dark:opacity-100"}),v.jsxs("div",{className:"bg-white/90 dark:bg-white/5 backdrop-blur-xl border-b border-pink-100 dark:border-white/5 p-4 flex items-center justify-between shrink-0 safe-top pt-safe z-10 relative",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:e,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-700 dark:text-white/80 transition-colors",children:v.jsx(Yf,{size:24})}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"relative",children:[v.jsx("img",{src:t.userProfile.avatar,alt:t.userProfile.name,className:"w-11 h-11 rounded-full object-cover border-2 border-white dark:border-white/10"}),v.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 rounded-full border-2 border-white dark:border-[#0f0c29]"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("h3",{className:"font-bold text-base text-gray-900 dark:text-white",children:t.userProfile.name}),t.userProfile.aiMatchScore&&(n?v.jsxs("span",{className:"text-[10px] font-bold text-pink-500 bg-pink-500/10 px-1.5 py-0.5 rounded border border-pink-500/20 flex items-center gap-1",children:[v.jsx(Tf,{size:8})," ",t.userProfile.aiMatchScore,"%"]}):v.jsxs("button",{onClick:r,className:"text-[10px] font-bold text-gray-400 bg-gray-100 dark:bg-white/10 px-1.5 py-0.5 rounded border border-transparent hover:border-pink-500/50 hover:text-pink-500 transition-colors flex items-center gap-1",children:[v.jsx(zu,{size:8})," AI"]}))]}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Online Now"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-4 text-gray-400 dark:text-white/60",children:[v.jsx("button",{onClick:()=>R(!0),className:"p-2 rounded-full hover:bg-blue-500/10 hover:text-blue-500 dark:hover:text-blue-400 transition-colors",title:"View Contract",children:v.jsx(LN,{size:22})}),v.jsx("button",{onClick:()=>k(!0),className:"p-2 rounded-full hover:bg-green-500/10 hover:text-green-500 dark:hover:text-green-400 transition-colors",title:"Create Proposal",children:v.jsx(rl,{size:22})})]})]}),v.jsx(dr,{children:S!=="NONE"&&v.jsx(uye,{stage:S,dealValue:E,onAction:K})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar relative z-10",children:[i.length<2&&!c&&v.jsxs("div",{className:"mb-6 space-y-2",children:[v.jsxs("div",{className:"flex items-center gap-2 text-xs font-bold text-pink-500 uppercase tracking-wider justify-center mb-3",children:[v.jsx(Tf,{size:12})," AI Suggested Icebreakers"]}),g?v.jsx("div",{className:"flex justify-center",children:v.jsx("div",{className:"w-4 h-4 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"})}):v.jsx("div",{className:"flex flex-col items-center gap-2",children:h.length>0?h.map((X,te)=>v.jsxs("button",{onClick:()=>l(X),className:"bg-white/40 dark:bg-white/5 hover:bg-pink-500/10 border border-white/20 dark:border-white/10 hover:border-pink-500/30 rounded-xl px-4 py-2 text-sm text-pink-900/70 dark:text-white/80 transition-all text-center max-w-xs",children:['"',X,'"']},te)):v.jsx("p",{className:"text-xs text-white/30",children:"No suggestions available."})})]}),c?v.jsx("div",{className:"flex justify-center pt-20",children:v.jsx("div",{className:"w-6 h-6 border-2 border-pink-500/50 border-t-pink-500 rounded-full animate-spin"})}):i.map((X,te)=>{var G;const ce=X.senderId==="current-user-123",Y=X.type==="proposal"||X.text.includes("PROPOSAL:"),L=((G=X.proposalData)==null?void 0:G.status)||"PENDING";return v.jsx(qe.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex ${ce?"justify-end":"justify-start"}`,children:v.jsx("div",{className:`
                     max-w-[85%] text-[15px] leading-relaxed shadow-sm overflow-hidden
                     ${Y?"bg-[#1a1a1a] border border-green-500/30 text-white rounded-2xl w-full max-w-xs":ce?"bg-gradient-to-br from-pink-500 to-orange-400 text-white rounded-2xl rounded-tr-sm px-5 py-3":"bg-white dark:bg-white/10 text-gray-800 dark:text-white rounded-2xl rounded-tl-sm border border-pink-100 dark:border-transparent px-5 py-3"}
                   `,children:Y?v.jsxs("div",{className:`p-4 transition-opacity duration-300 ${L==="DECLINED"?"opacity-50 grayscale":""}`,children:[v.jsxs("div",{className:"flex items-center justify-between mb-2 border-b border-white/10 pb-2",children:[v.jsxs("div",{className:"flex items-center gap-2 text-green-400 font-bold text-xs uppercase tracking-widest",children:[v.jsx(rl,{size:14})," Proposal"]}),L==="ACCEPTED"&&v.jsxs("span",{className:"text-[10px] font-bold bg-green-500 text-black px-2 py-0.5 rounded-full flex items-center gap-1",children:[v.jsx(Im,{size:10})," ACTIVE"]}),L==="DECLINED"&&v.jsxs("span",{className:"text-[10px] font-bold bg-red-500/20 text-red-500 px-2 py-0.5 rounded-full flex items-center gap-1",children:[v.jsx(Pue,{size:10})," DECLINED"]})]}),X.proposalData?v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"font-bold text-lg leading-tight",children:X.proposalData.title}),v.jsxs("div",{className:"flex gap-4 text-sm text-white/70 bg-white/5 p-2 rounded-lg",children:[v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx(DN,{size:14,className:"text-green-400"})," ",X.proposalData.price]}),v.jsx("span",{className:"w-px h-4 bg-white/10"}),v.jsxs("span",{className:"flex items-center gap-1.5",children:[v.jsx(eue,{size:14,className:"text-blue-400"})," ",X.proposalData.deadline]})]})]}):v.jsx("p",{children:X.text}),L==="PENDING"&&v.jsxs("div",{className:"mt-4 pt-2 border-t border-white/10 flex gap-2",children:[v.jsx("button",{onClick:()=>oe(X.id,"ACCEPTED"),className:"flex-1 bg-green-500 text-black text-xs font-bold py-2.5 rounded-lg hover:bg-green-400 transition-colors shadow-lg shadow-green-500/20",children:"ACCEPT DEAL"}),v.jsx("button",{onClick:()=>oe(X.id,"DECLINED"),className:"flex-1 bg-white/10 text-white/70 text-xs font-bold py-2.5 rounded-lg hover:bg-white/20 hover:text-white transition-colors",children:"DECLINE"})]})]}):X.text})},X.id)}),v.jsx("div",{ref:O})]}),v.jsx("div",{className:"p-4 bg-white/90 dark:bg-white/5 backdrop-blur-xl shrink-0 safe-bottom border-t border-pink-100 dark:border-white/5 relative z-10 transition-colors",children:v.jsxs("form",{onSubmit:B,className:"flex items-center gap-3",children:[v.jsx("button",{type:"button",className:"p-2 text-gray-400 dark:text-white/40 hover:text-pink-500 dark:hover:text-pink-400 transition-colors",children:v.jsx(lue,{size:24})}),v.jsxs("div",{className:"flex-1 relative",children:[v.jsx("input",{type:"text",value:s,onChange:X=>l(X.target.value),placeholder:"Say something nice...",className:"w-full bg-white dark:bg-white/10 border border-pink-100 dark:border-transparent focus:border-pink-500/50 rounded-full pl-5 pr-10 py-3.5 text-sm text-gray-900 dark:text-white focus:outline-none focus:bg-white dark:focus:bg-white/15 transition-colors placeholder:text-gray-400 dark:placeholder:text-white/30"}),v.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 dark:text-white/40 hover:text-gray-600 dark:hover:text-white",children:v.jsx(Tue,{size:20})})]}),v.jsx("button",{type:"submit",disabled:!s.trim(),className:"w-12 h-12 rounded-full bg-pink-500 text-white flex items-center justify-center shadow-lg shadow-pink-500/30 disabled:opacity-50 disabled:shadow-none hover:scale-105 transition-all",children:v.jsx(xue,{size:20,className:"ml-0.5"})})]})}),v.jsxs(dr,{children:[C&&I&&v.jsx(fye,{contract:I,onClose:()=>R(!1)}),U&&v.jsx(cye,{onClose:()=>k(!1),onSend:Q})]})]})};function U8(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=U8(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function kt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=U8(t))&&(r&&(r+=" "),r+=e);return r}var jw,uU;function Lr(){if(uU)return jw;uU=1;var t=Array.isArray;return jw=t,jw}var Bw,cU;function V8(){if(cU)return Bw;cU=1;var t=typeof dy=="object"&&dy&&dy.Object===Object&&dy;return Bw=t,Bw}var Fw,fU;function Yo(){if(fU)return Fw;fU=1;var t=V8(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return Fw=n,Fw}var qw,dU;function Rm(){if(dU)return qw;dU=1;var t=Yo(),e=t.Symbol;return qw=e,qw}var zw,hU;function hye(){if(hU)return zw;hU=1;var t=Rm(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(s){var l=n.call(s,i),c=s[i];try{s[i]=void 0;var f=!0}catch{}var h=r.call(s);return f&&(l?s[i]=c:delete s[i]),h}return zw=o,zw}var $w,pU;function pye(){if(pU)return $w;pU=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return $w=n,$w}var Gw,mU;function $s(){if(mU)return Gw;mU=1;var t=Rm(),e=hye(),n=pye(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?i:r:o&&o in Object(l)?e(l):n(l)}return Gw=s,Gw}var Hw,gU;function Gs(){if(gU)return Hw;gU=1;function t(e){return e!=null&&typeof e=="object"}return Hw=t,Hw}var Kw,yU;function Zf(){if(yU)return Kw;yU=1;var t=$s(),e=Gs(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Kw=r,Kw}var Ww,vU;function QN(){if(vU)return Ww;vU=1;var t=Lr(),e=Zf(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){if(t(o))return!1;var l=typeof o;return l=="number"||l=="symbol"||l=="boolean"||o==null||e(o)?!0:r.test(o)||!n.test(o)||s!=null&&o in Object(s)}return Ww=i,Ww}var Yw,bU;function dl(){if(bU)return Yw;bU=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Yw=t,Yw}var Xw,xU;function ZN(){if(xU)return Xw;xU=1;var t=$s(),e=dl(),n="[object AsyncFunction]",r="[object Function]",i="[object GeneratorFunction]",o="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==r||c==i||c==n||c==o}return Xw=s,Xw}var Jw,_U;function mye(){if(_U)return Jw;_U=1;var t=Yo(),e=t["__core-js_shared__"];return Jw=e,Jw}var Qw,wU;function gye(){if(wU)return Qw;wU=1;var t=mye(),e=(function(){var r=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!e&&e in r}return Qw=n,Qw}var Zw,TU;function j8(){if(TU)return Zw;TU=1;var t=Function.prototype,e=t.toString;function n(r){if(r!=null){try{return e.call(r)}catch{}try{return r+""}catch{}}return""}return Zw=n,Zw}var eT,EU;function yye(){if(EU)return eT;EU=1;var t=ZN(),e=gye(),n=dl(),r=j8(),i=/[\\^$.*+?()[\]{}|]/g,o=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,f=l.hasOwnProperty,h=RegExp("^"+c.call(f).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!n(g)||e(g))return!1;var _=t(g)?h:o;return _.test(r(g))}return eT=p,eT}var tT,SU;function vye(){if(SU)return tT;SU=1;function t(e,n){return e==null?void 0:e[n]}return tT=t,tT}var nT,AU;function Gu(){if(AU)return nT;AU=1;var t=yye(),e=vye();function n(r,i){var o=e(r,i);return t(o)?o:void 0}return nT=n,nT}var rT,CU;function Cb(){if(CU)return rT;CU=1;var t=Gu(),e=t(Object,"create");return rT=e,rT}var iT,IU;function bye(){if(IU)return iT;IU=1;var t=Cb();function e(){this.__data__=t?t(null):{},this.size=0}return iT=e,iT}var oT,NU;function xye(){if(NU)return oT;NU=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return oT=t,oT}var sT,RU;function _ye(){if(RU)return sT;RU=1;var t=Cb(),e="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function i(o){var s=this.__data__;if(t){var l=s[o];return l===e?void 0:l}return r.call(s,o)?s[o]:void 0}return sT=i,sT}var aT,PU;function wye(){if(PU)return aT;PU=1;var t=Cb(),e=Object.prototype,n=e.hasOwnProperty;function r(i){var o=this.__data__;return t?o[i]!==void 0:n.call(o,i)}return aT=r,aT}var lT,kU;function Tye(){if(kU)return lT;kU=1;var t=Cb(),e="__lodash_hash_undefined__";function n(r,i){var o=this.__data__;return this.size+=this.has(r)?0:1,o[r]=t&&i===void 0?e:i,this}return lT=n,lT}var uT,MU;function Eye(){if(MU)return uT;MU=1;var t=bye(),e=xye(),n=_ye(),r=wye(),i=Tye();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,uT=o,uT}var cT,OU;function Sye(){if(OU)return cT;OU=1;function t(){this.__data__=[],this.size=0}return cT=t,cT}var fT,DU;function eR(){if(DU)return fT;DU=1;function t(e,n){return e===n||e!==e&&n!==n}return fT=t,fT}var dT,LU;function Ib(){if(LU)return dT;LU=1;var t=eR();function e(n,r){for(var i=n.length;i--;)if(t(n[i][0],r))return i;return-1}return dT=e,dT}var hT,UU;function Aye(){if(UU)return hT;UU=1;var t=Ib(),e=Array.prototype,n=e.splice;function r(i){var o=this.__data__,s=t(o,i);if(s<0)return!1;var l=o.length-1;return s==l?o.pop():n.call(o,s,1),--this.size,!0}return hT=r,hT}var pT,VU;function Cye(){if(VU)return pT;VU=1;var t=Ib();function e(n){var r=this.__data__,i=t(r,n);return i<0?void 0:r[i][1]}return pT=e,pT}var mT,jU;function Iye(){if(jU)return mT;jU=1;var t=Ib();function e(n){return t(this.__data__,n)>-1}return mT=e,mT}var gT,BU;function Nye(){if(BU)return gT;BU=1;var t=Ib();function e(n,r){var i=this.__data__,o=t(i,n);return o<0?(++this.size,i.push([n,r])):i[o][1]=r,this}return gT=e,gT}var yT,FU;function Nb(){if(FU)return yT;FU=1;var t=Sye(),e=Aye(),n=Cye(),r=Iye(),i=Nye();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,yT=o,yT}var vT,qU;function tR(){if(qU)return vT;qU=1;var t=Gu(),e=Yo(),n=t(e,"Map");return vT=n,vT}var bT,zU;function Rye(){if(zU)return bT;zU=1;var t=Eye(),e=Nb(),n=tR();function r(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return bT=r,bT}var xT,$U;function Pye(){if($U)return xT;$U=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return xT=t,xT}var _T,GU;function Rb(){if(GU)return _T;GU=1;var t=Pye();function e(n,r){var i=n.__data__;return t(r)?i[typeof r=="string"?"string":"hash"]:i.map}return _T=e,_T}var wT,HU;function kye(){if(HU)return wT;HU=1;var t=Rb();function e(n){var r=t(this,n).delete(n);return this.size-=r?1:0,r}return wT=e,wT}var TT,KU;function Mye(){if(KU)return TT;KU=1;var t=Rb();function e(n){return t(this,n).get(n)}return TT=e,TT}var ET,WU;function Oye(){if(WU)return ET;WU=1;var t=Rb();function e(n){return t(this,n).has(n)}return ET=e,ET}var ST,YU;function Dye(){if(YU)return ST;YU=1;var t=Rb();function e(n,r){var i=t(this,n),o=i.size;return i.set(n,r),this.size+=i.size==o?0:1,this}return ST=e,ST}var AT,XU;function nR(){if(XU)return AT;XU=1;var t=Rye(),e=kye(),n=Mye(),r=Oye(),i=Dye();function o(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var f=s[l];this.set(f[0],f[1])}}return o.prototype.clear=t,o.prototype.delete=e,o.prototype.get=n,o.prototype.has=r,o.prototype.set=i,AT=o,AT}var CT,JU;function B8(){if(JU)return CT;JU=1;var t=nR(),e="Expected a function";function n(r,i){if(typeof r!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var o=function(){var s=arguments,l=i?i.apply(this,s):s[0],c=o.cache;if(c.has(l))return c.get(l);var f=r.apply(this,s);return o.cache=c.set(l,f)||c,f};return o.cache=new(n.Cache||t),o}return n.Cache=t,CT=n,CT}var IT,QU;function Lye(){if(QU)return IT;QU=1;var t=B8(),e=500;function n(r){var i=t(r,function(s){return o.size===e&&o.clear(),s}),o=i.cache;return i}return IT=n,IT}var NT,ZU;function Uye(){if(ZU)return NT;ZU=1;var t=Lye(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=t(function(i){var o=[];return i.charCodeAt(0)===46&&o.push(""),i.replace(e,function(s,l,c,f){o.push(c?f.replace(n,"$1"):l||s)}),o});return NT=r,NT}var RT,eV;function rR(){if(eV)return RT;eV=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=Array(i);++r<i;)o[r]=n(e[r],r,e);return o}return RT=t,RT}var PT,tV;function Vye(){if(tV)return PT;tV=1;var t=Rm(),e=rR(),n=Lr(),r=Zf(),i=t?t.prototype:void 0,o=i?i.toString:void 0;function s(l){if(typeof l=="string")return l;if(n(l))return e(l,s)+"";if(r(l))return o?o.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return PT=s,PT}var kT,nV;function F8(){if(nV)return kT;nV=1;var t=Vye();function e(n){return n==null?"":t(n)}return kT=e,kT}var MT,rV;function q8(){if(rV)return MT;rV=1;var t=Lr(),e=QN(),n=Uye(),r=F8();function i(o,s){return t(o)?o:e(o,s)?[o]:n(r(o))}return MT=i,MT}var OT,iV;function Pb(){if(iV)return OT;iV=1;var t=Zf();function e(n){if(typeof n=="string"||t(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return OT=e,OT}var DT,oV;function iR(){if(oV)return DT;oV=1;var t=q8(),e=Pb();function n(r,i){i=t(i,r);for(var o=0,s=i.length;r!=null&&o<s;)r=r[e(i[o++])];return o&&o==s?r:void 0}return DT=n,DT}var LT,sV;function z8(){if(sV)return LT;sV=1;var t=iR();function e(n,r,i){var o=n==null?void 0:t(n,r);return o===void 0?i:o}return LT=e,LT}var jye=z8();const Ci=Bt(jye);var UT,aV;function Bye(){if(aV)return UT;aV=1;function t(e){return e==null}return UT=t,UT}var Fye=Bye();const yt=Bt(Fye);var VT,lV;function qye(){if(lV)return VT;lV=1;var t=$s(),e=Lr(),n=Gs(),r="[object String]";function i(o){return typeof o=="string"||!e(o)&&n(o)&&t(o)==r}return VT=i,VT}var zye=qye();const Pm=Bt(zye);var $ye=ZN();const ut=Bt($ye);var Gye=dl();const ed=Bt(Gye);var jT={exports:{}},St={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uV;function Hye(){if(uV)return St;uV=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,o=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,f=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,_=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,A=t?Symbol.for("react.block"):60121,E=t?Symbol.for("react.fundamental"):60117,M=t?Symbol.for("react.responder"):60118,I=t?Symbol.for("react.scope"):60119;function N(R){if(typeof R=="object"&&R!==null){var U=R.$$typeof;switch(U){case e:switch(R=R.type,R){case c:case f:case r:case o:case i:case p:return R;default:switch(R=R&&R.$$typeof,R){case l:case h:case S:case _:case s:return R;default:return U}}case n:return U}}}function C(R){return N(R)===f}return St.AsyncMode=c,St.ConcurrentMode=f,St.ContextConsumer=l,St.ContextProvider=s,St.Element=e,St.ForwardRef=h,St.Fragment=r,St.Lazy=S,St.Memo=_,St.Portal=n,St.Profiler=o,St.StrictMode=i,St.Suspense=p,St.isAsyncMode=function(R){return C(R)||N(R)===c},St.isConcurrentMode=C,St.isContextConsumer=function(R){return N(R)===l},St.isContextProvider=function(R){return N(R)===s},St.isElement=function(R){return typeof R=="object"&&R!==null&&R.$$typeof===e},St.isForwardRef=function(R){return N(R)===h},St.isFragment=function(R){return N(R)===r},St.isLazy=function(R){return N(R)===S},St.isMemo=function(R){return N(R)===_},St.isPortal=function(R){return N(R)===n},St.isProfiler=function(R){return N(R)===o},St.isStrictMode=function(R){return N(R)===i},St.isSuspense=function(R){return N(R)===p},St.isValidElementType=function(R){return typeof R=="string"||typeof R=="function"||R===r||R===f||R===o||R===i||R===p||R===g||typeof R=="object"&&R!==null&&(R.$$typeof===S||R.$$typeof===_||R.$$typeof===s||R.$$typeof===l||R.$$typeof===h||R.$$typeof===E||R.$$typeof===M||R.$$typeof===I||R.$$typeof===A)},St.typeOf=N,St}var cV;function Kye(){return cV||(cV=1,jT.exports=Hye()),jT.exports}var JA=Kye(),BT,fV;function $8(){if(fV)return BT;fV=1;var t=$s(),e=Gs(),n="[object Number]";function r(i){return typeof i=="number"||e(i)&&t(i)==n}return BT=r,BT}var FT,dV;function Wye(){if(dV)return FT;dV=1;var t=$8();function e(n){return t(n)&&n!=+n}return FT=e,FT}var Yye=Wye();const td=Bt(Yye);var Xye=$8();const Jye=Bt(Xye);var Yi=function(e){return e===0?0:e>0?1:-1},cu=function(e){return Pm(e)&&e.indexOf("%")===e.length-1},Pe=function(e){return Jye(e)&&!td(e)},Pn=function(e){return Pe(e)||Pm(e)},Qye=0,km=function(e){var n=++Qye;return"".concat(e||"").concat(n)},Ef=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Pe(e)&&!Pm(e))return r;var o;if(cu(e)){var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return td(o)&&(o=r),i&&o>n&&(o=n),o},Kc=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Zye=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},wi=function(e,n){return Pe(e)&&Pe(n)?function(r){return e+r*(n-e)}:function(){return n}};function Hv(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ci(r,e))===n})}function hf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function QA(t){"@babel/helpers - typeof";return QA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QA(t)}var eve=["viewBox","children"],tve=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],hV=["points","pathLength"],qT={svg:eve,polygon:hV,polyline:hV},oR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Kv=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(W.isValidElement(e)&&(r=e.props),!ed(r))return null;var i={};return Object.keys(r).forEach(function(o){oR.includes(o)&&(i[o]=n||function(s){return r[o](r,s)})}),i},nve=function(e,n,r){return function(i){return e(n,r,i),null}},Wv=function(e,n,r){if(!ed(e)||QA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var s=e[o];oR.includes(o)&&typeof s=="function"&&(i||(i={}),i[o]=nve(s,n,r))}),i},rve=["children"],ive=["children"];function pV(t,e){if(t==null)return{};var n=ove(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ove(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZA(t){"@babel/helpers - typeof";return ZA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZA(t)}var mV={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Ps=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},gV=null,zT=null,sR=function t(e){if(e===gV&&Array.isArray(zT))return zT;var n=[];return W.Children.forEach(e,function(r){yt(r)||(JA.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),zT=n,gV=e,n};function Zi(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ps(i)}):r=[Ps(e)],sR(t).forEach(function(i){var o=Ci(i,"type.displayName")||Ci(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Yr(t,e){var n=Zi(t,e);return n&&n[0]}var yV=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Pe(r)||r<=0||!Pe(i)||i<=0)},sve=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ave=function(e){return e&&e.type&&Pm(e.type)&&sve.indexOf(e.type)>=0},lve=function(e){return e&&ZA(e)==="object"&&"cx"in e&&"cy"in e&&"r"in e},uve=function(e,n,r,i){var o,s=(o=qT==null?void 0:qT[i])!==null&&o!==void 0?o:[];return!ut(e)&&(i&&s.includes(n)||tve.includes(n))||r&&oR.includes(n)},ft=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(W.isValidElement(e)&&(i=e.props),!ed(i))return null;var o={};return Object.keys(i).forEach(function(s){var l;uve((l=i)===null||l===void 0?void 0:l[s],s,n,r)&&(o[s]=i[s])}),o},eC=function t(e,n){if(e===n)return!0;var r=W.Children.count(e);if(r!==W.Children.count(n))return!1;if(r===0)return!0;if(r===1)return vV(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],s=n[i];if(Array.isArray(o)||Array.isArray(s)){if(!t(o,s))return!1}else if(!vV(o,s))return!1}return!0},vV=function(e,n){if(yt(e)&&yt(n))return!0;if(!yt(e)&&!yt(n)){var r=e.props||{},i=r.children,o=pV(r,rve),s=n.props||{},l=s.children,c=pV(s,ive);return i&&l?hf(o,c)&&eC(i,l):!i&&!l?hf(o,c):!1}return!1},bV=function(e,n){var r=[],i={};return sR(e).forEach(function(o,s){if(ave(o))r.push(o);else if(o){var l=Ps(o.type),c=n[l]||{},f=c.handler,h=c.once;if(f&&(!h||!i[l])){var p=f(o,l,s);r.push(p),i[l]=!0}}}),r},cve=function(e){var n=e&&e.type;return n&&mV[n]?mV[n]:null},fve=function(e,n){return sR(n).indexOf(e)},dve=["children","width","height","viewBox","className","style","title","desc"];function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tC.apply(this,arguments)}function hve(t,e){if(t==null)return{};var n=pve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nC(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,s=t.style,l=t.title,c=t.desc,f=hve(t,dve),h=i||{width:n,height:r,x:0,y:0},p=kt("recharts-surface",o);return re.createElement("svg",tC({},ft(f,!0,"svg"),{className:p,width:n,height:r,style:s,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),re.createElement("title",null,l),re.createElement("desc",null,c),e)}var mve=["children","className"];function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rC.apply(this,arguments)}function gve(t,e){if(t==null)return{};var n=yve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yve(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var tn=re.forwardRef(function(t,e){var n=t.children,r=t.className,i=gve(t,mve),o=kt("recharts-layer",r);return re.createElement("g",rC({className:o},ft(i,!0),{ref:e}),n)}),xu=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]},$T,xV;function vve(){if(xV)return $T;xV=1;function t(e,n,r){var i=-1,o=e.length;n<0&&(n=-n>o?0:o+n),r=r>o?o:r,r<0&&(r+=o),o=n>r?0:r-n>>>0,n>>>=0;for(var s=Array(o);++i<o;)s[i]=e[i+n];return s}return $T=t,$T}var GT,_V;function bve(){if(_V)return GT;_V=1;var t=vve();function e(n,r,i){var o=n.length;return i=i===void 0?o:i,!r&&i>=o?n:t(n,r,i)}return GT=e,GT}var HT,wV;function G8(){if(wV)return HT;wV=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+i+o+"]");function c(f){return l.test(f)}return HT=c,HT}var KT,TV;function xve(){if(TV)return KT;TV=1;function t(e){return e.split("")}return KT=t,KT}var WT,EV;function _ve(){if(EV)return WT;EV=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",i=e+n+r,o="\\ufe0e\\ufe0f",s="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",f="(?:"+l+"|"+c+")",h="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",_="\\u200d",S=f+"?",A="["+o+"]?",E="(?:"+_+"(?:"+[h,p,g].join("|")+")"+A+S+")*",M=A+S+E,I="(?:"+[h+l+"?",l,p,g,s].join("|")+")",N=RegExp(c+"(?="+c+")|"+I+M,"g");function C(R){return R.match(N)||[]}return WT=C,WT}var YT,SV;function wve(){if(SV)return YT;SV=1;var t=xve(),e=G8(),n=_ve();function r(i){return e(i)?n(i):t(i)}return YT=r,YT}var XT,AV;function Tve(){if(AV)return XT;AV=1;var t=bve(),e=G8(),n=wve(),r=F8();function i(o){return function(s){s=r(s);var l=e(s)?n(s):void 0,c=l?l[0]:s.charAt(0),f=l?t(l,1).join(""):s.slice(1);return c[o]()+f}}return XT=i,XT}var JT,CV;function Eve(){if(CV)return JT;CV=1;var t=Tve(),e=t("toUpperCase");return JT=e,JT}var Sve=Eve();const kb=Bt(Sve);function Ft(t){return function(){return t}}const H8=Math.cos,Yv=Math.sin,oo=Math.sqrt,Xv=Math.PI,Mb=2*Xv,iC=Math.PI,oC=2*iC,iu=1e-6,Ave=oC-iu;function K8(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Cve(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return K8;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ive{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?K8:Cve(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,l=this._y1,c=r-e,f=i-n,h=s-e,p=l-n,g=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(g>iu)if(!(Math.abs(p*c-f*h)>iu)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let _=r-s,S=i-l,A=c*c+f*f,E=_*_+S*S,M=Math.sqrt(A),I=Math.sqrt(g),N=o*Math.tan((iC-Math.acos((A+g-E)/(2*M*I)))/2),C=N/I,R=N/M;Math.abs(C-1)>iu&&this._append`L${e+C*h},${n+C*p}`,this._append`A${o},${o},0,0,${+(p*_>h*S)},${this._x1=e+R*c},${this._y1=n+R*f}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let l=r*Math.cos(i),c=r*Math.sin(i),f=e+l,h=n+c,p=1^s,g=s?i-o:o-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>iu||Math.abs(this._y1-h)>iu)&&this._append`L${f},${h}`,r&&(g<0&&(g=g%oC+oC),g>Ave?this._append`A${r},${r},0,1,${p},${e-l},${n-c}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:g>iu&&this._append`A${r},${r},0,${+(g>=iC)},${p},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function aR(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ive(e)}function lR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function W8(t){this._context=t}W8.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Ob(t){return new W8(t)}function Y8(t){return t[0]}function X8(t){return t[1]}function J8(t,e){var n=Ft(!0),r=null,i=Ob,o=null,s=aR(l);t=typeof t=="function"?t:t===void 0?Y8:Ft(t),e=typeof e=="function"?e:e===void 0?X8:Ft(e);function l(c){var f,h=(c=lR(c)).length,p,g=!1,_;for(r==null&&(o=i(_=s())),f=0;f<=h;++f)!(f<h&&n(p=c[f],f,c))===g&&((g=!g)?o.lineStart():o.lineEnd()),g&&o.point(+t(p,f,c),+e(p,f,c));if(_)return o=null,_+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ft(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ft(+c),l):e},l.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Ft(!!c),l):n},l.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),l):i},l.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),l):r},l}function ky(t,e,n){var r=null,i=Ft(!0),o=null,s=Ob,l=null,c=aR(f);t=typeof t=="function"?t:t===void 0?Y8:Ft(+t),e=typeof e=="function"?e:Ft(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?X8:Ft(+n);function f(p){var g,_,S,A=(p=lR(p)).length,E,M=!1,I,N=new Array(A),C=new Array(A);for(o==null&&(l=s(I=c())),g=0;g<=A;++g){if(!(g<A&&i(E=p[g],g,p))===M)if(M=!M)_=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),S=g-1;S>=_;--S)l.point(N[S],C[S]);l.lineEnd(),l.areaEnd()}M&&(N[g]=+t(E,g,p),C[g]=+e(E,g,p),l.point(r?+r(E,g,p):N[g],n?+n(E,g,p):C[g]))}if(I)return l=null,I+""||null}function h(){return J8().defined(i).curve(s).context(o)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ft(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ft(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ft(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ft(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ft(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ft(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ft(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,o!=null&&(l=s(o)),f):s},f.context=function(p){return arguments.length?(p==null?o=l=null:l=s(o=p),f):o},f}class Q8{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function Nve(t){return new Q8(t,!0)}function Rve(t){return new Q8(t,!1)}const uR={draw(t,e){const n=oo(e/Xv);t.moveTo(n,0),t.arc(0,0,n,0,Mb)}},Pve={draw(t,e){const n=oo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Z8=oo(1/3),kve=Z8*2,Mve={draw(t,e){const n=oo(e/kve),r=n*Z8;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Ove={draw(t,e){const n=oo(e),r=-n/2;t.rect(r,r,n,n)}},Dve=.8908130915292852,eG=Yv(Xv/10)/Yv(7*Xv/10),Lve=Yv(Mb/10)*eG,Uve=-H8(Mb/10)*eG,Vve={draw(t,e){const n=oo(e*Dve),r=Lve*n,i=Uve*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=Mb*o/5,l=H8(s),c=Yv(s);t.lineTo(c*n,-l*n),t.lineTo(l*r-c*i,c*r+l*i)}t.closePath()}},QT=oo(3),jve={draw(t,e){const n=-oo(e/(QT*3));t.moveTo(0,n*2),t.lineTo(-QT*n,-n),t.lineTo(QT*n,-n),t.closePath()}},yi=-.5,vi=oo(3)/2,sC=1/oo(12),Bve=(sC/2+1)*3,Fve={draw(t,e){const n=oo(e/Bve),r=n/2,i=n*sC,o=r,s=n*sC+n,l=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(l,c),t.lineTo(yi*r-vi*i,vi*r+yi*i),t.lineTo(yi*o-vi*s,vi*o+yi*s),t.lineTo(yi*l-vi*c,vi*l+yi*c),t.lineTo(yi*r+vi*i,yi*i-vi*r),t.lineTo(yi*o+vi*s,yi*s-vi*o),t.lineTo(yi*l+vi*c,yi*c-vi*l),t.closePath()}};function qve(t,e){let n=null,r=aR(i);t=typeof t=="function"?t:Ft(t||uR),e=typeof e=="function"?e:Ft(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ft(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ft(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Jv(){}function Qv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function tG(t){this._context=t}tG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zve(t){return new tG(t)}function nG(t){this._context=t}nG.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function $ve(t){return new nG(t)}function rG(t){this._context=t}rG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Gve(t){return new rG(t)}function iG(t){this._context=t}iG.prototype={areaStart:Jv,areaEnd:Jv,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Hve(t){return new iG(t)}function IV(t){return t<0?-1:1}function NV(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),l=(o*i+s*r)/(r+i);return(IV(o)+IV(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(l))||0}function RV(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ZT(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,l=(o-r)/3;t._context.bezierCurveTo(r+l,i+l*e,o-l,s-l*n,o,s)}function Zv(t){this._context=t}Zv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ZT(this,this._t0,RV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ZT(this,RV(this,n=NV(this,t,e)),n);break;default:ZT(this,this._t0,n=NV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function oG(t){this._context=new sG(t)}(oG.prototype=Object.create(Zv.prototype)).point=function(t,e){Zv.prototype.point.call(this,e,t)};function sG(t){this._context=t}sG.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Kve(t){return new Zv(t)}function Wve(t){return new oG(t)}function aG(t){this._context=t}aG.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=PV(t),i=PV(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function PV(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Yve(t){return new aG(t)}function Db(t,e){this._context=t,this._t=e}Db.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Xve(t){return new Db(t,.5)}function Jve(t){return new Db(t,0)}function Qve(t){return new Db(t,1)}function Sf(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,l=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<l;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function aC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Zve(t,e){return t[e]}function e0e(t){const e=[];return e.key=t,e}function t0e(){var t=Ft([]),e=aC,n=Sf,r=Zve;function i(o){var s=Array.from(t.apply(this,arguments),e0e),l,c=s.length,f=-1,h;for(const p of o)for(l=0,++f;l<c;++l)(s[l][f]=[0,+r(p,s[l].key,f,o)]).data=p;for(l=0,h=lR(e(s));l<c;++l)s[h[l]].index=l;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ft(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ft(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?aC:typeof o=="function"?o:Ft(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Sf,i):n},i}function n0e(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Sf(t,e)}}function r0e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,l=0;s<i;++s)l+=t[s][n][1]||0;r[n][1]+=r[n][0]=-l/2}Sf(t,e)}}function i0e(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var l=0,c=0,f=0;l<s;++l){for(var h=t[e[l]],p=h[r][1]||0,g=h[r-1][1]||0,_=(p-g)/2,S=0;S<l;++S){var A=t[e[S]],E=A[r][1]||0,M=A[r-1][1]||0;_+=E-M}c+=p,f+=_*p}i[r-1][1]+=i[r-1][0]=n,c&&(n-=f/c)}i[r-1][1]+=i[r-1][0]=n,Sf(t,e)}}function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}var o0e=["type","size","sizeType"];function lC(){return lC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lC.apply(this,arguments)}function kV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(n),!0).forEach(function(r){s0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s0e(t,e,n){return e=a0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a0e(t){var e=l0e(t,"string");return Ep(e)=="symbol"?e:String(e)}function l0e(t,e){if(Ep(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ep(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u0e(t,e){if(t==null)return{};var n=c0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function c0e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var lG={symbolCircle:uR,symbolCross:Pve,symbolDiamond:Mve,symbolSquare:Ove,symbolStar:Vve,symbolTriangle:jve,symbolWye:Fve},f0e=Math.PI/180,d0e=function(e){var n="symbol".concat(kb(e));return lG[n]||uR},h0e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*f0e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},p0e=function(e,n){lG["symbol".concat(kb(e))]=n},cR=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,s=e.sizeType,l=s===void 0?"area":s,c=u0e(e,o0e),f=MV(MV({},c),{},{type:r,size:o,sizeType:l}),h=function(){var E=d0e(r),M=qve().type(E).size(h0e(o,l,r));return M()},p=f.className,g=f.cx,_=f.cy,S=ft(f,!0);return g===+g&&_===+_&&o===+o?re.createElement("path",lC({},S,{className:kt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(_,")"),d:h()})):null};cR.registerSymbol=p0e;function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function uC(){return uC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uC.apply(this,arguments)}function OV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OV(Object(n),!0).forEach(function(r){Sp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y0e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,cG(r.key),r)}}function v0e(t,e,n){return e&&y0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function b0e(t,e,n){return e=e0(e),x0e(t,uG()?Reflect.construct(e,n||[],e0(t).constructor):e.apply(t,n))}function x0e(t,e){if(e&&(Af(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _0e(t)}function _0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!t})()}function e0(t){return e0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},e0(t)}function w0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cC(t,e)}function cC(t,e){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cC(t,e)}function Sp(t,e,n){return e=cG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cG(t){var e=T0e(t,"string");return Af(e)=="symbol"?e:String(e)}function T0e(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var bi=32,fR=(function(t){w0e(e,t);function e(){return g0e(this,e),b0e(this,e,arguments)}return v0e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=bi/2,s=bi/6,l=bi/3,c=r.inactive?i:r.color;if(r.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:bi,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(o,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(o,`
            H`).concat(bi,"M").concat(2*l,",").concat(o,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return re.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(bi/8,"h").concat(bi,"v").concat(bi*3/4,"h").concat(-bi,"z"),className:"recharts-legend-icon"});if(re.isValidElement(r.legendIcon)){var f=m0e({},r);return delete f.legendIcon,re.cloneElement(r.legendIcon,f)}return re.createElement(cR,{fill:c,cx:o,cy:o,size:bi,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,s=i.iconSize,l=i.layout,c=i.formatter,f=i.inactiveColor,h={x:0,y:0,width:bi,height:bi},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(_,S){var A=_.formatter||c,E=kt(Sp(Sp({"recharts-legend-item":!0},"legend-item-".concat(S),!0),"inactive",_.inactive));if(_.type==="none")return null;var M=ut(_.value)?null:_.value;xu(!ut(_.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var I=_.inactive?f:_.color;return re.createElement("li",uC({className:E,style:p,key:"legend-item-".concat(S)},Wv(r.props,_,S)),re.createElement(nC,{width:s,height:s,viewBox:h,style:g},r.renderIcon(_)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:I}},A?A(M,_,S):M))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,s=r.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:o==="horizontal"?s:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}]),e})(W.PureComponent);Sp(fR,"displayName","Legend");Sp(fR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var eE,DV;function E0e(){if(DV)return eE;DV=1;var t=Nb();function e(){this.__data__=new t,this.size=0}return eE=e,eE}var tE,LV;function S0e(){if(LV)return tE;LV=1;function t(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}return tE=t,tE}var nE,UV;function A0e(){if(UV)return nE;UV=1;function t(e){return this.__data__.get(e)}return nE=t,nE}var rE,VV;function C0e(){if(VV)return rE;VV=1;function t(e){return this.__data__.has(e)}return rE=t,rE}var iE,jV;function I0e(){if(jV)return iE;jV=1;var t=Nb(),e=tR(),n=nR(),r=200;function i(o,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<r-1)return c.push([o,s]),this.size=++l.size,this;l=this.__data__=new n(c)}return l.set(o,s),this.size=l.size,this}return iE=i,iE}var oE,BV;function fG(){if(BV)return oE;BV=1;var t=Nb(),e=E0e(),n=S0e(),r=A0e(),i=C0e(),o=I0e();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=n,s.prototype.get=r,s.prototype.has=i,s.prototype.set=o,oE=s,oE}var sE,FV;function N0e(){if(FV)return sE;FV=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return sE=e,sE}var aE,qV;function R0e(){if(qV)return aE;qV=1;function t(e){return this.__data__.has(e)}return aE=t,aE}var lE,zV;function dG(){if(zV)return lE;zV=1;var t=nR(),e=N0e(),n=R0e();function r(i){var o=-1,s=i==null?0:i.length;for(this.__data__=new t;++o<s;)this.add(i[o])}return r.prototype.add=r.prototype.push=e,r.prototype.has=n,lE=r,lE}var uE,$V;function hG(){if($V)return uE;$V=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(e[r],r,e))return!0;return!1}return uE=t,uE}var cE,GV;function pG(){if(GV)return cE;GV=1;function t(e,n){return e.has(n)}return cE=t,cE}var fE,HV;function mG(){if(HV)return fE;HV=1;var t=dG(),e=hG(),n=pG(),r=1,i=2;function o(s,l,c,f,h,p){var g=c&r,_=s.length,S=l.length;if(_!=S&&!(g&&S>_))return!1;var A=p.get(s),E=p.get(l);if(A&&E)return A==l&&E==s;var M=-1,I=!0,N=c&i?new t:void 0;for(p.set(s,l),p.set(l,s);++M<_;){var C=s[M],R=l[M];if(f)var U=g?f(R,C,M,l,s,p):f(C,R,M,s,l,p);if(U!==void 0){if(U)continue;I=!1;break}if(N){if(!e(l,function(k,O){if(!n(N,O)&&(C===k||h(C,k,c,f,p)))return N.push(O)})){I=!1;break}}else if(!(C===R||h(C,R,c,f,p))){I=!1;break}}return p.delete(s),p.delete(l),I}return fE=o,fE}var dE,KV;function P0e(){if(KV)return dE;KV=1;var t=Yo(),e=t.Uint8Array;return dE=e,dE}var hE,WV;function k0e(){if(WV)return hE;WV=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i,o){r[++n]=[o,i]}),r}return hE=t,hE}var pE,YV;function dR(){if(YV)return pE;YV=1;function t(e){var n=-1,r=Array(e.size);return e.forEach(function(i){r[++n]=i}),r}return pE=t,pE}var mE,XV;function M0e(){if(XV)return mE;XV=1;var t=Rm(),e=P0e(),n=eR(),r=mG(),i=k0e(),o=dR(),s=1,l=2,c="[object Boolean]",f="[object Date]",h="[object Error]",p="[object Map]",g="[object Number]",_="[object RegExp]",S="[object Set]",A="[object String]",E="[object Symbol]",M="[object ArrayBuffer]",I="[object DataView]",N=t?t.prototype:void 0,C=N?N.valueOf:void 0;function R(U,k,O,V,F,q,z){switch(O){case I:if(U.byteLength!=k.byteLength||U.byteOffset!=k.byteOffset)return!1;U=U.buffer,k=k.buffer;case M:return!(U.byteLength!=k.byteLength||!q(new e(U),new e(k)));case c:case f:case g:return n(+U,+k);case h:return U.name==k.name&&U.message==k.message;case _:case A:return U==k+"";case p:var B=i;case S:var Q=V&s;if(B||(B=o),U.size!=k.size&&!Q)return!1;var oe=z.get(U);if(oe)return oe==k;V|=l,z.set(U,k);var K=r(B(U),B(k),V,F,q,z);return z.delete(U),K;case E:if(C)return C.call(U)==C.call(k)}return!1}return mE=R,mE}var gE,JV;function gG(){if(JV)return gE;JV=1;function t(e,n){for(var r=-1,i=n.length,o=e.length;++r<i;)e[o+r]=n[r];return e}return gE=t,gE}var yE,QV;function O0e(){if(QV)return yE;QV=1;var t=gG(),e=Lr();function n(r,i,o){var s=i(r);return e(r)?s:t(s,o(r))}return yE=n,yE}var vE,ZV;function D0e(){if(ZV)return vE;ZV=1;function t(e,n){for(var r=-1,i=e==null?0:e.length,o=0,s=[];++r<i;){var l=e[r];n(l,r,e)&&(s[o++]=l)}return s}return vE=t,vE}var bE,ej;function L0e(){if(ej)return bE;ej=1;function t(){return[]}return bE=t,bE}var xE,tj;function U0e(){if(tj)return xE;tj=1;var t=D0e(),e=L0e(),n=Object.prototype,r=n.propertyIsEnumerable,i=Object.getOwnPropertySymbols,o=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(l){return r.call(s,l)}))}:e;return xE=o,xE}var _E,nj;function V0e(){if(nj)return _E;nj=1;function t(e,n){for(var r=-1,i=Array(e);++r<e;)i[r]=n(r);return i}return _E=t,_E}var wE,rj;function j0e(){if(rj)return wE;rj=1;var t=$s(),e=Gs(),n="[object Arguments]";function r(i){return e(i)&&t(i)==n}return wE=r,wE}var TE,ij;function hR(){if(ij)return TE;ij=1;var t=j0e(),e=Gs(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=t((function(){return arguments})())?t:function(s){return e(s)&&r.call(s,"callee")&&!i.call(s,"callee")};return TE=o,TE}var Oh={exports:{}},EE,oj;function B0e(){if(oj)return EE;oj=1;function t(){return!1}return EE=t,EE}Oh.exports;var sj;function yG(){return sj||(sj=1,(function(t,e){var n=Yo(),r=B0e(),i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s?n.Buffer:void 0,c=l?l.isBuffer:void 0,f=c||r;t.exports=f})(Oh,Oh.exports)),Oh.exports}var SE,aj;function pR(){if(aj)return SE;aj=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(r,i){var o=typeof r;return i=i??t,!!i&&(o=="number"||o!="symbol"&&e.test(r))&&r>-1&&r%1==0&&r<i}return SE=n,SE}var AE,lj;function mR(){if(lj)return AE;lj=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return AE=e,AE}var CE,uj;function F0e(){if(uj)return CE;uj=1;var t=$s(),e=mR(),n=Gs(),r="[object Arguments]",i="[object Array]",o="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",f="[object Map]",h="[object Number]",p="[object Object]",g="[object RegExp]",_="[object Set]",S="[object String]",A="[object WeakMap]",E="[object ArrayBuffer]",M="[object DataView]",I="[object Float32Array]",N="[object Float64Array]",C="[object Int8Array]",R="[object Int16Array]",U="[object Int32Array]",k="[object Uint8Array]",O="[object Uint8ClampedArray]",V="[object Uint16Array]",F="[object Uint32Array]",q={};q[I]=q[N]=q[C]=q[R]=q[U]=q[k]=q[O]=q[V]=q[F]=!0,q[r]=q[i]=q[E]=q[o]=q[M]=q[s]=q[l]=q[c]=q[f]=q[h]=q[p]=q[g]=q[_]=q[S]=q[A]=!1;function z(B){return n(B)&&e(B.length)&&!!q[t(B)]}return CE=z,CE}var IE,cj;function vG(){if(cj)return IE;cj=1;function t(e){return function(n){return e(n)}}return IE=t,IE}var Dh={exports:{}};Dh.exports;var fj;function q0e(){return fj||(fj=1,(function(t,e){var n=V8(),r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,l=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=l})(Dh,Dh.exports)),Dh.exports}var NE,dj;function bG(){if(dj)return NE;dj=1;var t=F0e(),e=vG(),n=q0e(),r=n&&n.isTypedArray,i=r?e(r):t;return NE=i,NE}var RE,hj;function z0e(){if(hj)return RE;hj=1;var t=V0e(),e=hR(),n=Lr(),r=yG(),i=pR(),o=bG(),s=Object.prototype,l=s.hasOwnProperty;function c(f,h){var p=n(f),g=!p&&e(f),_=!p&&!g&&r(f),S=!p&&!g&&!_&&o(f),A=p||g||_||S,E=A?t(f.length,String):[],M=E.length;for(var I in f)(h||l.call(f,I))&&!(A&&(I=="length"||_&&(I=="offset"||I=="parent")||S&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,M)))&&E.push(I);return E}return RE=c,RE}var PE,pj;function $0e(){if(pj)return PE;pj=1;var t=Object.prototype;function e(n){var r=n&&n.constructor,i=typeof r=="function"&&r.prototype||t;return n===i}return PE=e,PE}var kE,mj;function xG(){if(mj)return kE;mj=1;function t(e,n){return function(r){return e(n(r))}}return kE=t,kE}var ME,gj;function G0e(){if(gj)return ME;gj=1;var t=xG(),e=t(Object.keys,Object);return ME=e,ME}var OE,yj;function H0e(){if(yj)return OE;yj=1;var t=$0e(),e=G0e(),n=Object.prototype,r=n.hasOwnProperty;function i(o){if(!t(o))return e(o);var s=[];for(var l in Object(o))r.call(o,l)&&l!="constructor"&&s.push(l);return s}return OE=i,OE}var DE,vj;function Mm(){if(vj)return DE;vj=1;var t=ZN(),e=mR();function n(r){return r!=null&&e(r.length)&&!t(r)}return DE=n,DE}var LE,bj;function Lb(){if(bj)return LE;bj=1;var t=z0e(),e=H0e(),n=Mm();function r(i){return n(i)?t(i):e(i)}return LE=r,LE}var UE,xj;function K0e(){if(xj)return UE;xj=1;var t=O0e(),e=U0e(),n=Lb();function r(i){return t(i,n,e)}return UE=r,UE}var VE,_j;function W0e(){if(_j)return VE;_j=1;var t=K0e(),e=1,n=Object.prototype,r=n.hasOwnProperty;function i(o,s,l,c,f,h){var p=l&e,g=t(o),_=g.length,S=t(s),A=S.length;if(_!=A&&!p)return!1;for(var E=_;E--;){var M=g[E];if(!(p?M in s:r.call(s,M)))return!1}var I=h.get(o),N=h.get(s);if(I&&N)return I==s&&N==o;var C=!0;h.set(o,s),h.set(s,o);for(var R=p;++E<_;){M=g[E];var U=o[M],k=s[M];if(c)var O=p?c(k,U,M,s,o,h):c(U,k,M,o,s,h);if(!(O===void 0?U===k||f(U,k,l,c,h):O)){C=!1;break}R||(R=M=="constructor")}if(C&&!R){var V=o.constructor,F=s.constructor;V!=F&&"constructor"in o&&"constructor"in s&&!(typeof V=="function"&&V instanceof V&&typeof F=="function"&&F instanceof F)&&(C=!1)}return h.delete(o),h.delete(s),C}return VE=i,VE}var jE,wj;function Y0e(){if(wj)return jE;wj=1;var t=Gu(),e=Yo(),n=t(e,"DataView");return jE=n,jE}var BE,Tj;function X0e(){if(Tj)return BE;Tj=1;var t=Gu(),e=Yo(),n=t(e,"Promise");return BE=n,BE}var FE,Ej;function _G(){if(Ej)return FE;Ej=1;var t=Gu(),e=Yo(),n=t(e,"Set");return FE=n,FE}var qE,Sj;function J0e(){if(Sj)return qE;Sj=1;var t=Gu(),e=Yo(),n=t(e,"WeakMap");return qE=n,qE}var zE,Aj;function Q0e(){if(Aj)return zE;Aj=1;var t=Y0e(),e=tR(),n=X0e(),r=_G(),i=J0e(),o=$s(),s=j8(),l="[object Map]",c="[object Object]",f="[object Promise]",h="[object Set]",p="[object WeakMap]",g="[object DataView]",_=s(t),S=s(e),A=s(n),E=s(r),M=s(i),I=o;return(t&&I(new t(new ArrayBuffer(1)))!=g||e&&I(new e)!=l||n&&I(n.resolve())!=f||r&&I(new r)!=h||i&&I(new i)!=p)&&(I=function(N){var C=o(N),R=C==c?N.constructor:void 0,U=R?s(R):"";if(U)switch(U){case _:return g;case S:return l;case A:return f;case E:return h;case M:return p}return C}),zE=I,zE}var $E,Cj;function Z0e(){if(Cj)return $E;Cj=1;var t=fG(),e=mG(),n=M0e(),r=W0e(),i=Q0e(),o=Lr(),s=yG(),l=bG(),c=1,f="[object Arguments]",h="[object Array]",p="[object Object]",g=Object.prototype,_=g.hasOwnProperty;function S(A,E,M,I,N,C){var R=o(A),U=o(E),k=R?h:i(A),O=U?h:i(E);k=k==f?p:k,O=O==f?p:O;var V=k==p,F=O==p,q=k==O;if(q&&s(A)){if(!s(E))return!1;R=!0,V=!1}if(q&&!V)return C||(C=new t),R||l(A)?e(A,E,M,I,N,C):n(A,E,k,M,I,N,C);if(!(M&c)){var z=V&&_.call(A,"__wrapped__"),B=F&&_.call(E,"__wrapped__");if(z||B){var Q=z?A.value():A,oe=B?E.value():E;return C||(C=new t),N(Q,oe,M,I,C)}}return q?(C||(C=new t),r(A,E,M,I,N,C)):!1}return $E=S,$E}var GE,Ij;function gR(){if(Ij)return GE;Ij=1;var t=Z0e(),e=Gs();function n(r,i,o,s,l){return r===i?!0:r==null||i==null||!e(r)&&!e(i)?r!==r&&i!==i:t(r,i,o,s,n,l)}return GE=n,GE}var HE,Nj;function ebe(){if(Nj)return HE;Nj=1;var t=fG(),e=gR(),n=1,r=2;function i(o,s,l,c){var f=l.length,h=f,p=!c;if(o==null)return!h;for(o=Object(o);f--;){var g=l[f];if(p&&g[2]?g[1]!==o[g[0]]:!(g[0]in o))return!1}for(;++f<h;){g=l[f];var _=g[0],S=o[_],A=g[1];if(p&&g[2]){if(S===void 0&&!(_ in o))return!1}else{var E=new t;if(c)var M=c(S,A,_,o,s,E);if(!(M===void 0?e(A,S,n|r,c,E):M))return!1}}return!0}return HE=i,HE}var KE,Rj;function wG(){if(Rj)return KE;Rj=1;var t=dl();function e(n){return n===n&&!t(n)}return KE=e,KE}var WE,Pj;function tbe(){if(Pj)return WE;Pj=1;var t=wG(),e=Lb();function n(r){for(var i=e(r),o=i.length;o--;){var s=i[o],l=r[s];i[o]=[s,l,t(l)]}return i}return WE=n,WE}var YE,kj;function TG(){if(kj)return YE;kj=1;function t(e,n){return function(r){return r==null?!1:r[e]===n&&(n!==void 0||e in Object(r))}}return YE=t,YE}var XE,Mj;function nbe(){if(Mj)return XE;Mj=1;var t=ebe(),e=tbe(),n=TG();function r(i){var o=e(i);return o.length==1&&o[0][2]?n(o[0][0],o[0][1]):function(s){return s===i||t(s,i,o)}}return XE=r,XE}var JE,Oj;function rbe(){if(Oj)return JE;Oj=1;function t(e,n){return e!=null&&n in Object(e)}return JE=t,JE}var QE,Dj;function ibe(){if(Dj)return QE;Dj=1;var t=q8(),e=hR(),n=Lr(),r=pR(),i=mR(),o=Pb();function s(l,c,f){c=t(c,l);for(var h=-1,p=c.length,g=!1;++h<p;){var _=o(c[h]);if(!(g=l!=null&&f(l,_)))break;l=l[_]}return g||++h!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&r(_,p)&&(n(l)||e(l)))}return QE=s,QE}var ZE,Lj;function obe(){if(Lj)return ZE;Lj=1;var t=rbe(),e=ibe();function n(r,i){return r!=null&&e(r,i,t)}return ZE=n,ZE}var e1,Uj;function sbe(){if(Uj)return e1;Uj=1;var t=gR(),e=z8(),n=obe(),r=QN(),i=wG(),o=TG(),s=Pb(),l=1,c=2;function f(h,p){return r(h)&&i(p)?o(s(h),p):function(g){var _=e(g,h);return _===void 0&&_===p?n(g,h):t(p,_,l|c)}}return e1=f,e1}var t1,Vj;function nd(){if(Vj)return t1;Vj=1;function t(e){return e}return t1=t,t1}var n1,jj;function abe(){if(jj)return n1;jj=1;function t(e){return function(n){return n==null?void 0:n[e]}}return n1=t,n1}var r1,Bj;function lbe(){if(Bj)return r1;Bj=1;var t=iR();function e(n){return function(r){return t(r,n)}}return r1=e,r1}var i1,Fj;function ube(){if(Fj)return i1;Fj=1;var t=abe(),e=lbe(),n=QN(),r=Pb();function i(o){return n(o)?t(r(o)):e(o)}return i1=i,i1}var o1,qj;function hl(){if(qj)return o1;qj=1;var t=nbe(),e=sbe(),n=nd(),r=Lr(),i=ube();function o(s){return typeof s=="function"?s:s==null?n:typeof s=="object"?r(s)?e(s[0],s[1]):t(s):i(s)}return o1=o,o1}var s1,zj;function EG(){if(zj)return s1;zj=1;function t(e,n,r,i){for(var o=e.length,s=r+(i?1:-1);i?s--:++s<o;)if(n(e[s],s,e))return s;return-1}return s1=t,s1}var a1,$j;function cbe(){if($j)return a1;$j=1;function t(e){return e!==e}return a1=t,a1}var l1,Gj;function fbe(){if(Gj)return l1;Gj=1;function t(e,n,r){for(var i=r-1,o=e.length;++i<o;)if(e[i]===n)return i;return-1}return l1=t,l1}var u1,Hj;function dbe(){if(Hj)return u1;Hj=1;var t=EG(),e=cbe(),n=fbe();function r(i,o,s){return o===o?n(i,o,s):t(i,e,s)}return u1=r,u1}var c1,Kj;function hbe(){if(Kj)return c1;Kj=1;var t=dbe();function e(n,r){var i=n==null?0:n.length;return!!i&&t(n,r,0)>-1}return c1=e,c1}var f1,Wj;function pbe(){if(Wj)return f1;Wj=1;function t(e,n,r){for(var i=-1,o=e==null?0:e.length;++i<o;)if(r(n,e[i]))return!0;return!1}return f1=t,f1}var d1,Yj;function mbe(){if(Yj)return d1;Yj=1;function t(){}return d1=t,d1}var h1,Xj;function gbe(){if(Xj)return h1;Xj=1;var t=_G(),e=mbe(),n=dR(),r=1/0,i=t&&1/n(new t([,-0]))[1]==r?function(o){return new t(o)}:e;return h1=i,h1}var p1,Jj;function ybe(){if(Jj)return p1;Jj=1;var t=dG(),e=hbe(),n=pbe(),r=pG(),i=gbe(),o=dR(),s=200;function l(c,f,h){var p=-1,g=e,_=c.length,S=!0,A=[],E=A;if(h)S=!1,g=n;else if(_>=s){var M=f?null:i(c);if(M)return o(M);S=!1,g=r,E=new t}else E=f?[]:A;e:for(;++p<_;){var I=c[p],N=f?f(I):I;if(I=h||I!==0?I:0,S&&N===N){for(var C=E.length;C--;)if(E[C]===N)continue e;f&&E.push(N),A.push(I)}else g(E,N,h)||(E!==A&&E.push(N),A.push(I))}return A}return p1=l,p1}var m1,Qj;function vbe(){if(Qj)return m1;Qj=1;var t=hl(),e=ybe();function n(r,i){return r&&r.length?e(r,t(i,2)):[]}return m1=n,m1}var bbe=vbe();const Zj=Bt(bbe);function SG(t,e,n){return e===!0?Zj(t,n):ut(e)?Zj(t,e):t}function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}var xbe=["ref"];function e4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e4(Object(n),!0).forEach(function(r){Ub(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _be(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IG(r.key),r)}}function wbe(t,e,n){return e&&t4(t.prototype,e),n&&t4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tbe(t,e,n){return e=t0(e),Ebe(t,AG()?Reflect.construct(e,n||[],t0(t).constructor):e.apply(t,n))}function Ebe(t,e){if(e&&(Cf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CG(t)}function AG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AG=function(){return!!t})()}function t0(t){return t0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},t0(t)}function CG(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fC(t,e)}function fC(t,e){return fC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fC(t,e)}function Ub(t,e,n){return e=IG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IG(t){var e=Abe(t,"string");return Cf(e)=="symbol"?e:String(e)}function Abe(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cbe(t,e){if(t==null)return{};var n=Ibe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ibe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Nbe(t){return t.value}function Rbe(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var n=Cbe(e,xbe);return re.createElement(fR,n)}var n4=1,Ap=(function(t){Sbe(e,t);function e(){var n;_be(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tbe(this,e,[].concat(i)),Ub(CG(n),"lastBoundingBox",{width:-1,height:-1}),n}return wbe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){return this.wrapperNode&&this.wrapperNode.getBoundingClientRect?this.wrapperNode.getBoundingClientRect():null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate;if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var i=this.wrapperNode.getBoundingClientRect();(Math.abs(i.width-this.lastBoundingBox.width)>n4||Math.abs(i.height-this.lastBoundingBox.height)>n4)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i))}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Jl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,s=i.align,l=i.verticalAlign,c=i.margin,f=i.chartWidth,h=i.chartHeight,p,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(s==="center"&&o==="vertical"){var _=this.getBBoxSnapshot();p={left:((f||0)-_.width)/2}}else p=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(l==="middle"){var S=this.getBBoxSnapshot();g={top:((h||0)-S.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Jl(Jl({},p),g)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,s=i.width,l=i.height,c=i.wrapperStyle,f=i.payloadUniqBy,h=i.payload,p=Jl(Jl({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return re.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(_){r.wrapperNode=_}},Rbe(o,Jl(Jl({},this.props),{},{payload:SG(h,f,Nbe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=r.props.layout;return o==="vertical"&&Pe(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}]),e})(W.PureComponent);Ub(Ap,"displayName","Legend");Ub(Ap,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var g1,r4;function Pbe(){if(r4)return g1;r4=1;var t=Rm(),e=hR(),n=Lr(),r=t?t.isConcatSpreadable:void 0;function i(o){return n(o)||e(o)||!!(r&&o&&o[r])}return g1=i,g1}var y1,i4;function NG(){if(i4)return y1;i4=1;var t=gG(),e=Pbe();function n(r,i,o,s,l){var c=-1,f=r.length;for(o||(o=e),l||(l=[]);++c<f;){var h=r[c];i>0&&o(h)?i>1?n(h,i-1,o,s,l):t(l,h):s||(l[l.length]=h)}return l}return y1=n,y1}var v1,o4;function kbe(){if(o4)return v1;o4=1;function t(e){return function(n,r,i){for(var o=-1,s=Object(n),l=i(n),c=l.length;c--;){var f=l[e?c:++o];if(r(s[f],f,s)===!1)break}return n}}return v1=t,v1}var b1,s4;function Mbe(){if(s4)return b1;s4=1;var t=kbe(),e=t();return b1=e,b1}var x1,a4;function RG(){if(a4)return x1;a4=1;var t=Mbe(),e=Lb();function n(r,i){return r&&t(r,i,e)}return x1=n,x1}var _1,l4;function Obe(){if(l4)return _1;l4=1;var t=Mm();function e(n,r){return function(i,o){if(i==null)return i;if(!t(i))return n(i,o);for(var s=i.length,l=r?s:-1,c=Object(i);(r?l--:++l<s)&&o(c[l],l,c)!==!1;);return i}}return _1=e,_1}var w1,u4;function yR(){if(u4)return w1;u4=1;var t=RG(),e=Obe(),n=e(t);return w1=n,w1}var T1,c4;function PG(){if(c4)return T1;c4=1;var t=yR(),e=Mm();function n(r,i){var o=-1,s=e(r)?Array(r.length):[];return t(r,function(l,c,f){s[++o]=i(l,c,f)}),s}return T1=n,T1}var E1,f4;function Dbe(){if(f4)return E1;f4=1;function t(e,n){var r=e.length;for(e.sort(n);r--;)e[r]=e[r].value;return e}return E1=t,E1}var S1,d4;function Lbe(){if(d4)return S1;d4=1;var t=Zf();function e(n,r){if(n!==r){var i=n!==void 0,o=n===null,s=n===n,l=t(n),c=r!==void 0,f=r===null,h=r===r,p=t(r);if(!f&&!p&&!l&&n>r||l&&c&&h&&!f&&!p||o&&c&&h||!i&&h||!s)return 1;if(!o&&!l&&!p&&n<r||p&&i&&s&&!o&&!l||f&&i&&s||!c&&s||!h)return-1}return 0}return S1=e,S1}var A1,h4;function Ube(){if(h4)return A1;h4=1;var t=Lbe();function e(n,r,i){for(var o=-1,s=n.criteria,l=r.criteria,c=s.length,f=i.length;++o<c;){var h=t(s[o],l[o]);if(h){if(o>=f)return h;var p=i[o];return h*(p=="desc"?-1:1)}}return n.index-r.index}return A1=e,A1}var C1,p4;function Vbe(){if(p4)return C1;p4=1;var t=rR(),e=iR(),n=hl(),r=PG(),i=Dbe(),o=vG(),s=Ube(),l=nd(),c=Lr();function f(h,p,g){p.length?p=t(p,function(A){return c(A)?function(E){return e(E,A.length===1?A[0]:A)}:A}):p=[l];var _=-1;p=t(p,o(n));var S=r(h,function(A,E,M){var I=t(p,function(N){return N(A)});return{criteria:I,index:++_,value:A}});return i(S,function(A,E){return s(A,E,g)})}return C1=f,C1}var I1,m4;function jbe(){if(m4)return I1;m4=1;function t(e,n,r){switch(r.length){case 0:return e.call(n);case 1:return e.call(n,r[0]);case 2:return e.call(n,r[0],r[1]);case 3:return e.call(n,r[0],r[1],r[2])}return e.apply(n,r)}return I1=t,I1}var N1,g4;function Bbe(){if(g4)return N1;g4=1;var t=jbe(),e=Math.max;function n(r,i,o){return i=e(i===void 0?r.length-1:i,0),function(){for(var s=arguments,l=-1,c=e(s.length-i,0),f=Array(c);++l<c;)f[l]=s[i+l];l=-1;for(var h=Array(i+1);++l<i;)h[l]=s[l];return h[i]=o(f),t(r,this,h)}}return N1=n,N1}var R1,y4;function Fbe(){if(y4)return R1;y4=1;function t(e){return function(){return e}}return R1=t,R1}var P1,v4;function kG(){if(v4)return P1;v4=1;var t=Gu(),e=(function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}})();return P1=e,P1}var k1,b4;function qbe(){if(b4)return k1;b4=1;var t=Fbe(),e=kG(),n=nd(),r=e?function(i,o){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(o),writable:!0})}:n;return k1=r,k1}var M1,x4;function zbe(){if(x4)return M1;x4=1;var t=800,e=16,n=Date.now;function r(i){var o=0,s=0;return function(){var l=n(),c=e-(l-s);if(s=l,c>0){if(++o>=t)return arguments[0]}else o=0;return i.apply(void 0,arguments)}}return M1=r,M1}var O1,_4;function $be(){if(_4)return O1;_4=1;var t=qbe(),e=zbe(),n=e(t);return O1=n,O1}var D1,w4;function Gbe(){if(w4)return D1;w4=1;var t=nd(),e=Bbe(),n=$be();function r(i,o){return n(e(i,o,t),i+"")}return D1=r,D1}var L1,T4;function Vb(){if(T4)return L1;T4=1;var t=eR(),e=Mm(),n=pR(),r=dl();function i(o,s,l){if(!r(l))return!1;var c=typeof s;return(c=="number"?e(l)&&n(s,l.length):c=="string"&&s in l)?t(l[s],o):!1}return L1=i,L1}var U1,E4;function Hbe(){if(E4)return U1;E4=1;var t=NG(),e=Vbe(),n=Gbe(),r=Vb(),i=n(function(o,s){if(o==null)return[];var l=s.length;return l>1&&r(o,s[0],s[1])?s=[]:l>2&&r(s[0],s[1],s[2])&&(s=[s[0]]),e(o,t(s,1),[])});return U1=i,U1}var Kbe=Hbe();const vR=Bt(Kbe);function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function dC(){return dC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dC.apply(this,arguments)}function Wbe(t,e){return Qbe(t)||Jbe(t,e)||Xbe(t,e)||Ybe()}function Ybe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xbe(t,e){if(t){if(typeof t=="string")return S4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S4(t,e)}}function S4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function Qbe(t){if(Array.isArray(t))return t}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){Zbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zbe(t,e,n){return e=exe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function exe(t){var e=txe(t,"string");return Cp(e)=="symbol"?e:String(e)}function txe(t,e){if(Cp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nxe(t){return Array.isArray(t)&&Pn(t[0])&&Pn(t[1])?t.join(" ~ "):t}var rxe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,f=c===void 0?{}:c,h=e.payload,p=e.formatter,g=e.itemSorter,_=e.wrapperClassName,S=e.labelClassName,A=e.label,E=e.labelFormatter,M=e.accessibilityLayer,I=M===void 0?!1:M,N=function(){if(h&&h.length){var z={padding:0,margin:0},B=(g?vR(h,g):h).map(function(Q,oe){if(Q.type==="none")return null;var K=V1({display:"block",paddingTop:4,paddingBottom:4,color:Q.color||"#000"},l),X=Q.formatter||p||nxe,te=Q.value,ce=Q.name,Y=te,L=ce;if(X&&Y!=null&&L!=null){var G=X(te,ce,Q,oe,h);if(Array.isArray(G)){var ee=Wbe(G,2);Y=ee[0],L=ee[1]}else Y=G}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(oe),style:K},Pn(L)?re.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Pn(L)?re.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,re.createElement("span",{className:"recharts-tooltip-item-value"},Y),re.createElement("span",{className:"recharts-tooltip-item-unit"},Q.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:z},B)}return null},C=V1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),R=V1({margin:0},f),U=!yt(A),k=U?A:"",O=kt("recharts-default-tooltip",_),V=kt("recharts-tooltip-label",S);U&&E&&h!==void 0&&h!==null&&(k=E(A,h));var F=I?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",dC({className:O,style:C},F),re.createElement("p",{className:V,style:R},re.isValidElement(k)?k:"".concat(k)),N())};function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function My(t,e,n){return e=ixe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ixe(t){var e=oxe(t,"string");return Ip(e)=="symbol"?e:String(e)}function oxe(t,e){if(Ip(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Ip(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gh="recharts-tooltip-wrapper",sxe={visibility:"hidden"};function axe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return kt(gh,My(My(My(My({},"".concat(gh,"-right"),Pe(n)&&e&&Pe(e.x)&&n>=e.x),"".concat(gh,"-left"),Pe(n)&&e&&Pe(e.x)&&n<e.x),"".concat(gh,"-bottom"),Pe(r)&&e&&Pe(e.y)&&r>=e.y),"".concat(gh,"-top"),Pe(r)&&e&&Pe(e.y)&&r<e.y))}function C4(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,f=t.viewBoxDimension;if(o&&Pe(o[r]))return o[r];var h=n[r]-l-i,p=n[r]+i;if(e[r])return s[r]?h:p;if(s[r]){var g=h,_=c[r];return g<_?Math.max(p,c[r]):Math.max(h,c[r])}var S=p+l,A=c[r]+f;return S>A?Math.max(h,c[r]):Math.max(p,c[r])}function lxe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uxe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,f,h,p;return s.height>0&&s.width>0&&n?(h=C4({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),p=C4({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),f=lxe({translateX:h,translateY:p,useTranslate3d:l})):f=sxe,{cssProperties:f,cssClasses:axe({translateX:h,translateY:p,coordinate:n})}}function If(t){"@babel/helpers - typeof";return If=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},If(t)}function I4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function N4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I4(Object(n),!0).forEach(function(r){uv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,OG(r.key),r)}}function dxe(t,e,n){return e&&fxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hxe(t,e,n){return e=n0(e),pxe(t,MG()?Reflect.construct(e,n||[],n0(t).constructor):e.apply(t,n))}function pxe(t,e){if(e&&(If(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lv(t)}function MG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MG=function(){return!!t})()}function n0(t){return n0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},n0(t)}function lv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(t,e)}function uv(t,e,n){return e=OG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OG(t){var e=gxe(t,"string");return If(e)=="symbol"?e:String(e)}function gxe(t,e){if(If(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(If(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var R4=1,yxe=(function(t){mxe(e,t);function e(){var n;cxe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hxe(this,e,[].concat(i)),uv(lv(n),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),uv(lv(n),"lastBoundingBox",{width:-1,height:-1}),uv(lv(n),"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,f,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=n.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(f=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&f!==void 0?f:0}})}}),n}return dxe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.lastBoundingBox.width)>R4||Math.abs(r.height-this.lastBoundingBox.height)>R4)&&(this.lastBoundingBox.width=r.width,this.lastBoundingBox.height=r.height)}else(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1)}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.children,h=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,_=i.offset,S=i.position,A=i.reverseDirection,E=i.useTranslate3d,M=i.viewBox,I=i.wrapperStyle,N=uxe({allowEscapeViewBox:s,coordinate:h,offsetTopLeft:_,position:S,reverseDirection:A,tooltipBox:{height:this.lastBoundingBox.height,width:this.lastBoundingBox.width},useTranslate3d:E,viewBox:M}),C=N.cssClasses,R=N.cssProperties,U=N4(N4({transition:g&&o?"transform ".concat(l,"ms ").concat(c):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&p?"visible":"hidden",position:"absolute",top:0,left:0},I);return re.createElement("div",{tabIndex:-1,className:C,style:U,ref:function(O){r.wrapperNode=O}},f)}}]),e})(W.PureComponent),vxe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},rd={isSsr:vxe()};function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function P4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function k4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P4(Object(n),!0).forEach(function(r){bR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xxe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LG(r.key),r)}}function _xe(t,e,n){return e&&xxe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wxe(t,e,n){return e=r0(e),Txe(t,DG()?Reflect.construct(e,n||[],r0(t).constructor):e.apply(t,n))}function Txe(t,e){if(e&&(Nf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Exe(t)}function Exe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DG=function(){return!!t})()}function r0(t){return r0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},r0(t)}function Sxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pC(t,e)}function bR(t,e,n){return e=LG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LG(t){var e=Axe(t,"string");return Nf(e)=="symbol"?e:String(e)}function Axe(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Cxe(t){return t.dataKey}function Ixe(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(rxe,e)}var xs=(function(t){Sxe(e,t);function e(){return bxe(this,e),wxe(this,e,arguments)}return _xe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,s=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,f=i.content,h=i.coordinate,p=i.filterNull,g=i.isAnimationActive,_=i.offset,S=i.payload,A=i.payloadUniqBy,E=i.position,M=i.reverseDirection,I=i.useTranslate3d,N=i.viewBox,C=i.wrapperStyle,R=S??[];p&&R.length&&(R=SG(S.filter(function(k){return k.value!=null&&(k.hide!==!0||r.props.includeHidden)}),A,Cxe));var U=R.length>0;return re.createElement(yxe,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:g,active:o,coordinate:h,hasPayload:U,offset:_,position:E,reverseDirection:M,useTranslate3d:I,viewBox:N,wrapperStyle:C},Ixe(f,k4(k4({},this.props),{},{payload:R})))}}]),e})(W.PureComponent);bR(xs,"displayName","Tooltip");bR(xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!rd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var j1,M4;function Nxe(){if(M4)return j1;M4=1;var t=Yo(),e=function(){return t.Date.now()};return j1=e,j1}var B1,O4;function Rxe(){if(O4)return B1;O4=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return B1=e,B1}var F1,D4;function Pxe(){if(D4)return F1;D4=1;var t=Rxe(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return F1=n,F1}var q1,L4;function UG(){if(L4)return q1;L4=1;var t=Pxe(),e=dl(),n=Zf(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(f){if(typeof f=="number")return f;if(n(f))return r;if(e(f)){var h=typeof f.valueOf=="function"?f.valueOf():f;f=e(h)?h+"":h}if(typeof f!="string")return f===0?f:+f;f=t(f);var p=o.test(f);return p||s.test(f)?l(f.slice(2),p?2:8):i.test(f)?r:+f}return q1=c,q1}var z1,U4;function kxe(){if(U4)return z1;U4=1;var t=dl(),e=Nxe(),n=UG(),r="Expected a function",i=Math.max,o=Math.min;function s(l,c,f){var h,p,g,_,S,A,E=0,M=!1,I=!1,N=!0;if(typeof l!="function")throw new TypeError(r);c=n(c)||0,t(f)&&(M=!!f.leading,I="maxWait"in f,g=I?i(n(f.maxWait)||0,c):g,N="trailing"in f?!!f.trailing:N);function C(B){var Q=h,oe=p;return h=p=void 0,E=B,_=l.apply(oe,Q),_}function R(B){return E=B,S=setTimeout(O,c),M?C(B):_}function U(B){var Q=B-A,oe=B-E,K=c-Q;return I?o(K,g-oe):K}function k(B){var Q=B-A,oe=B-E;return A===void 0||Q>=c||Q<0||I&&oe>=g}function O(){var B=e();if(k(B))return V(B);S=setTimeout(O,U(B))}function V(B){return S=void 0,N&&h?C(B):(h=p=void 0,_)}function F(){S!==void 0&&clearTimeout(S),E=0,h=A=p=S=void 0}function q(){return S===void 0?_:V(e())}function z(){var B=e(),Q=k(B);if(h=arguments,p=this,A=B,Q){if(S===void 0)return R(A);if(I)return clearTimeout(S),S=setTimeout(O,c),C(A)}return S===void 0&&(S=setTimeout(O,c)),_}return z.cancel=F,z.flush=q,z}return z1=s,z1}var $1,V4;function Mxe(){if(V4)return $1;V4=1;var t=kxe(),e=dl(),n="Expected a function";function r(i,o,s){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(n);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(i,o,{leading:l,maxWait:o,trailing:c})}return $1=r,$1}var Oxe=Mxe();const VG=Bt(Oxe);function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function j4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(n),!0).forEach(function(r){Dxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dxe(t,e,n){return e=Lxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lxe(t){var e=Uxe(t,"string");return Np(e)=="symbol"?e:String(e)}function Uxe(t,e){if(Np(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Np(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vxe(t,e){return qxe(t)||Fxe(t,e)||Bxe(t,e)||jxe()}function jxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bxe(t,e){if(t){if(typeof t=="string")return B4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B4(t,e)}}function B4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function qxe(t){if(Array.isArray(t))return t}var zxe=W.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,s=o===void 0?"100%":o,l=t.height,c=l===void 0?"100%":l,f=t.minWidth,h=f===void 0?0:f,p=t.minHeight,g=t.maxHeight,_=t.children,S=t.debounce,A=S===void 0?0:S,E=t.id,M=t.className,I=t.onResize,N=t.style,C=N===void 0?{}:N,R=W.useRef(null),U=W.useRef();U.current=I,W.useImperativeHandle(e,function(){return Object.defineProperty(R.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),R.current},configurable:!0})});var k=W.useState({containerWidth:i.width,containerHeight:i.height}),O=Vxe(k,2),V=O[0],F=O[1],q=W.useCallback(function(B,Q){F(function(oe){var K=Math.round(B),X=Math.round(Q);return oe.containerWidth===K&&oe.containerHeight===X?oe:{containerWidth:K,containerHeight:X}})},[]);W.useEffect(function(){var B=function(ce){var Y,L=ce[0].contentRect,G=L.width,ee=L.height;q(G,ee),(Y=U.current)===null||Y===void 0||Y.call(U,G,ee)};A>0&&(B=VG(B,A,{trailing:!0,leading:!1}));var Q=new ResizeObserver(B),oe=R.current.getBoundingClientRect(),K=oe.width,X=oe.height;return q(K,X),Q.observe(R.current),function(){Q.disconnect()}},[q,A]);var z=W.useMemo(function(){var B=V.containerWidth,Q=V.containerHeight;if(B<0||Q<0)return null;xu(cu(s)||cu(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),xu(!n||n>0,"The aspect(%s) must be greater than zero.",n);var oe=cu(s)?B:s,K=cu(c)?Q:c;n&&n>0&&(oe?K=oe/n:K&&(oe=K*n),g&&K>g&&(K=g)),xu(oe>0||K>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,oe,K,s,c,h,p,n);var X=!Array.isArray(_)&&JA.isElement(_)&&Ps(_.type).endsWith("Chart");return re.Children.map(_,function(te){return JA.isElement(te)?W.cloneElement(te,Oy({width:oe,height:K},X?{style:Oy({height:"100%",width:"100%",maxHeight:K,maxWidth:oe},te.props.style)}:{})):te})},[n,_,c,g,p,h,V,s]);return re.createElement("div",{id:E?"".concat(E):void 0,className:kt("recharts-responsive-container",M),style:Oy(Oy({},C),{},{width:s,height:c,minWidth:h,minHeight:p,maxHeight:g}),ref:R},z)}),jG=function(e){return null};jG.displayName="Cell";function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){$xe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $xe(t,e,n){return e=Gxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gxe(t){var e=Hxe(t,"string");return Rp(e)=="symbol"?e:String(e)}function Hxe(t,e){if(Rp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Rp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bc={widthCache:{},cacheCount:0},Kxe=2e3,Wxe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},q4="recharts_measurement_span";function Yxe(t){var e=mC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var ep=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rd.isSsr)return{width:0,height:0};var r=Yxe(n),i=JSON.stringify({text:e,copyStyle:r});if(Bc.widthCache[i])return Bc.widthCache[i];try{var o=document.getElementById(q4);o||(o=document.createElement("span"),o.setAttribute("id",q4),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var s=mC(mC({},Wxe),r);Object.assign(o.style,s),o.textContent="".concat(e);var l=o.getBoundingClientRect(),c={width:l.width,height:l.height};return Bc.widthCache[i]=c,++Bc.cacheCount>Kxe&&(Bc.cacheCount=0,Bc.widthCache={}),c}catch{return{width:0,height:0}}},Xxe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function i0(t,e){return e_e(t)||Zxe(t,e)||Qxe(t,e)||Jxe()}function Jxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxe(t,e){if(t){if(typeof t=="string")return z4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z4(t,e)}}function z4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function e_e(t){if(Array.isArray(t))return t}function t_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r_e(r.key),r)}}function n_e(t,e,n){return e&&$4(t.prototype,e),n&&$4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function r_e(t){var e=i_e(t,"string");return Pp(e)=="symbol"?e:String(e)}function i_e(t,e){if(Pp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,H4=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o_e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,s_e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},a_e=Object.keys(BG),tf="NaN";function l_e(t,e){return t*BG[e]}var Dy=(function(){function t(e,n){t_e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!o_e.test(n)&&(this.num=NaN,this.unit=""),a_e.includes(n)&&(this.num=l_e(e,n),this.unit="px")}return n_e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=s_e.exec(n))!==null&&r!==void 0?r:[],o=i0(i,3),s=o[1],l=o[2];return new t(parseFloat(s),l??"")}}]),t})();function FG(t){if(t.includes(tf))return tf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=G4.exec(e))!==null&&n!==void 0?n:[],i=i0(r,4),o=i[1],s=i[2],l=i[3],c=Dy.parse(o??""),f=Dy.parse(l??""),h=s==="*"?c.multiply(f):c.divide(f);if(h.isNaN())return tf;e=e.replace(G4,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var p,g=(p=H4.exec(e))!==null&&p!==void 0?p:[],_=i0(g,4),S=_[1],A=_[2],E=_[3],M=Dy.parse(S??""),I=Dy.parse(E??""),N=A==="+"?M.add(I):M.subtract(I);if(N.isNaN())return tf;e=e.replace(H4,N.toString())}return e}var K4=/\(([^()]*)\)/;function u_e(t){for(var e=t;e.includes("(");){var n=K4.exec(e),r=i0(n,2),i=r[1];e=e.replace(K4,FG(i))}return e}function c_e(t){var e=t.replace(/\s+/g,"");return e=u_e(e),e=FG(e),e}function f_e(t){try{return c_e(t)}catch{return tf}}function G1(t){var e=f_e(t.slice(5,-1));return e===tf?"":e}var d_e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],h_e=["dx","dy","angle","className","breakAll"];function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gC.apply(this,arguments)}function W4(t,e){if(t==null)return{};var n=p_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function p_e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Y4(t,e){return v_e(t)||y_e(t,e)||g_e(t,e)||m_e()}function m_e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g_e(t,e){if(t){if(typeof t=="string")return X4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X4(t,e)}}function X4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function y_e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function v_e(t){if(Array.isArray(t))return t}var qG=/[ \f\n\r\t\v\u2028\u2029]+/,zG=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];yt(n)||(r?o=n.toString().split(""):o=n.toString().split(qG));var s=o.map(function(c){return{word:c,width:ep(c,i).width}}),l=r?0:ep("",i).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},b_e=function(e,n,r,i,o){var s=e.maxLines,l=e.children,c=e.style,f=e.breakAll,h=Pe(s),p=l,g=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return oe.reduce(function(K,X){var te=X.word,ce=X.width,Y=K[K.length-1];if(Y&&(i==null||o||Y.width+ce+r<Number(i)))Y.words.push(te),Y.width+=ce+r;else{var L={words:[te],width:ce};K.push(L)}return K},[])},_=g(n),S=function(oe){return oe.reduce(function(K,X){return K.width>X.width?K:X})};if(!h)return _;for(var A="",E=function(oe){var K=p.slice(0,oe),X=zG({breakAll:f,style:c,children:K+A}).wordsWithComputedWidth,te=g(X),ce=te.length>s||S(te).width>Number(i);return[ce,te]},M=0,I=p.length-1,N=0,C;M<=I&&N<=p.length-1;){var R=Math.floor((M+I)/2),U=R-1,k=E(U),O=Y4(k,2),V=O[0],F=O[1],q=E(R),z=Y4(q,1),B=z[0];if(!V&&!B&&(M=R+1),V&&B&&(I=R-1),!V&&B){C=F;break}N++}return C||_},J4=function(e){var n=yt(e)?[]:e.toString().split(qG);return[{words:n}]},x_e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,s=e.breakAll,l=e.maxLines;if((n||r)&&!rd.isSsr){var c,f,h=zG({breakAll:s,children:i,style:o});if(h){var p=h.wordsWithComputedWidth,g=h.spaceWidth;c=p,f=g}else return J4(i);return b_e({breakAll:s,children:i,maxLines:l,style:o},c,f,n,r)}return J4(i)},Q4="#808080",o0=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,f=c===void 0?"0.71em":c,h=e.scaleToFit,p=h===void 0?!1:h,g=e.textAnchor,_=g===void 0?"start":g,S=e.verticalAnchor,A=S===void 0?"end":S,E=e.fill,M=E===void 0?Q4:E,I=W4(e,d_e),N=W.useMemo(function(){return x_e({breakAll:I.breakAll,children:I.children,maxLines:I.maxLines,scaleToFit:p,style:I.style,width:I.width})},[I.breakAll,I.children,I.maxLines,p,I.style,I.width]),C=I.dx,R=I.dy,U=I.angle,k=I.className,O=I.breakAll,V=W4(I,h_e);if(!Pn(r)||!Pn(o))return null;var F=r+(Pe(C)?C:0),q=o+(Pe(R)?R:0),z;switch(A){case"start":z=G1("calc(".concat(f,")"));break;case"middle":z=G1("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(f," / 2))"));break;default:z=G1("calc(".concat(N.length-1," * -").concat(l,")"));break}var B=[];if(p){var Q=N[0].width,oe=I.width;B.push("scale(".concat((Pe(oe)?oe/Q:1)/Q,")"))}return U&&B.push("rotate(".concat(U,", ").concat(F,", ").concat(q,")")),B.length&&(V.transform=B.join(" ")),re.createElement("text",gC({},ft(V,!0),{x:F,y:q,className:kt("recharts-text",k),textAnchor:_,fill:M.includes("url")?Q4:M}),N.map(function(K,X){var te=K.words.join(O?"":" ");return re.createElement("tspan",{x:F,dy:X===0?z:l,key:te},te)}))};function Ha(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function __e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xR(t){let e,n,r;t.length!==2?(e=Ha,n=(l,c)=>Ha(t(l),c),r=(l,c)=>t(l)-c):(e=t===Ha||t===__e?t:w_e,n=t,r=t);function i(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<0?f=p+1:h=p}while(f<h)}return f}function o(l,c,f=0,h=l.length){if(f<h){if(e(c,c)!==0)return h;do{const p=f+h>>>1;n(l[p],c)<=0?f=p+1:h=p}while(f<h)}return f}function s(l,c,f=0,h=l.length){const p=i(l,c,f,h-1);return p>f&&r(l[p-1],c)>-r(l[p],c)?p-1:p}return{left:i,center:s,right:o}}function w_e(){return 0}function $G(t){return t===null?NaN:+t}function*T_e(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const E_e=xR(Ha),Om=E_e.right;xR($G).center;class Z4 extends Map{constructor(e,n=C_e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(e3(this,e))}has(e){return super.has(e3(this,e))}set(e,n){return super.set(S_e(this,e),n)}delete(e){return super.delete(A_e(this,e))}}function e3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function S_e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function A_e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function C_e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function I_e(t=Ha){if(t===Ha)return GG;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function GG(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const N_e=Math.sqrt(50),R_e=Math.sqrt(10),P_e=Math.sqrt(2);function s0(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=N_e?10:o>=R_e?5:o>=P_e?2:1;let l,c,f;return i<0?(f=Math.pow(10,-i)/s,l=Math.round(t*f),c=Math.round(e*f),l/f<t&&++l,c/f>e&&--c,f=-f):(f=Math.pow(10,i)*s,l=Math.round(t/f),c=Math.round(e/f),l*f<t&&++l,c*f>e&&--c),c<l&&.5<=n&&n<2?s0(t,e,n*2):[l,c,f]}function yC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?s0(e,t,n):s0(t,e,n);if(!(o>=i))return[];const l=o-i+1,c=new Array(l);if(r)if(s<0)for(let f=0;f<l;++f)c[f]=(o-f)/-s;else for(let f=0;f<l;++f)c[f]=(o-f)*s;else if(s<0)for(let f=0;f<l;++f)c[f]=(i+f)/-s;else for(let f=0;f<l;++f)c[f]=(i+f)*s;return c}function vC(t,e,n){return e=+e,t=+t,n=+n,s0(t,e,n)[2]}function bC(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?vC(e,t,n):vC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function t3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function n3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function HG(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?GG:I_e(i);r>n;){if(r-n>600){const c=r-n+1,f=e-n+1,h=Math.log(c),p=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*p*(c-p)/c)*(f-c/2<0?-1:1),_=Math.max(n,Math.floor(e-f*p/c+g)),S=Math.min(r,Math.floor(e+(c-f)*p/c+g));HG(t,e,_,S,i)}const o=t[e];let s=n,l=r;for(yh(t,n,e),i(t[r],o)>0&&yh(t,n,r);s<l;){for(yh(t,s,l),++s,--l;i(t[s],o)<0;)++s;for(;i(t[l],o)>0;)--l}i(t[n],o)===0?yh(t,n,l):(++l,yh(t,l,r)),l<=e&&(n=l+1),e<=l&&(r=l-1)}return t}function yh(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function k_e(t,e,n){if(t=Float64Array.from(T_e(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return n3(t);if(e>=1)return t3(t);var r,i=(r-1)*e,o=Math.floor(i),s=t3(HG(t,o).subarray(0,o+1)),l=n3(t.subarray(o+1));return s+(l-s)*(i-o)}}function M_e(t,e,n=$G){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),l=+n(t[o+1],o+1,t);return s+(l-s)*(i-o)}}function O_e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function ki(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Hs(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xC=Symbol("implicit");function _R(){var t=new Z4,e=[],n=[],r=xC;function i(o){let s=t.get(o);if(s===void 0){if(r!==xC)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Z4;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return _R(e,n).unknown(r)},ki.apply(i,arguments),i}function kp(){var t=_R().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,l=!1,c=0,f=0,h=.5;delete t.unknown;function p(){var g=e().length,_=i<r,S=_?i:r,A=_?r:i;o=(A-S)/Math.max(1,g-c+f*2),l&&(o=Math.floor(o)),S+=(A-S-o*(g-c))*h,s=o*(1-c),l&&(S=Math.round(S),s=Math.round(s));var E=O_e(g).map(function(M){return S+o*M});return n(_?E.reverse():E)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([r,i]=g,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(g){return[r,i]=g,r=+r,i=+i,l=!0,p()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(g){return arguments.length?(l=!!g,p()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,f=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(f=+g,p()):f},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),p()):h},t.copy=function(){return kp(e(),[r,i]).round(l).paddingInner(c).paddingOuter(f).align(h)},ki.apply(p(),arguments)}function KG(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return KG(e())},t}function tp(){return KG(kp.apply(null,arguments).paddingInner(1))}function wR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function WG(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dm(){}var Mp=.7,a0=1/Mp,pf="\\s*([+-]?\\d+)\\s*",Op="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$o="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",D_e=/^#([0-9a-f]{3,8})$/,L_e=new RegExp(`^rgb\\(${pf},${pf},${pf}\\)$`),U_e=new RegExp(`^rgb\\(${$o},${$o},${$o}\\)$`),V_e=new RegExp(`^rgba\\(${pf},${pf},${pf},${Op}\\)$`),j_e=new RegExp(`^rgba\\(${$o},${$o},${$o},${Op}\\)$`),B_e=new RegExp(`^hsl\\(${Op},${$o},${$o}\\)$`),F_e=new RegExp(`^hsla\\(${Op},${$o},${$o},${Op}\\)$`),r3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wR(Dm,Dp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:i3,formatHex:i3,formatHex8:q_e,formatHsl:z_e,formatRgb:o3,toString:o3});function i3(){return this.rgb().formatHex()}function q_e(){return this.rgb().formatHex8()}function z_e(){return YG(this).formatHsl()}function o3(){return this.rgb().formatRgb()}function Dp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=D_e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?s3(e):n===3?new kr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ly(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ly(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=L_e.exec(t))?new kr(e[1],e[2],e[3],1):(e=U_e.exec(t))?new kr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=V_e.exec(t))?Ly(e[1],e[2],e[3],e[4]):(e=j_e.exec(t))?Ly(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=B_e.exec(t))?u3(e[1],e[2]/100,e[3]/100,1):(e=F_e.exec(t))?u3(e[1],e[2]/100,e[3]/100,e[4]):r3.hasOwnProperty(t)?s3(r3[t]):t==="transparent"?new kr(NaN,NaN,NaN,0):null}function s3(t){return new kr(t>>16&255,t>>8&255,t&255,1)}function Ly(t,e,n,r){return r<=0&&(t=e=n=NaN),new kr(t,e,n,r)}function $_e(t){return t instanceof Dm||(t=Dp(t)),t?(t=t.rgb(),new kr(t.r,t.g,t.b,t.opacity)):new kr}function _C(t,e,n,r){return arguments.length===1?$_e(t):new kr(t,e,n,r??1)}function kr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}wR(kr,_C,WG(Dm,{brighter(t){return t=t==null?a0:Math.pow(a0,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Mp:Math.pow(Mp,t),new kr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new kr(_u(this.r),_u(this.g),_u(this.b),l0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a3,formatHex:a3,formatHex8:G_e,formatRgb:l3,toString:l3}));function a3(){return`#${fu(this.r)}${fu(this.g)}${fu(this.b)}`}function G_e(){return`#${fu(this.r)}${fu(this.g)}${fu(this.b)}${fu((isNaN(this.opacity)?1:this.opacity)*255)}`}function l3(){const t=l0(this.opacity);return`${t===1?"rgb(":"rgba("}${_u(this.r)}, ${_u(this.g)}, ${_u(this.b)}${t===1?")":`, ${t})`}`}function l0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function _u(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fu(t){return t=_u(t),(t<16?"0":"")+t.toString(16)}function u3(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ki(t,e,n,r)}function YG(t){if(t instanceof Ki)return new Ki(t.h,t.s,t.l,t.opacity);if(t instanceof Dm||(t=Dp(t)),!t)return new Ki;if(t instanceof Ki)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,l=o-i,c=(o+i)/2;return l?(e===o?s=(n-r)/l+(n<r)*6:n===o?s=(r-e)/l+2:s=(e-n)/l+4,l/=c<.5?o+i:2-o-i,s*=60):l=c>0&&c<1?0:s,new Ki(s,l,c,t.opacity)}function H_e(t,e,n,r){return arguments.length===1?YG(t):new Ki(t,e,n,r??1)}function Ki(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}wR(Ki,H_e,WG(Dm,{brighter(t){return t=t==null?a0:Math.pow(a0,t),new Ki(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Mp:Math.pow(Mp,t),new Ki(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new kr(H1(t>=240?t-240:t+120,i,r),H1(t,i,r),H1(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ki(c3(this.h),Uy(this.s),Uy(this.l),l0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=l0(this.opacity);return`${t===1?"hsl(":"hsla("}${c3(this.h)}, ${Uy(this.s)*100}%, ${Uy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function c3(t){return t=(t||0)%360,t<0?t+360:t}function Uy(t){return Math.max(0,Math.min(1,t||0))}function H1(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const TR=t=>()=>t;function K_e(t,e){return function(n){return t+n*e}}function W_e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Y_e(t){return(t=+t)==1?XG:function(e,n){return n-e?W_e(e,n,t):TR(isNaN(e)?n:e)}}function XG(t,e){var n=e-t;return n?K_e(t,n):TR(isNaN(t)?e:t)}const f3=(function t(e){var n=Y_e(e);function r(i,o){var s=n((i=_C(i)).r,(o=_C(o)).r),l=n(i.g,o.g),c=n(i.b,o.b),f=XG(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=l(h),i.b=c(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function X_e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function J_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Q_e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=id(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(l){for(s=0;s<r;++s)o[s]=i[s](l);return o}}function Z_e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function u0(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function ewe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=id(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,K1=new RegExp(wC.source,"g");function twe(t){return function(){return t}}function nwe(t){return function(e){return t(e)+""}}function rwe(t,e){var n=wC.lastIndex=K1.lastIndex=0,r,i,o,s=-1,l=[],c=[];for(t=t+"",e=e+"";(r=wC.exec(t))&&(i=K1.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),l[s]?l[s]+=o:l[++s]=o),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,c.push({i:s,x:u0(r,i)})),n=K1.lastIndex;return n<e.length&&(o=e.slice(n),l[s]?l[s]+=o:l[++s]=o),l.length<2?c[0]?nwe(c[0].x):twe(e):(e=c.length,function(f){for(var h=0,p;h<e;++h)l[(p=c[h]).i]=p.x(f);return l.join("")})}function id(t,e){var n=typeof e,r;return e==null||n==="boolean"?TR(e):(n==="number"?u0:n==="string"?(r=Dp(e))?(e=r,f3):rwe:e instanceof Dp?f3:e instanceof Date?Z_e:J_e(e)?X_e:Array.isArray(e)?Q_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ewe:u0)(t,e)}function ER(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function iwe(t,e){e===void 0&&(e=t,t=id);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var l=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[l](s-l)}}function owe(t){return function(){return t}}function c0(t){return+t}var d3=[0,1];function xr(t){return t}function TC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:owe(isNaN(e)?NaN:.5)}function swe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function awe(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=TC(i,r),o=n(s,o)):(r=TC(r,i),o=n(o,s)),function(l){return o(r(l))}}function lwe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=TC(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(l){var c=Om(t,l,1,r)-1;return o[c](i[c](l))}}function Lm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jb(){var t=d3,e=d3,n=id,r,i,o,s=xr,l,c,f;function h(){var g=Math.min(t.length,e.length);return s!==xr&&(s=swe(t[0],t[g-1])),l=g>2?lwe:awe,c=f=null,p}function p(g){return g==null||isNaN(g=+g)?o:(c||(c=l(t.map(r),e,n)))(r(s(g)))}return p.invert=function(g){return s(i((f||(f=l(e,t.map(r),u0)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,c0),h()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),n=ER,h()},p.clamp=function(g){return arguments.length?(s=g?!0:xr,h()):s!==xr},p.interpolate=function(g){return arguments.length?(n=g,h()):n},p.unknown=function(g){return arguments.length?(o=g,p):o},function(g,_){return r=g,i=_,h()}}function SR(){return jb()(xr,xr)}function uwe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function f0(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Rf(t){return t=f0(Math.abs(t)),t?t[1]:NaN}function cwe(t,e){return function(n,r){for(var i=n.length,o=[],s=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>r&&(l=Math.max(1,r-c)),o.push(n.substring(i-=l,i+l)),!((c+=l+1)>r));)l=t[s=(s+1)%t.length];return o.reverse().join(e)}}function fwe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var dwe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lp(t){if(!(e=dwe.exec(t)))throw new Error("invalid format: "+t);var e;return new AR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lp.prototype=AR.prototype;function AR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hwe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var d0;function pwe(t,e){var n=f0(t,e);if(!n)return d0=void 0,t.toPrecision(e);var r=n[0],i=n[1],o=i-(d0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+f0(t,Math.max(0,e+o-1))[0]}function h3(t,e){var n=f0(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const p3={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:uwe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>h3(t*100,e),r:h3,s:pwe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function m3(t){return t}var g3=Array.prototype.map,y3=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mwe(t){var e=t.grouping===void 0||t.thousands===void 0?m3:cwe(g3.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?m3:fwe(g3.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function f(p,g){p=Lp(p);var _=p.fill,S=p.align,A=p.sign,E=p.symbol,M=p.zero,I=p.width,N=p.comma,C=p.precision,R=p.trim,U=p.type;U==="n"?(N=!0,U="g"):p3[U]||(C===void 0&&(C=12),R=!0,U="g"),(M||_==="0"&&S==="=")&&(M=!0,_="0",S="=");var k=(g&&g.prefix!==void 0?g.prefix:"")+(E==="$"?n:E==="#"&&/[boxX]/.test(U)?"0"+U.toLowerCase():""),O=(E==="$"?r:/[%p]/.test(U)?s:"")+(g&&g.suffix!==void 0?g.suffix:""),V=p3[U],F=/[defgprs%]/.test(U);C=C===void 0?6:/[gprs]/.test(U)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function q(z){var B=k,Q=O,oe,K,X;if(U==="c")Q=V(z)+Q,z="";else{z=+z;var te=z<0||1/z<0;if(z=isNaN(z)?c:V(Math.abs(z),C),R&&(z=hwe(z)),te&&+z==0&&A!=="+"&&(te=!1),B=(te?A==="("?A:l:A==="-"||A==="("?"":A)+B,Q=(U==="s"&&!isNaN(z)&&d0!==void 0?y3[8+d0/3]:"")+Q+(te&&A==="("?")":""),F){for(oe=-1,K=z.length;++oe<K;)if(X=z.charCodeAt(oe),48>X||X>57){Q=(X===46?i+z.slice(oe+1):z.slice(oe))+Q,z=z.slice(0,oe);break}}}N&&!M&&(z=e(z,1/0));var ce=B.length+z.length+Q.length,Y=ce<I?new Array(I-ce+1).join(_):"";switch(N&&M&&(z=e(Y+z,Y.length?I-Q.length:1/0),Y=""),S){case"<":z=B+z+Q+Y;break;case"=":z=B+Y+z+Q;break;case"^":z=Y.slice(0,ce=Y.length>>1)+B+z+Q+Y.slice(ce);break;default:z=Y+B+z+Q;break}return o(z)}return q.toString=function(){return p+""},q}function h(p,g){var _=Math.max(-8,Math.min(8,Math.floor(Rf(g)/3)))*3,S=Math.pow(10,-_),A=f((p=Lp(p),p.type="f",p),{suffix:y3[8+_/3]});return function(E){return A(S*E)}}return{format:f,formatPrefix:h}}var Vy,CR,JG;gwe({thousands:",",grouping:[3],currency:["$",""]});function gwe(t){return Vy=mwe(t),CR=Vy.format,JG=Vy.formatPrefix,Vy}function ywe(t){return Math.max(0,-Rf(Math.abs(t)))}function vwe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Rf(e)/3)))*3-Rf(Math.abs(t)))}function bwe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Rf(e)-Rf(t))+1}function QG(t,e,n,r){var i=bC(t,e,n),o;switch(r=Lp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=vwe(i,s))&&(r.precision=o),JG(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=bwe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ywe(i))&&(r.precision=o-(r.type==="%")*2);break}}return CR(r)}function pl(t){var e=t.domain;return t.ticks=function(n){var r=e();return yC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return QG(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],l=r[o],c,f,h=10;for(l<s&&(f=s,s=l,l=f,f=i,i=o,o=f);h-- >0;){if(f=vC(s,l,n),f===c)return r[i]=s,r[o]=l,e(r);if(f>0)s=Math.floor(s/f)*f,l=Math.ceil(l/f)*f;else if(f<0)s=Math.ceil(s*f)/f,l=Math.floor(l*f)/f;else break;c=f}return t},t}function h0(){var t=SR();return t.copy=function(){return Lm(t,h0())},ki.apply(t,arguments),pl(t)}function ZG(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,c0),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return ZG(t).unknown(e)},t=arguments.length?Array.from(t,c0):[0,1],pl(n)}function eH(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function v3(t){return Math.log(t)}function b3(t){return Math.exp(t)}function xwe(t){return-Math.log(-t)}function _we(t){return-Math.exp(-t)}function wwe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Twe(t){return t===10?wwe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function Ewe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function x3(t){return(e,n)=>-t(-e,n)}function IR(t){const e=t(v3,b3),n=e.domain;let r=10,i,o;function s(){return i=Ewe(r),o=Twe(r),n()[0]<0?(i=x3(i),o=x3(o),t(xwe,_we)):t(v3,b3),e}return e.base=function(l){return arguments.length?(r=+l,s()):r},e.domain=function(l){return arguments.length?(n(l),s()):n()},e.ticks=l=>{const c=n();let f=c[0],h=c[c.length-1];const p=h<f;p&&([f,h]=[h,f]);let g=i(f),_=i(h),S,A;const E=l==null?10:+l;let M=[];if(!(r%1)&&_-g<E){if(g=Math.floor(g),_=Math.ceil(_),f>0){for(;g<=_;++g)for(S=1;S<r;++S)if(A=g<0?S/o(-g):S*o(g),!(A<f)){if(A>h)break;M.push(A)}}else for(;g<=_;++g)for(S=r-1;S>=1;--S)if(A=g>0?S/o(-g):S*o(g),!(A<f)){if(A>h)break;M.push(A)}M.length*2<E&&(M=yC(f,h,E))}else M=yC(g,_,Math.min(_-g,E)).map(o);return p?M.reverse():M},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Lp(c)).precision==null&&(c.trim=!0),c=CR(c)),l===1/0)return c;const f=Math.max(1,r*l/e.ticks().length);return h=>{let p=h/o(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?c(h):""}},e.nice=()=>n(eH(n(),{floor:l=>o(Math.floor(i(l))),ceil:l=>o(Math.ceil(i(l)))})),e}function tH(){const t=IR(jb()).domain([1,10]);return t.copy=()=>Lm(t,tH()).base(t.base()),ki.apply(t,arguments),t}function _3(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function w3(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NR(t){var e=1,n=t(_3(e),w3(e));return n.constant=function(r){return arguments.length?t(_3(e=+r),w3(e)):e},pl(n)}function nH(){var t=NR(jb());return t.copy=function(){return Lm(t,nH()).constant(t.constant())},ki.apply(t,arguments)}function T3(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Swe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Awe(t){return t<0?-t*t:t*t}function RR(t){var e=t(xr,xr),n=1;function r(){return n===1?t(xr,xr):n===.5?t(Swe,Awe):t(T3(n),T3(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},pl(e)}function PR(){var t=RR(jb());return t.copy=function(){return Lm(t,PR()).exponent(t.exponent())},ki.apply(t,arguments),t}function Cwe(){return PR.apply(null,arguments).exponent(.5)}function E3(t){return Math.sign(t)*t*t}function Iwe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function rH(){var t=SR(),e=[0,1],n=!1,r;function i(o){var s=Iwe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(E3(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,c0)).map(E3)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return rH(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ki.apply(i,arguments),pl(i)}function iH(){var t=[],e=[],n=[],r;function i(){var s=0,l=Math.max(1,e.length);for(n=new Array(l-1);++s<l;)n[s-1]=M_e(t,s/l);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Om(n,s)]}return o.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?n[l-1]:t[0],l<n.length?n[l]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ha),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return iH().domain(t).range(e).unknown(r)},ki.apply(o,arguments)}function oH(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Om(r,c,0,n)]:o}function l(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,l()):i.slice()},s.invertExtent=function(c){var f=i.indexOf(c);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return oH().domain([t,e]).range(i).unknown(o)},ki.apply(pl(s),arguments)}function sH(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Om(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return sH().domain(t).range(e).unknown(n)},ki.apply(i,arguments)}const W1=new Date,Y1=new Date;function Mn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),l=i.ceil(o);return o-s<l-o?s:l},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,l)=>{const c=[];if(o=i.ceil(o),l=l==null?1:Math.floor(l),!(o<s)||!(l>0))return c;let f;do c.push(f=new Date(+o)),e(o,l),t(o);while(f<o&&o<s);return c},i.filter=o=>Mn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!o(s););else for(;--l>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(W1.setTime(+o),Y1.setTime(+s),t(W1),t(Y1),Math.floor(n(W1,Y1))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const p0=Mn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);p0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Mn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):p0);p0.range;const Es=1e3,Si=Es*60,Ss=Si*60,Vs=Ss*24,kR=Vs*7,S3=Vs*30,X1=Vs*365,du=Mn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Es)},(t,e)=>(e-t)/Es,t=>t.getUTCSeconds());du.range;const MR=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getMinutes());MR.range;const OR=Mn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Si)},(t,e)=>(e-t)/Si,t=>t.getUTCMinutes());OR.range;const DR=Mn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Es-t.getMinutes()*Si)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getHours());DR.range;const LR=Mn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ss)},(t,e)=>(e-t)/Ss,t=>t.getUTCHours());LR.range;const Um=Mn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Si)/Vs,t=>t.getDate()-1);Um.range;const Bb=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>t.getUTCDate()-1);Bb.range;const aH=Mn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Vs,t=>Math.floor(t/Vs));aH.range;function Hu(t){return Mn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Si)/kR)}const Fb=Hu(0),m0=Hu(1),Nwe=Hu(2),Rwe=Hu(3),Pf=Hu(4),Pwe=Hu(5),kwe=Hu(6);Fb.range;m0.range;Nwe.range;Rwe.range;Pf.range;Pwe.range;kwe.range;function Ku(t){return Mn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/kR)}const qb=Ku(0),g0=Ku(1),Mwe=Ku(2),Owe=Ku(3),kf=Ku(4),Dwe=Ku(5),Lwe=Ku(6);qb.range;g0.range;Mwe.range;Owe.range;kf.range;Dwe.range;Lwe.range;const UR=Mn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UR.range;const VR=Mn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());VR.range;const js=Mn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());js.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});js.range;const Bs=Mn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Bs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Mn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Bs.range;function lH(t,e,n,r,i,o){const s=[[du,1,Es],[du,5,5*Es],[du,15,15*Es],[du,30,30*Es],[o,1,Si],[o,5,5*Si],[o,15,15*Si],[o,30,30*Si],[i,1,Ss],[i,3,3*Ss],[i,6,6*Ss],[i,12,12*Ss],[r,1,Vs],[r,2,2*Vs],[n,1,kR],[e,1,S3],[e,3,3*S3],[t,1,X1]];function l(f,h,p){const g=h<f;g&&([f,h]=[h,f]);const _=p&&typeof p.range=="function"?p:c(f,h,p),S=_?_.range(f,+h+1):[];return g?S.reverse():S}function c(f,h,p){const g=Math.abs(h-f)/p,_=xR(([,,E])=>E).right(s,g);if(_===s.length)return t.every(bC(f/X1,h/X1,p));if(_===0)return p0.every(Math.max(bC(f,h,p),1));const[S,A]=s[g/s[_-1][2]<s[_][2]/g?_-1:_];return S.every(A)}return[l,c]}const[Uwe,Vwe]=lH(Bs,VR,qb,aH,LR,OR),[jwe,Bwe]=lH(js,UR,Fb,Um,DR,MR);function J1(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Q1(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Fwe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,f=bh(i),h=xh(i),p=bh(o),g=xh(o),_=bh(s),S=xh(s),A=bh(l),E=xh(l),M=bh(c),I=xh(c),N={a:X,A:te,b:ce,B:Y,c:null,d:P3,e:P3,f:cTe,g:xTe,G:wTe,H:aTe,I:lTe,j:uTe,L:uH,m:fTe,M:dTe,p:L,q:G,Q:O3,s:D3,S:hTe,u:pTe,U:mTe,V:gTe,w:yTe,W:vTe,x:null,X:null,y:bTe,Y:_Te,Z:TTe,"%":M3},C={a:ee,A:ae,b:ge,B:we,c:null,d:k3,e:k3,f:CTe,g:UTe,G:jTe,H:ETe,I:STe,j:ATe,L:fH,m:ITe,M:NTe,p:Te,q:Re,Q:O3,s:D3,S:RTe,u:PTe,U:kTe,V:MTe,w:OTe,W:DTe,x:null,X:null,y:LTe,Y:VTe,Z:BTe,"%":M3},R={a:F,A:q,b:z,B,c:Q,d:N3,e:N3,f:rTe,g:I3,G:C3,H:R3,I:R3,j:Zwe,L:nTe,m:Qwe,M:eTe,p:V,q:Jwe,Q:oTe,s:sTe,S:tTe,u:Hwe,U:Kwe,V:Wwe,w:Gwe,W:Ywe,x:oe,X:K,y:I3,Y:C3,Z:Xwe,"%":iTe};N.x=U(n,N),N.X=U(r,N),N.c=U(e,N),C.x=U(n,C),C.X=U(r,C),C.c=U(e,C);function U(pe,Ce){return function(Ie){var he=[],Se=-1,Ee=0,Ve=pe.length,We,dt,It;for(Ie instanceof Date||(Ie=new Date(+Ie));++Se<Ve;)pe.charCodeAt(Se)===37&&(he.push(pe.slice(Ee,Se)),(dt=A3[We=pe.charAt(++Se)])!=null?We=pe.charAt(++Se):dt=We==="e"?" ":"0",(It=Ce[We])&&(We=It(Ie,dt)),he.push(We),Ee=Se+1);return he.push(pe.slice(Ee,Se)),he.join("")}}function k(pe,Ce){return function(Ie){var he=vh(1900,void 0,1),Se=O(he,pe,Ie+="",0),Ee,Ve;if(Se!=Ie.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(Ce&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(Ee=Q1(vh(he.y,0,1)),Ve=Ee.getUTCDay(),Ee=Ve>4||Ve===0?g0.ceil(Ee):g0(Ee),Ee=Bb.offset(Ee,(he.V-1)*7),he.y=Ee.getUTCFullYear(),he.m=Ee.getUTCMonth(),he.d=Ee.getUTCDate()+(he.w+6)%7):(Ee=J1(vh(he.y,0,1)),Ve=Ee.getDay(),Ee=Ve>4||Ve===0?m0.ceil(Ee):m0(Ee),Ee=Um.offset(Ee,(he.V-1)*7),he.y=Ee.getFullYear(),he.m=Ee.getMonth(),he.d=Ee.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),Ve="Z"in he?Q1(vh(he.y,0,1)).getUTCDay():J1(vh(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(Ve+5)%7:he.w+he.U*7-(Ve+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,Q1(he)):J1(he)}}function O(pe,Ce,Ie,he){for(var Se=0,Ee=Ce.length,Ve=Ie.length,We,dt;Se<Ee;){if(he>=Ve)return-1;if(We=Ce.charCodeAt(Se++),We===37){if(We=Ce.charAt(Se++),dt=R[We in A3?Ce.charAt(Se++):We],!dt||(he=dt(pe,Ie,he))<0)return-1}else if(We!=Ie.charCodeAt(he++))return-1}return he}function V(pe,Ce,Ie){var he=f.exec(Ce.slice(Ie));return he?(pe.p=h.get(he[0].toLowerCase()),Ie+he[0].length):-1}function F(pe,Ce,Ie){var he=_.exec(Ce.slice(Ie));return he?(pe.w=S.get(he[0].toLowerCase()),Ie+he[0].length):-1}function q(pe,Ce,Ie){var he=p.exec(Ce.slice(Ie));return he?(pe.w=g.get(he[0].toLowerCase()),Ie+he[0].length):-1}function z(pe,Ce,Ie){var he=M.exec(Ce.slice(Ie));return he?(pe.m=I.get(he[0].toLowerCase()),Ie+he[0].length):-1}function B(pe,Ce,Ie){var he=A.exec(Ce.slice(Ie));return he?(pe.m=E.get(he[0].toLowerCase()),Ie+he[0].length):-1}function Q(pe,Ce,Ie){return O(pe,e,Ce,Ie)}function oe(pe,Ce,Ie){return O(pe,n,Ce,Ie)}function K(pe,Ce,Ie){return O(pe,r,Ce,Ie)}function X(pe){return s[pe.getDay()]}function te(pe){return o[pe.getDay()]}function ce(pe){return c[pe.getMonth()]}function Y(pe){return l[pe.getMonth()]}function L(pe){return i[+(pe.getHours()>=12)]}function G(pe){return 1+~~(pe.getMonth()/3)}function ee(pe){return s[pe.getUTCDay()]}function ae(pe){return o[pe.getUTCDay()]}function ge(pe){return c[pe.getUTCMonth()]}function we(pe){return l[pe.getUTCMonth()]}function Te(pe){return i[+(pe.getUTCHours()>=12)]}function Re(pe){return 1+~~(pe.getUTCMonth()/3)}return{format:function(pe){var Ce=U(pe+="",N);return Ce.toString=function(){return pe},Ce},parse:function(pe){var Ce=k(pe+="",!1);return Ce.toString=function(){return pe},Ce},utcFormat:function(pe){var Ce=U(pe+="",C);return Ce.toString=function(){return pe},Ce},utcParse:function(pe){var Ce=k(pe+="",!0);return Ce.toString=function(){return pe},Ce}}}var A3={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,qwe=/^%/,zwe=/[\\^$*+?|[\]().{}]/g;function wt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function $we(t){return t.replace(zwe,"\\$&")}function bh(t){return new RegExp("^(?:"+t.map($we).join("|")+")","i")}function xh(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Gwe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hwe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Kwe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Wwe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Ywe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function C3(t,e,n){var r=zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function I3(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Xwe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Jwe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Qwe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function N3(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Zwe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function R3(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eTe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function tTe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function nTe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function rTe(t,e,n){var r=zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function iTe(t,e,n){var r=qwe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function oTe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function sTe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function P3(t,e){return wt(t.getDate(),e,2)}function aTe(t,e){return wt(t.getHours(),e,2)}function lTe(t,e){return wt(t.getHours()%12||12,e,2)}function uTe(t,e){return wt(1+Um.count(js(t),t),e,3)}function uH(t,e){return wt(t.getMilliseconds(),e,3)}function cTe(t,e){return uH(t,e)+"000"}function fTe(t,e){return wt(t.getMonth()+1,e,2)}function dTe(t,e){return wt(t.getMinutes(),e,2)}function hTe(t,e){return wt(t.getSeconds(),e,2)}function pTe(t){var e=t.getDay();return e===0?7:e}function mTe(t,e){return wt(Fb.count(js(t)-1,t),e,2)}function cH(t){var e=t.getDay();return e>=4||e===0?Pf(t):Pf.ceil(t)}function gTe(t,e){return t=cH(t),wt(Pf.count(js(t),t)+(js(t).getDay()===4),e,2)}function yTe(t){return t.getDay()}function vTe(t,e){return wt(m0.count(js(t)-1,t),e,2)}function bTe(t,e){return wt(t.getFullYear()%100,e,2)}function xTe(t,e){return t=cH(t),wt(t.getFullYear()%100,e,2)}function _Te(t,e){return wt(t.getFullYear()%1e4,e,4)}function wTe(t,e){var n=t.getDay();return t=n>=4||n===0?Pf(t):Pf.ceil(t),wt(t.getFullYear()%1e4,e,4)}function TTe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+wt(e/60|0,"0",2)+wt(e%60,"0",2)}function k3(t,e){return wt(t.getUTCDate(),e,2)}function ETe(t,e){return wt(t.getUTCHours(),e,2)}function STe(t,e){return wt(t.getUTCHours()%12||12,e,2)}function ATe(t,e){return wt(1+Bb.count(Bs(t),t),e,3)}function fH(t,e){return wt(t.getUTCMilliseconds(),e,3)}function CTe(t,e){return fH(t,e)+"000"}function ITe(t,e){return wt(t.getUTCMonth()+1,e,2)}function NTe(t,e){return wt(t.getUTCMinutes(),e,2)}function RTe(t,e){return wt(t.getUTCSeconds(),e,2)}function PTe(t){var e=t.getUTCDay();return e===0?7:e}function kTe(t,e){return wt(qb.count(Bs(t)-1,t),e,2)}function dH(t){var e=t.getUTCDay();return e>=4||e===0?kf(t):kf.ceil(t)}function MTe(t,e){return t=dH(t),wt(kf.count(Bs(t),t)+(Bs(t).getUTCDay()===4),e,2)}function OTe(t){return t.getUTCDay()}function DTe(t,e){return wt(g0.count(Bs(t)-1,t),e,2)}function LTe(t,e){return wt(t.getUTCFullYear()%100,e,2)}function UTe(t,e){return t=dH(t),wt(t.getUTCFullYear()%100,e,2)}function VTe(t,e){return wt(t.getUTCFullYear()%1e4,e,4)}function jTe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?kf(t):kf.ceil(t),wt(t.getUTCFullYear()%1e4,e,4)}function BTe(){return"+0000"}function M3(){return"%"}function O3(t){return+t}function D3(t){return Math.floor(+t/1e3)}var Fc,hH,pH;FTe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FTe(t){return Fc=Fwe(t),hH=Fc.format,Fc.parse,pH=Fc.utcFormat,Fc.utcParse,Fc}function qTe(t){return new Date(t)}function zTe(t){return t instanceof Date?+t:+new Date(+t)}function jR(t,e,n,r,i,o,s,l,c,f){var h=SR(),p=h.invert,g=h.domain,_=f(".%L"),S=f(":%S"),A=f("%I:%M"),E=f("%I %p"),M=f("%a %d"),I=f("%b %d"),N=f("%B"),C=f("%Y");function R(U){return(c(U)<U?_:l(U)<U?S:s(U)<U?A:o(U)<U?E:r(U)<U?i(U)<U?M:I:n(U)<U?N:C)(U)}return h.invert=function(U){return new Date(p(U))},h.domain=function(U){return arguments.length?g(Array.from(U,zTe)):g().map(qTe)},h.ticks=function(U){var k=g();return t(k[0],k[k.length-1],U??10)},h.tickFormat=function(U,k){return k==null?R:f(k)},h.nice=function(U){var k=g();return(!U||typeof U.range!="function")&&(U=e(k[0],k[k.length-1],U??10)),U?g(eH(k,U)):h},h.copy=function(){return Lm(h,jR(t,e,n,r,i,o,s,l,c,f))},h}function $Te(){return ki.apply(jR(jwe,Bwe,js,UR,Fb,Um,DR,MR,du,hH).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function GTe(){return ki.apply(jR(Uwe,Vwe,Bs,VR,qb,Bb,LR,OR,du,pH).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function zb(){var t=0,e=1,n,r,i,o,s=xr,l=!1,c;function f(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(o(p)-n)*i,l?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(l=!!p,f):l},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(g){var _,S;return arguments.length?([_,S]=g,s=p(_,S),f):[s(0),s(1)]}}return f.range=h(id),f.rangeRound=h(ER),f.unknown=function(p){return arguments.length?(c=p,f):c},function(p){return o=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function ml(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function mH(){var t=pl(zb()(xr));return t.copy=function(){return ml(t,mH())},Hs.apply(t,arguments)}function gH(){var t=IR(zb()).domain([1,10]);return t.copy=function(){return ml(t,gH()).base(t.base())},Hs.apply(t,arguments)}function yH(){var t=NR(zb());return t.copy=function(){return ml(t,yH()).constant(t.constant())},Hs.apply(t,arguments)}function BR(){var t=RR(zb());return t.copy=function(){return ml(t,BR()).exponent(t.exponent())},Hs.apply(t,arguments)}function HTe(){return BR.apply(null,arguments).exponent(.5)}function vH(){var t=[],e=xr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Om(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Ha),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>k_e(t,o/r))},n.copy=function(){return vH(e).domain(t)},Hs.apply(n,arguments)}function $b(){var t=0,e=.5,n=1,r=1,i,o,s,l,c,f=xr,h,p=!1,g;function _(A){return isNaN(A=+A)?g:(A=.5+((A=+h(A))-o)*(r*A<r*o?l:c),f(p?Math.max(0,Math.min(1,A)):A))}_.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),s=h(n=+n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,_):[t,e,n]},_.clamp=function(A){return arguments.length?(p=!!A,_):p},_.interpolator=function(A){return arguments.length?(f=A,_):f};function S(A){return function(E){var M,I,N;return arguments.length?([M,I,N]=E,f=iwe(A,[M,I,N]),_):[f(0),f(.5),f(1)]}}return _.range=S(id),_.rangeRound=S(ER),_.unknown=function(A){return arguments.length?(g=A,_):g},function(A){return h=A,i=A(t),o=A(e),s=A(n),l=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,_}}function bH(){var t=pl($b()(xr));return t.copy=function(){return ml(t,bH())},Hs.apply(t,arguments)}function xH(){var t=IR($b()).domain([.1,1,10]);return t.copy=function(){return ml(t,xH()).base(t.base())},Hs.apply(t,arguments)}function _H(){var t=NR($b());return t.copy=function(){return ml(t,_H()).constant(t.constant())},Hs.apply(t,arguments)}function FR(){var t=RR($b());return t.copy=function(){return ml(t,FR()).exponent(t.exponent())},Hs.apply(t,arguments)}function KTe(){return FR.apply(null,arguments).exponent(.5)}const L3=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:kp,scaleDiverging:bH,scaleDivergingLog:xH,scaleDivergingPow:FR,scaleDivergingSqrt:KTe,scaleDivergingSymlog:_H,scaleIdentity:ZG,scaleImplicit:xC,scaleLinear:h0,scaleLog:tH,scaleOrdinal:_R,scalePoint:tp,scalePow:PR,scaleQuantile:iH,scaleQuantize:oH,scaleRadial:rH,scaleSequential:mH,scaleSequentialLog:gH,scaleSequentialPow:BR,scaleSequentialQuantile:vH,scaleSequentialSqrt:HTe,scaleSequentialSymlog:yH,scaleSqrt:Cwe,scaleSymlog:nH,scaleThreshold:sH,scaleTime:$Te,scaleUtc:GTe,tickFormat:QG},Symbol.toStringTag,{value:"Module"}));var Z1,U3;function wH(){if(U3)return Z1;U3=1;var t=Zf();function e(n,r,i){for(var o=-1,s=n.length;++o<s;){var l=n[o],c=r(l);if(c!=null&&(f===void 0?c===c&&!t(c):i(c,f)))var f=c,h=l}return h}return Z1=e,Z1}var eS,V3;function WTe(){if(V3)return eS;V3=1;function t(e,n){return e>n}return eS=t,eS}var tS,j3;function YTe(){if(j3)return tS;j3=1;var t=wH(),e=WTe(),n=nd();function r(i){return i&&i.length?t(i,n,e):void 0}return tS=r,tS}var XTe=YTe();const Ba=Bt(XTe);var nS,B3;function JTe(){if(B3)return nS;B3=1;function t(e,n){return e<n}return nS=t,nS}var rS,F3;function QTe(){if(F3)return rS;F3=1;var t=wH(),e=JTe(),n=nd();function r(i){return i&&i.length?t(i,n,e):void 0}return rS=r,rS}var ZTe=QTe();const Gb=Bt(ZTe);var iS,q3;function eEe(){if(q3)return iS;q3=1;var t=rR(),e=hl(),n=PG(),r=Lr();function i(o,s){var l=r(o)?t:n;return l(o,e(s,3))}return iS=i,iS}var oS,z3;function tEe(){if(z3)return oS;z3=1;var t=NG(),e=eEe();function n(r,i){return t(e(r,i),1)}return oS=n,oS}var nEe=tEe();const rEe=Bt(nEe);var sS,$3;function iEe(){if($3)return sS;$3=1;var t=gR();function e(n,r){return t(n,r)}return sS=e,sS}var oEe=iEe();const Up=Bt(oEe);var od=1e9,sEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zR,Qt=!0,Ri="[DecimalError] ",wu=Ri+"Invalid argument: ",qR=Ri+"Exponent out of range: ",sd=Math.floor,ou=Math.pow,aEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Jr,Fn=1e7,Ht=7,TH=9007199254740991,y0=sd(TH/Ht),De={};De.absoluteValue=De.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};De.comparedTo=De.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};De.decimalPlaces=De.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Ht;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};De.dividedBy=De.div=function(t){return ks(this,new this.constructor(t))};De.dividedToIntegerBy=De.idiv=function(t){var e=this,n=e.constructor;return jt(ks(e,new n(t),0,1),n.precision)};De.equals=De.eq=function(t){return!this.cmp(t)};De.exponent=function(){return In(this)};De.greaterThan=De.gt=function(t){return this.cmp(t)>0};De.greaterThanOrEqualTo=De.gte=function(t){return this.cmp(t)>=0};De.isInteger=De.isint=function(){return this.e>this.d.length-2};De.isNegative=De.isneg=function(){return this.s<0};De.isPositive=De.ispos=function(){return this.s>0};De.isZero=function(){return this.s===0};De.lessThan=De.lt=function(t){return this.cmp(t)<0};De.lessThanOrEqualTo=De.lte=function(t){return this.cmp(t)<1};De.logarithm=De.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Jr))throw Error(Ri+"NaN");if(n.s<1)throw Error(Ri+(n.s?"NaN":"-Infinity"));return n.eq(Jr)?new r(0):(Qt=!1,e=ks(Vp(n,o),Vp(t,o),o),Qt=!0,jt(e,i))};De.minus=De.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?AH(e,t):EH(e,(t.s=-t.s,t))};De.modulo=De.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ri+"NaN");return n.s?(Qt=!1,e=ks(n,t,0,1).times(t),Qt=!0,n.minus(e)):jt(new r(n),i)};De.naturalExponential=De.exp=function(){return SH(this)};De.naturalLogarithm=De.ln=function(){return Vp(this)};De.negated=De.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};De.plus=De.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?EH(e,t):AH(e,(t.s=-t.s,t))};De.precision=De.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wu+t);if(e=In(i)+1,r=i.d.length-1,n=r*Ht+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};De.squareRoot=De.sqrt=function(){var t,e,n,r,i,o,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ri+"NaN")}for(t=In(l),Qt=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=Lo(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sd((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(ks(l,o,s+2)).times(.5),Lo(o.d).slice(0,s)===(e=Lo(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(jt(o,n+1,0),o.times(o).eq(l)){r=o;break}}else if(e!="9999")break;s+=4}return Qt=!0,jt(r,n)};De.times=De.mul=function(t){var e,n,r,i,o,s,l,c,f,h=this,p=h.constructor,g=h.d,_=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,c=g.length,f=_.length,c<f&&(o=g,g=_,_=o,s=c,c=f,f=s),o=[],s=c+f,r=s;r--;)o.push(0);for(r=f;--r>=0;){for(e=0,i=c+r;i>r;)l=o[i]+_[r]*g[i-r-1]+e,o[i--]=l%Fn|0,e=l/Fn|0;o[i]=(o[i]+e)%Fn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Qt?jt(t,p.precision):t};De.toDecimalPlaces=De.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Wo(t,0,od),e===void 0?e=r.rounding:Wo(e,0,8),jt(n,t+In(n)+1,e))};De.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Mu(r,!0):(Wo(t,0,od),e===void 0?e=i.rounding:Wo(e,0,8),r=jt(new i(r),t+1,e),n=Mu(r,!0,t+1)),n};De.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Mu(i):(Wo(t,0,od),e===void 0?e=o.rounding:Wo(e,0,8),r=jt(new o(i),t+In(i)+1,e),n=Mu(r.abs(),!1,t+In(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};De.toInteger=De.toint=function(){var t=this,e=t.constructor;return jt(new e(t),In(t)+1,e.rounding)};De.toNumber=function(){return+this};De.toPower=De.pow=function(t){var e,n,r,i,o,s,l=this,c=l.constructor,f=12,h=+(t=new c(t));if(!t.s)return new c(Jr);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ri+"Infinity");return l}if(l.eq(Jr))return l;if(r=c.precision,t.eq(Jr))return jt(l,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=l.s,s){if((n=h<0?-h:h)<=TH){for(i=new c(Jr),e=Math.ceil(r/Ht+4),Qt=!1;n%2&&(i=i.times(l),H3(i.d,e)),n=sd(n/2),n!==0;)l=l.times(l),H3(l.d,e);return Qt=!0,t.s<0?new c(Jr).div(i):jt(i,r)}}else if(o<0)throw Error(Ri+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,l.s=1,Qt=!1,i=t.times(Vp(l,r+f)),Qt=!0,i=SH(i),i.s=o,i};De.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=In(i),r=Mu(i,n<=o.toExpNeg||n>=o.toExpPos)):(Wo(t,1,od),e===void 0?e=o.rounding:Wo(e,0,8),i=jt(new o(i),t,e),n=In(i),r=Mu(i,t<=n||n<=o.toExpNeg,t)),r};De.toSignificantDigits=De.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Wo(t,1,od),e===void 0?e=r.rounding:Wo(e,0,8)),jt(new r(n),t,e)};De.toString=De.valueOf=De.val=De.toJSON=De[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=In(t),n=t.constructor;return Mu(t,e<=n.toExpNeg||e>=n.toExpPos)};function EH(t,e){var n,r,i,o,s,l,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Qt?jt(e,p):e;if(c=t.d,f=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,l=f.length):(r=f,i=s,l=c.length),s=Math.ceil(p/Ht),l=s>l?s+1:l+1,o>l&&(o=l,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(l=c.length,o=f.length,l-o<0&&(o=l,r=f,f=c,c=r),n=0;o;)n=(c[--o]=c[o]+f[o]+n)/Fn|0,c[o]%=Fn;for(n&&(c.unshift(n),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Qt?jt(e,p):e}function Wo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wu+t)}function Lo(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Ht-r.length,n&&(o+=Ra(n)),o+=r;s=t[e],r=s+"",n=Ht-r.length,n&&(o+=Ra(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ks=(function(){function t(r,i){var o,s=0,l=r.length;for(r=r.slice();l--;)o=r[l]*i+s,r[l]=o%Fn|0,s=o/Fn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var l,c;if(o!=s)c=o>s?1:-1;else for(l=c=0;l<o;l++)if(r[l]!=i[l]){c=r[l]>i[l]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Fn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var l,c,f,h,p,g,_,S,A,E,M,I,N,C,R,U,k,O,V=r.constructor,F=r.s==i.s?1:-1,q=r.d,z=i.d;if(!r.s)return new V(r);if(!i.s)throw Error(Ri+"Division by zero");for(c=r.e-i.e,k=z.length,R=q.length,_=new V(F),S=_.d=[],f=0;z[f]==(q[f]||0);)++f;if(z[f]>(q[f]||0)&&--c,o==null?I=o=V.precision:s?I=o+(In(r)-In(i))+1:I=o,I<0)return new V(0);if(I=I/Ht+2|0,f=0,k==1)for(h=0,z=z[0],I++;(f<R||h)&&I--;f++)N=h*Fn+(q[f]||0),S[f]=N/z|0,h=N%z|0;else{for(h=Fn/(z[0]+1)|0,h>1&&(z=t(z,h),q=t(q,h),k=z.length,R=q.length),C=k,A=q.slice(0,k),E=A.length;E<k;)A[E++]=0;O=z.slice(),O.unshift(0),U=z[0],z[1]>=Fn/2&&++U;do h=0,l=e(z,A,k,E),l<0?(M=A[0],k!=E&&(M=M*Fn+(A[1]||0)),h=M/U|0,h>1?(h>=Fn&&(h=Fn-1),p=t(z,h),g=p.length,E=A.length,l=e(p,A,g,E),l==1&&(h--,n(p,k<g?O:z,g))):(h==0&&(l=h=1),p=z.slice()),g=p.length,g<E&&p.unshift(0),n(A,p,E),l==-1&&(E=A.length,l=e(z,A,k,E),l<1&&(h++,n(A,k<E?O:z,E))),E=A.length):l===0&&(h++,A=[0]),S[f++]=h,l&&A[0]?A[E++]=q[C]||0:(A=[q[C]],E=1);while((C++<R||A[0]!==void 0)&&I--)}return S[0]||S.shift(),_.e=c,jt(_,s?o+In(_)+1:o)}})();function SH(t,e){var n,r,i,o,s,l,c=0,f=0,h=t.constructor,p=h.precision;if(In(t)>16)throw Error(qR+In(t));if(!t.s)return new h(Jr);for(Qt=!1,l=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(ou(2,f))/Math.LN10*2+5|0,l+=r,n=i=o=new h(Jr),h.precision=l;;){if(i=jt(i.times(t),l),n=n.times(++c),s=o.plus(ks(i,n,l)),Lo(s.d).slice(0,l)===Lo(o.d).slice(0,l)){for(;f--;)o=jt(o.times(o),l);return h.precision=p,e==null?(Qt=!0,jt(o,p)):o}o=s}}function In(t){for(var e=t.e*Ht,n=t.d[0];n>=10;n/=10)e++;return e}function aS(t,e,n){if(e>t.LN10.sd())throw Qt=!0,n&&(t.precision=n),Error(Ri+"LN10 precision limit exceeded");return jt(new t(t.LN10),e)}function Ra(t){for(var e="";t--;)e+="0";return e}function Vp(t,e){var n,r,i,o,s,l,c,f,h,p=1,g=10,_=t,S=_.d,A=_.constructor,E=A.precision;if(_.s<1)throw Error(Ri+(_.s?"NaN":"-Infinity"));if(_.eq(Jr))return new A(0);if(e==null?(Qt=!1,f=E):f=e,_.eq(10))return e==null&&(Qt=!0),aS(A,f);if(f+=g,A.precision=f,n=Lo(S),r=n.charAt(0),o=In(_),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)_=_.times(t),n=Lo(_.d),r=n.charAt(0),p++;o=In(_),r>1?(_=new A("0."+n),o++):_=new A(r+"."+n.slice(1))}else return c=aS(A,f+2,E).times(o+""),_=Vp(new A(r+"."+n.slice(1)),f-g).plus(c),A.precision=E,e==null?(Qt=!0,jt(_,E)):_;for(l=s=_=ks(_.minus(Jr),_.plus(Jr),f),h=jt(_.times(_),f),i=3;;){if(s=jt(s.times(h),f),c=l.plus(ks(s,new A(i),f)),Lo(c.d).slice(0,f)===Lo(l.d).slice(0,f))return l=l.times(2),o!==0&&(l=l.plus(aS(A,f+2,E).times(o+""))),l=ks(l,new A(p),f),A.precision=E,e==null?(Qt=!0,jt(l,E)):l;l=c,i+=2}}function G3(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=sd(n/Ht),t.d=[],r=(n+1)%Ht,n<0&&(r+=Ht),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Ht;r<i;)t.d.push(+e.slice(r,r+=Ht));e=e.slice(r),r=Ht-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Qt&&(t.e>y0||t.e<-y0))throw Error(qR+n)}else t.s=0,t.e=0,t.d=[0];return t}function jt(t,e,n){var r,i,o,s,l,c,f,h,p=t.d;for(s=1,o=p[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Ht,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/Ht),o=p.length,h>=o)return t;for(f=o=p[h],s=1;o>=10;o/=10)s++;r%=Ht,i=r-Ht+s}if(n!==void 0&&(o=ou(10,s-i-1),l=f/o%10|0,c=e<0||p[h+1]!==void 0||f%o,c=n<4?(l||c)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||c||n==6&&(r>0?i>0?f/ou(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return c?(o=In(t),p.length=1,e=e-o-1,p[0]=ou(10,(Ht-e%Ht)%Ht),t.e=sd(-e/Ht)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,o=1,h--):(p.length=h+1,o=ou(10,Ht-r),p[h]=i>0?(f/ou(10,s-i)%ou(10,i)|0)*o:0),c)for(;;)if(h==0){(p[0]+=o)==Fn&&(p[0]=1,++t.e);break}else{if(p[h]+=o,p[h]!=Fn)break;p[h--]=0,o=1}for(r=p.length;p[--r]===0;)p.pop();if(Qt&&(t.e>y0||t.e<-y0))throw Error(qR+In(t));return t}function AH(t,e){var n,r,i,o,s,l,c,f,h,p,g=t.constructor,_=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Qt?jt(e,_):e;if(c=t.d,p=e.d,r=e.e,f=t.e,c=c.slice(),s=f-r,s){for(h=s<0,h?(n=c,s=-s,l=p.length):(n=p,r=f,l=c.length),i=Math.max(Math.ceil(_/Ht),l)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,l=p.length,h=i<l,h&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){h=c[i]<p[i];break}s=0}for(h&&(n=c,c=p,p=n,e.s=-e.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(o=i;o&&c[--o]===0;)c[o]=Fn-1;--c[o],c[i]+=Fn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Qt?jt(e,_):e):new g(0)}function Mu(t,e,n){var r,i=In(t),o=Lo(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+Ra(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ra(-i-1)+o,n&&(r=n-s)>0&&(o+=Ra(r))):i>=s?(o+=Ra(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+Ra(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=Ra(r))),t.s<0?"-"+o:o}function H3(t,e){if(t.length>e)return t.length=e,!0}function CH(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wu+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return G3(s,o.toString())}else if(typeof o!="string")throw Error(wu+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,aEe.test(o))G3(s,o);else throw Error(wu+o)}if(i.prototype=De,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CH,i.config=i.set=lEe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function lEe(t){if(!t||typeof t!="object")throw Error(Ri+"Object expected");var e,n,r,i=["precision",1,od,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(sd(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wu+n+": "+r);return this}var zR=CH(sEe);Jr=new zR(1);const Ut=zR;function uEe(t){return hEe(t)||dEe(t)||fEe(t)||cEe()}function cEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fEe(t,e){if(t){if(typeof t=="string")return EC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EC(t,e)}}function dEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function hEe(t){if(Array.isArray(t))return EC(t)}function EC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var pEe=function(e){return e},IH={},NH=function(e){return e===IH},K3=function(e){return function n(){return arguments.length===0||arguments.length===1&&NH(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},mEe=function t(e,n){return e===1?n:K3(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var s=i.filter(function(l){return l!==IH}).length;return s>=e?n.apply(void 0,i):t(e-s,K3(function(){for(var l=arguments.length,c=new Array(l),f=0;f<l;f++)c[f]=arguments[f];var h=i.map(function(p){return NH(p)?c.shift():p});return n.apply(void 0,uEe(h).concat(c))}))})},Hb=function(e){return mEe(e.length,e)},SC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},gEe=Hb(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),yEe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return pEe;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce(function(l,c){return c(l)},o.apply(void 0,arguments))}},AC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},RH=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n&&o.every(function(l,c){return l===n[c]})||(n=o,r=e.apply(void 0,o)),r}};function vEe(t){var e;return t===0?e=1:e=Math.floor(new Ut(t).abs().log(10).toNumber())+1,e}function bEe(t,e,n){for(var r=new Ut(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var xEe=Hb(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_Ee=Hb(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),wEe=Hb(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Kb={rangeStep:bEe,getDigitCount:vEe,interpolateNumber:xEe,uninterpolateNumber:_Ee,uninterpolateTruncation:wEe};function CC(t){return SEe(t)||EEe(t)||PH(t)||TEe()}function TEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SEe(t){if(Array.isArray(t))return IC(t)}function jp(t,e){return IEe(t)||CEe(t,e)||PH(t,e)||AEe()}function AEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(t,e){if(t){if(typeof t=="string")return IC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(t,e)}}function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CEe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var s=t[Symbol.iterator](),l;!(r=(l=s.next()).done)&&(n.push(l.value),!(e&&n.length===e));r=!0);}catch(c){i=!0,o=c}finally{try{!r&&s.return!=null&&s.return()}finally{if(i)throw o}}return n}}function IEe(t){if(Array.isArray(t))return t}function kH(t){var e=jp(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function MH(t,e,n){if(t.lte(0))return new Ut(0);var r=Kb.getDigitCount(t.toNumber()),i=new Ut(10).pow(r),o=t.div(i),s=r!==1?.05:.1,l=new Ut(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=l.mul(i);return e?c:new Ut(Math.ceil(c))}function NEe(t,e,n){var r=1,i=new Ut(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new Ut(10).pow(Kb.getDigitCount(t)-1),i=new Ut(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new Ut(Math.floor(t)))}else t===0?i=new Ut(Math.floor((e-1)/2)):n||(i=new Ut(Math.floor(t)));var s=Math.floor((e-1)/2),l=yEe(gEe(function(c){return i.add(new Ut(c-s).mul(r)).toNumber()}),SC);return l(0,e)}function OH(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Ut(0),tickMin:new Ut(0),tickMax:new Ut(0)};var o=MH(new Ut(e).sub(t).div(n-1),r,i),s;t<=0&&e>=0?s=new Ut(0):(s=new Ut(t).add(e).div(2),s=s.sub(new Ut(s).mod(o)));var l=Math.ceil(s.sub(t).div(o).toNumber()),c=Math.ceil(new Ut(e).sub(s).div(o).toNumber()),f=l+c+1;return f>n?OH(t,e,n,r,i+1):(f<n&&(c=e>0?c+(n-f):c,l=e>0?l:l+(n-f)),{step:o,tickMin:s.sub(new Ut(l).mul(o)),tickMax:s.add(new Ut(c).mul(o))})}function REe(t){var e=jp(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),l=kH([n,r]),c=jp(l,2),f=c[0],h=c[1];if(f===-1/0||h===1/0){var p=h===1/0?[f].concat(CC(SC(0,i-1).map(function(){return 1/0}))):[].concat(CC(SC(0,i-1).map(function(){return-1/0})),[h]);return n>r?AC(p):p}if(f===h)return NEe(f,i,o);var g=OH(f,h,s,o),_=g.step,S=g.tickMin,A=g.tickMax,E=Kb.rangeStep(S,A.add(new Ut(.1).mul(_)),_);return n>r?AC(E):E}function PEe(t,e){var n=jp(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=kH([r,i]),l=jp(s,2),c=l[0],f=l[1];if(c===-1/0||f===1/0)return[r,i];if(c===f)return[c];var h=Math.max(e,2),p=MH(new Ut(f).sub(c).div(h-1),o,0),g=[].concat(CC(Kb.rangeStep(new Ut(c),new Ut(f).sub(new Ut(.99).mul(p)),p)),[f]);return r>i?AC(g):g}var kEe=RH(REe),MEe=RH(PEe),OEe="Invariant failed";function Ou(t,e){throw new Error(OEe)}var DEe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}function LEe(t,e){return BEe(t)||jEe(t,e)||VEe(t,e)||UEe()}function UEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VEe(t,e){if(t){if(typeof t=="string")return W3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W3(t,e)}}function W3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jEe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function BEe(t){if(Array.isArray(t))return t}function FEe(t,e){if(t==null)return{};var n=qEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qEe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Wb(t){var e=t.offset,n=t.layout,r=t.width,i=t.dataKey,o=t.data,s=t.dataPointFormatter,l=t.xAxis,c=t.yAxis,f=FEe(t,DEe),h=ft(f,!1);t.direction==="x"&&l.type!=="number"&&Ou();var p=o.map(function(g){var _=s(g,i),S=_.x,A=_.y,E=_.value,M=_.errorVal;if(!M)return null;var I=[],N,C;if(Array.isArray(M)){var R=LEe(M,2);N=R[0],C=R[1]}else N=C=M;if(n==="vertical"){var U=l.scale,k=A+e,O=k+r,V=k-r,F=U(E-N),q=U(E+C);I.push({x1:q,y1:O,x2:q,y2:V}),I.push({x1:F,y1:k,x2:q,y2:k}),I.push({x1:F,y1:O,x2:F,y2:V})}else if(n==="horizontal"){var z=c.scale,B=S+e,Q=B-r,oe=B+r,K=z(E-N),X=z(E+C);I.push({x1:Q,y1:X,x2:oe,y2:X}),I.push({x1:B,y1:K,x2:B,y2:X}),I.push({x1:Q,y1:K,x2:oe,y2:K})}return re.createElement(tn,v0({className:"recharts-errorBar",key:"bar-".concat(I.map(function(te){return"".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))},h),I.map(function(te){return re.createElement("line",v0({},te,{key:"line-".concat(te.x1,"-").concat(te.x2,"-").concat(te.y1,"-").concat(te.y2)}))}))});return re.createElement(tn,{className:"recharts-errorBars"},p)}Wb.defaultProps={stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"};Wb.displayName="ErrorBar";function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function Y3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y3(Object(n),!0).forEach(function(r){zEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zEe(t,e,n){return e=$Ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ee(t){var e=GEe(t,"string");return Bp(e)=="symbol"?e:String(e)}function GEe(t,e){if(Bp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Bp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DH=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,s=Yr(n,Ap);if(!s)return null;var l;return s.props&&s.props.payload?l=s.props&&s.props.payload:o==="children"?l=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,g=p.sectors||p.data||[];return c.concat(g.map(function(_){return{type:s.props.iconType||h.props.legendType,value:_.name,color:_.fill,payload:_}}))},[]):l=(r||[]).map(function(c){var f=c.item,h=f.props,p=h.dataKey,g=h.name,_=h.legendType,S=h.hide;return{inactive:S,dataKey:p,type:s.props.iconType||_||"square",color:$R(f),value:g||p,payload:f.props}}),lS(lS(lS({},s.props),Ap.getWithHeight(s,i)),{},{payload:l,item:s})};function Fp(t){"@babel/helpers - typeof";return Fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fp(t)}function X3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ti(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X3(Object(n),!0).forEach(function(r){mf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mf(t,e,n){return e=HEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HEe(t){var e=KEe(t,"string");return Fp(e)=="symbol"?e:String(e)}function KEe(t,e){if(Fp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Fp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J3(t){return JEe(t)||XEe(t)||YEe(t)||WEe()}function WEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YEe(t,e){if(t){if(typeof t=="string")return NC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NC(t,e)}}function XEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JEe(t){if(Array.isArray(t))return NC(t)}function NC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ni(t,e,n){return yt(t)||yt(e)?n:Pn(e)?Ci(t,e,n):ut(e)?e(t):n}function np(t,e,n,r){var i=rEe(t,function(l){return ni(l,e)});if(n==="number"){var o=i.filter(function(l){return Pe(l)||parseFloat(l)});return o.length?[Gb(o),Ba(o)]:[1/0,-1/0]}var s=r?i.filter(function(l){return!yt(l)}):i;return s.map(function(l){return Pn(l)||l instanceof Date?l:""})}var QEe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,s=-1,l=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(l<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var c=o.range,f=0;f<l;f++){var h=f>0?i[f-1].coordinate:i[l-1].coordinate,p=i[f].coordinate,g=f>=l-1?i[0].coordinate:i[f+1].coordinate,_=void 0;if(Yi(p-h)!==Yi(g-p)){var S=[];if(Yi(g-p)===Yi(c[1]-c[0])){_=g;var A=p+c[1]-c[0];S[0]=Math.min(A,(A+h)/2),S[1]=Math.max(A,(A+h)/2)}else{_=h;var E=g+c[1]-c[0];S[0]=Math.min(p,(E+p)/2),S[1]=Math.max(p,(E+p)/2)}var M=[Math.min(p,(_+p)/2),Math.max(p,(_+p)/2)];if(e>M[0]&&e<=M[1]||e>=S[0]&&e<=S[1]){s=i[f].index;break}}else{var I=Math.min(h,g),N=Math.max(h,g);if(e>(I+p)/2&&e<=(N+p)/2){s=i[f].index;break}}}else for(var C=0;C<l;C++)if(C===0&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C>0&&C<l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2&&e<=(r[C].coordinate+r[C+1].coordinate)/2||C===l-1&&e>(r[C].coordinate+r[C-1].coordinate)/2){s=r[C].index;break}return s},$R=function(e){var n=e,r=n.type.displayName,i=e.props,o=i.stroke,s=i.fill,l;switch(r){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},ZEe=function(e){var n=e.barSize,r=e.stackGroups,i=r===void 0?{}:r;if(!i)return{};for(var o={},s=Object.keys(i),l=0,c=s.length;l<c;l++)for(var f=i[s[l]].stackGroups,h=Object.keys(f),p=0,g=h.length;p<g;p++){var _=f[h[p]],S=_.items,A=_.cateAxisId,E=S.filter(function(N){return Ps(N.type).indexOf("Bar")>=0});if(E&&E.length){var M=E[0].props.barSize,I=E[0].props[A];o[I]||(o[I]=[]),o[I].push({item:E[0],stackList:E.slice(1),barSize:yt(M)?n:M})}}return o},e1e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,s=o===void 0?[]:o,l=e.maxBarSize,c=s.length;if(c<1)return null;var f=Ef(n,i,0,!0),h,p=[];if(s[0].barSize===+s[0].barSize){var g=!1,_=i/c,S=s.reduce(function(C,R){return C+R.barSize||0},0);S+=(c-1)*f,S>=i&&(S-=(c-1)*f,f=0),S>=i&&_>0&&(g=!0,_*=.9,S=c*_);var A=(i-S)/2>>0,E={offset:A-f,size:0};h=s.reduce(function(C,R){var U={item:R.item,position:{offset:E.offset+E.size+f,size:g?_:R.barSize}},k=[].concat(J3(C),[U]);return E=k[k.length-1].position,R.stackList&&R.stackList.length&&R.stackList.forEach(function(O){k.push({item:O,position:E})}),k},p)}else{var M=Ef(r,i,0,!0);i-2*M-(c-1)*f<=0&&(f=0);var I=(i-2*M-(c-1)*f)/c;I>1&&(I>>=0);var N=l===+l?Math.min(I,l):I;h=s.reduce(function(C,R,U){var k=[].concat(J3(C),[{item:R.item,position:{offset:M+(I+f)*U+(I-N)/2,size:N}}]);return R.stackList&&R.stackList.length&&R.stackList.forEach(function(O){k.push({item:O,position:k[k.length-1].position})}),k},p)}return h},t1e=function(e,n,r,i){var o=r.children,s=r.width,l=r.margin,c=s-(l.left||0)-(l.right||0),f=DH({children:o,legendWidth:c});if(f){var h=i||{},p=h.width,g=h.height,_=f.align,S=f.verticalAlign,A=f.layout;if((A==="vertical"||A==="horizontal"&&S==="middle")&&_!=="center"&&Pe(e[_]))return Ti(Ti({},e),{},mf({},_,e[_]+(p||0)));if((A==="horizontal"||A==="vertical"&&_==="center")&&S!=="middle"&&Pe(e[S]))return Ti(Ti({},e),{},mf({},S,e[S]+(g||0)))}return e},n1e=function(e,n,r){return yt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},LH=function(e,n,r,i,o){var s=n.props.children,l=Zi(s,Wb).filter(function(f){return n1e(i,o,f.props.direction)});if(l&&l.length){var c=l.map(function(f){return f.props.dataKey});return e.reduce(function(f,h){var p=ni(h,r,0),g=Array.isArray(p)?[Gb(p),Ba(p)]:[p,p],_=c.reduce(function(S,A){var E=ni(h,A,0),M=g[0]-Math.abs(Array.isArray(E)?E[0]:E),I=g[1]+Math.abs(Array.isArray(E)?E[1]:E);return[Math.min(M,S[0]),Math.max(I,S[1])]},[1/0,-1/0]);return[Math.min(_[0],f[0]),Math.max(_[1],f[1])]},[1/0,-1/0])}return null},r1e=function(e,n,r,i,o){var s=n.map(function(l){return LH(e,l,r,o,i)}).filter(function(l){return!yt(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},UH=function(e,n,r,i,o){var s=n.map(function(c){var f=c.props.dataKey;return r==="number"&&f&&LH(e,c,f,i)||np(e,f,r,o)});if(r==="number")return s.reduce(function(c,f){return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,f){for(var h=0,p=f.length;h<p;h++)l[f[h]]||(l[f[h]]=!0,c.push(f[h]));return c},[])},VH=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},hu=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,f=(n||r)&&s==="category"&&i.bandwidth?i.bandwidth()/c:0;if(f=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Yi(l[0]-l[1])*2*f:f,n&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(p){var g=o?o.indexOf(p):p;return{coordinate:i(g)+f,value:p,offset:f}});return h.filter(function(p){return!td(p.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(p,g){return{coordinate:i(p)+f,value:p,index:g,offset:f}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(p){return{coordinate:i(p)+f,value:p,offset:f}}):i.domain().map(function(p,g){return{coordinate:i(p)+f,value:o?o[p]:p,index:g,offset:f}})},uS=new WeakMap,jy=function(e,n){if(typeof n!="function")return e;uS.has(e)||uS.set(e,new WeakMap);var r=uS.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},i1e=function(e,n,r){var i=e.scale,o=e.type,s=e.layout,l=e.axisType;if(i==="auto")return s==="radial"&&l==="radiusAxis"?{scale:kp(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:h0(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:tp(),realScaleType:"point"}:o==="category"?{scale:kp(),realScaleType:"band"}:{scale:h0(),realScaleType:"linear"};if(Pm(i)){var c="scale".concat(kb(i));return{scale:(L3[c]||tp)(),realScaleType:L3[c]?c:"point"}}return ut(i)?{scale:i}:{scale:tp(),realScaleType:"point"}},Q3=1e-4,o1e=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-Q3,s=Math.max(i[0],i[1])+Q3,l=e(n[0]),c=e(n[r-1]);(l<o||l>s||c<o||c>s)&&e.domain([n[0],n[r-1]])}},s1e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},a1e=function(e,n){if(!n||n.length!==2||!Pe(n[0])||!Pe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!Pe(e[0])||e[0]<r)&&(o[0]=r),(!Pe(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},l1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0,l=0;l<n;++l){var c=td(e[l][r][1])?e[l][r][0]:e[l][r][1];c>=0?(e[l][r][0]=o,e[l][r][1]=o+c,o=e[l][r][1]):(e[l][r][0]=s,e[l][r][1]=s+c,s=e[l][r][1])}},u1e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,s=0;s<n;++s){var l=td(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},c1e={sign:l1e,expand:n0e,none:Sf,silhouette:r0e,wiggle:i0e,positive:u1e},f1e=function(e,n,r){var i=n.map(function(l){return l.props.dataKey}),o=c1e[r],s=t0e().keys(i).value(function(l,c){return+ni(l,c,0)}).order(aC).offset(o);return s(e)},d1e=function(e,n,r,i,o,s){if(!e)return null;var l=s?n.reverse():n,c={},f=l.reduce(function(p,g){var _=g.props,S=_.stackId,A=_.hide;if(A)return p;var E=g.props[r],M=p[E]||{hasStack:!1,stackGroups:{}};if(Pn(S)){var I=M.stackGroups[S]||{numericAxisId:r,cateAxisId:i,items:[]};I.items.push(g),M.hasStack=!0,M.stackGroups[S]=I}else M.stackGroups[km("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[g]};return Ti(Ti({},p),{},mf({},E,M))},c),h={};return Object.keys(f).reduce(function(p,g){var _=f[g];if(_.hasStack){var S={};_.stackGroups=Object.keys(_.stackGroups).reduce(function(A,E){var M=_.stackGroups[E];return Ti(Ti({},A),{},mf({},E,{numericAxisId:r,cateAxisId:i,items:M.items,stackedData:f1e(e,M.items,o)}))},S)}return Ti(Ti({},p),{},mf({},g,_))},h)},h1e=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,s=n.originalDomain,l=n.allowDecimals,c=r||n.scale;if(c!=="auto"&&c!=="linear")return null;if(o&&i==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var f=e.domain();if(!f.length)return null;var h=kEe(f,o,l);return e.domain([Gb(h),Ba(h)]),{niceTicks:h}}if(o&&i==="number"){var p=e.domain(),g=MEe(p,o,l);return{niceTicks:g}}return null};function Z3(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,s=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!yt(i[e.dataKey])){var l=Hv(n,"value",i[e.dataKey]);if(l)return l.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var c=ni(i,yt(s)?e.dataKey:s);return yt(c)?null:e.scale(c)}var e6=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,s=e.entry,l=e.index;if(n.type==="category")return r[l]?r[l].coordinate+i:null;var c=ni(s,n.dataKey,n.domain[l]);return yt(c)?null:n.scale(c)-o/2+i},p1e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},m1e=function(e,n){var r=e.props.stackId;if(Pn(r)){var i=n[r];if(i){var o=i.items.indexOf(e);return o>=0?i.stackedData[o]:null}}return null},g1e=function(e){return e.reduce(function(n,r){return[Gb(r.concat([n[0]]).filter(Pe)),Ba(r.concat([n[1]]).filter(Pe))]},[1/0,-1/0])},jH=function(e,n,r){return Object.keys(e).reduce(function(i,o){var s=e[o],l=s.stackedData,c=l.reduce(function(f,h){var p=g1e(h.slice(n,r+1));return[Math.min(f[0],p[0]),Math.max(f[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},t6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RC=function(e,n,r){if(ut(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Pe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(t6.test(e[0])){var o=+t6.exec(e[0])[1];i[0]=n[0]-o}else ut(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Pe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(n6.test(e[1])){var s=+n6.exec(e[1])[1];i[1]=n[1]+s}else ut(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},b0=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=vR(n,function(p){return p.coordinate}),s=1/0,l=1,c=o.length;l<c;l++){var f=o[l],h=o[l-1];s=Math.min((f.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0},r6=function(e,n,r){return!e||!e.length||Up(e,Ci(r,"type.defaultProps.domain"))?n:e},BH=function(e,n){var r=e.props,i=r.dataKey,o=r.name,s=r.unit,l=r.formatter,c=r.tooltipType,f=r.chartType,h=r.hide;return Ti(Ti({},ft(e,!1)),{},{dataKey:i,unit:s,formatter:l,name:o||i,color:$R(e),value:ni(n,i),type:c,payload:n,chartType:f,hide:h})};function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}function i6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i6(Object(n),!0).forEach(function(r){y1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function y1e(t,e,n){return e=v1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v1e(t){var e=b1e(t,"string");return qp(e)=="symbol"?e:String(e)}function b1e(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var x0=Math.PI/180,x1e=function(e){return e*180/Math.PI},er=function(e,n,r,i){return{x:e+Math.cos(-x0*i)*r,y:n+Math.sin(-x0*i)*r}},_1e=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-s,2))},w1e=function(e,n){var r=e.x,i=e.y,o=n.cx,s=n.cy,l=_1e({x:r,y:i},{x:o,y:s});if(l<=0)return{radius:l};var c=(r-o)/l,f=Math.acos(c);return i>s&&(f=2*Math.PI-f),{radius:l,angle:x1e(f),angleInRadian:f}},T1e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return{startAngle:n-s*360,endAngle:r-s*360}},E1e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),s=Math.floor(i/360),l=Math.min(o,s);return e+l*360},s6=function(e,n){var r=e.x,i=e.y,o=w1e({x:r,y:i},n),s=o.radius,l=o.angle,c=n.innerRadius,f=n.outerRadius;if(s<c||s>f)return!1;if(s===0)return!0;var h=T1e(n),p=h.startAngle,g=h.endAngle,_=l,S;if(p<=g){for(;_>g;)_-=360;for(;_<p;)_+=360;S=_>=p&&_<=g}else{for(;_>p;)_-=360;for(;_<g;)_+=360;S=_>=g&&_<=p}return S?o6(o6({},n),{},{radius:s,angle:E1e(_,n)}):null};function zp(t){"@babel/helpers - typeof";return zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zp(t)}var S1e=["offset"];function A1e(t){return R1e(t)||N1e(t)||I1e(t)||C1e()}function C1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I1e(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function N1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function R1e(t){if(Array.isArray(t))return PC(t)}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P1e(t,e){if(t==null)return{};var n=k1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function k1e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(r){M1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1e(t,e,n){return e=O1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O1e(t){var e=D1e(t,"string");return zp(e)=="symbol"?e:String(e)}function D1e(t,e){if(zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$p.apply(this,arguments)}var L1e=function(e){var n=e.value,r=e.formatter,i=yt(e.children)?n:e.children;return ut(r)?r(i):i},U1e=function(e,n){var r=Yi(n-e),i=Math.min(Math.abs(n-e),360);return r*i},V1e=function(e,n,r){var i=e.position,o=e.viewBox,s=e.offset,l=e.className,c=o,f=c.cx,h=c.cy,p=c.innerRadius,g=c.outerRadius,_=c.startAngle,S=c.endAngle,A=c.clockWise,E=(p+g)/2,M=U1e(_,S),I=M>=0?1:-1,N,C;i==="insideStart"?(N=_+I*s,C=A):i==="insideEnd"?(N=S-I*s,C=!A):i==="end"&&(N=S+I*s,C=A),C=M<=0?C:!C;var R=er(f,h,E,N),U=er(f,h,E,N+(C?1:-1)*359),k="M".concat(R.x,",").concat(R.y,`
    A`).concat(E,",").concat(E,",0,1,").concat(C?0:1,`,
    `).concat(U.x,",").concat(U.y),O=yt(e.id)?km("recharts-radial-line-"):e.id;return re.createElement("text",$p({},r,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",l)}),re.createElement("defs",null,re.createElement("path",{id:O,d:k})),re.createElement("textPath",{xlinkHref:"#".concat(O)},n))},j1e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,s=o.cx,l=o.cy,c=o.innerRadius,f=o.outerRadius,h=o.startAngle,p=o.endAngle,g=(h+p)/2;if(i==="outside"){var _=er(s,l,f+r,g),S=_.x,A=_.y;return{x:S,y:A,textAnchor:S>=s?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var E=(c+f)/2,M=er(s,l,E,g),I=M.x,N=M.y;return{x:I,y:N,textAnchor:"middle",verticalAnchor:"middle"}},B1e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,s=n,l=s.x,c=s.y,f=s.width,h=s.height,p=h>=0?1:-1,g=p*i,_=p>0?"end":"start",S=p>0?"start":"end",A=f>=0?1:-1,E=A*i,M=A>0?"end":"start",I=A>0?"start":"end";if(o==="top"){var N={x:l+f/2,y:c-p*i,textAnchor:"middle",verticalAnchor:_};return Rn(Rn({},N),r?{height:Math.max(c-r.y,0),width:f}:{})}if(o==="bottom"){var C={x:l+f/2,y:c+h+g,textAnchor:"middle",verticalAnchor:S};return Rn(Rn({},C),r?{height:Math.max(r.y+r.height-(c+h),0),width:f}:{})}if(o==="left"){var R={x:l-E,y:c+h/2,textAnchor:M,verticalAnchor:"middle"};return Rn(Rn({},R),r?{width:Math.max(R.x-r.x,0),height:h}:{})}if(o==="right"){var U={x:l+f+E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"};return Rn(Rn({},U),r?{width:Math.max(r.x+r.width-U.x,0),height:h}:{})}var k=r?{width:f,height:h}:{};return o==="insideLeft"?Rn({x:l+E,y:c+h/2,textAnchor:I,verticalAnchor:"middle"},k):o==="insideRight"?Rn({x:l+f-E,y:c+h/2,textAnchor:M,verticalAnchor:"middle"},k):o==="insideTop"?Rn({x:l+f/2,y:c+g,textAnchor:"middle",verticalAnchor:S},k):o==="insideBottom"?Rn({x:l+f/2,y:c+h-g,textAnchor:"middle",verticalAnchor:_},k):o==="insideTopLeft"?Rn({x:l+E,y:c+g,textAnchor:I,verticalAnchor:S},k):o==="insideTopRight"?Rn({x:l+f-E,y:c+g,textAnchor:M,verticalAnchor:S},k):o==="insideBottomLeft"?Rn({x:l+E,y:c+h-g,textAnchor:I,verticalAnchor:_},k):o==="insideBottomRight"?Rn({x:l+f-E,y:c+h-g,textAnchor:M,verticalAnchor:_},k):ed(o)&&(Pe(o.x)||cu(o.x))&&(Pe(o.y)||cu(o.y))?Rn({x:l+Ef(o.x,f),y:c+Ef(o.y,h),textAnchor:"end",verticalAnchor:"end"},k):Rn({x:l+f/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},k)},F1e=function(e){return"cx"in e&&Pe(e.cx)};function cr(t){var e=t.offset,n=e===void 0?5:e,r=P1e(t,S1e),i=Rn({offset:n},r),o=i.viewBox,s=i.position,l=i.value,c=i.children,f=i.content,h=i.className,p=h===void 0?"":h,g=i.textBreakAll;if(!o||yt(l)&&yt(c)&&!W.isValidElement(f)&&!ut(f))return null;if(W.isValidElement(f))return W.cloneElement(f,i);var _;if(ut(f)){if(_=W.createElement(f,i),W.isValidElement(_))return _}else _=L1e(i);var S=F1e(o),A=ft(i,!0);if(S&&(s==="insideStart"||s==="insideEnd"||s==="end"))return V1e(i,_,A);var E=S?j1e(i):B1e(i);return re.createElement(o0,$p({className:kt("recharts-label",p)},A,E,{breakAll:g}),_)}cr.displayName="Label";var FH=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,f=e.innerRadius,h=e.outerRadius,p=e.x,g=e.y,_=e.top,S=e.left,A=e.width,E=e.height,M=e.clockWise,I=e.labelViewBox;if(I)return I;if(Pe(A)&&Pe(E)){if(Pe(p)&&Pe(g))return{x:p,y:g,width:A,height:E};if(Pe(_)&&Pe(S))return{x:_,y:S,width:A,height:E}}return Pe(p)&&Pe(g)?{x:p,y:g,width:0,height:0}:Pe(n)&&Pe(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:s||i||0,innerRadius:f||0,outerRadius:h||c||l||0,clockWise:M}:e.viewBox?e.viewBox:{}},q1e=function(e,n){return e?e===!0?re.createElement(cr,{key:"label-implicit",viewBox:n}):Pn(e)?re.createElement(cr,{key:"label-implicit",viewBox:n,value:e}):W.isValidElement(e)?e.type===cr?W.cloneElement(e,{key:"label-implicit",viewBox:n}):re.createElement(cr,{key:"label-implicit",content:e,viewBox:n}):ut(e)?re.createElement(cr,{key:"label-implicit",content:e,viewBox:n}):ed(e)?re.createElement(cr,$p({viewBox:n},e,{key:"label-implicit"})):null:null},z1e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=FH(e),s=Zi(i,cr).map(function(c,f){return W.cloneElement(c,{viewBox:n||o,key:"label-".concat(f)})});if(!r)return s;var l=q1e(e.label,n||o);return[l].concat(A1e(s))};cr.parseViewBox=FH;cr.renderCallByParent=z1e;var cS,l6;function $1e(){if(l6)return cS;l6=1;function t(e){var n=e==null?0:e.length;return n?e[n-1]:void 0}return cS=t,cS}var G1e=$1e();const H1e=Bt(G1e);function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}var K1e=["valueAccessor"],W1e=["data","dataKey","clockWise","id","textBreakAll"];function Y1e(t){return Z1e(t)||Q1e(t)||J1e(t)||X1e()}function X1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J1e(t,e){if(t){if(typeof t=="string")return kC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kC(t,e)}}function Q1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Z1e(t){if(Array.isArray(t))return kC(t)}function kC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _0(){return _0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_0.apply(this,arguments)}function u6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function c6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u6(Object(n),!0).forEach(function(r){eSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eSe(t,e,n){return e=tSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tSe(t){var e=nSe(t,"string");return Gp(e)=="symbol"?e:String(e)}function nSe(t,e){if(Gp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Gp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f6(t,e){if(t==null)return{};var n=rSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rSe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var iSe=function(e){return Array.isArray(e.value)?H1e(e.value):e.value};function Ka(t){var e=t.valueAccessor,n=e===void 0?iSe:e,r=f6(t,K1e),i=r.data,o=r.dataKey,s=r.clockWise,l=r.id,c=r.textBreakAll,f=f6(r,W1e);return!i||!i.length?null:re.createElement(tn,{className:"recharts-label-list"},i.map(function(h,p){var g=yt(o)?n(h,p):ni(h&&h.payload,o),_=yt(l)?{}:{id:"".concat(l,"-").concat(p)};return re.createElement(cr,_0({},ft(h,!0),f,_,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:cr.parseViewBox(yt(s)?h:c6(c6({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Ka.displayName="LabelList";function oSe(t,e){return t?t===!0?re.createElement(Ka,{key:"labelList-implicit",data:e}):re.isValidElement(t)||ut(t)?re.createElement(Ka,{key:"labelList-implicit",data:e,content:t}):ed(t)?re.createElement(Ka,_0({data:e},t,{key:"labelList-implicit"})):null:null}function sSe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Zi(r,Ka).map(function(s,l){return W.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!n)return i;var o=oSe(t.label,e);return[o].concat(Y1e(i))}Ka.renderCallByParent=sSe;function Hp(t){"@babel/helpers - typeof";return Hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(t)}function MC(){return MC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MC.apply(this,arguments)}function d6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?d6(Object(n),!0).forEach(function(r){aSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aSe(t,e,n){return e=lSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lSe(t){var e=uSe(t,"string");return Hp(e)=="symbol"?e:String(e)}function uSe(t,e){if(Hp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Hp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cSe=function(e,n){var r=Yi(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},By=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,f=e.cornerIsExternal,h=c*(l?1:-1)+i,p=Math.asin(c/h)/x0,g=f?o:o+s*p,_=er(n,r,h,g),S=er(n,r,i,g),A=f?o-s*p:o,E=er(n,r,h*Math.cos(p*x0),A);return{center:_,circleTangency:S,lineTangency:E,theta:p}},qH=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.startAngle,l=e.endAngle,c=cSe(s,l),f=s+c,h=er(n,r,o,s),p=er(n,r,o,f),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>f),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var _=er(n,r,i,s),S=er(n,r,i,f);g+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=f),`,
            `).concat(_.x,",").concat(_.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},fSe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,f=e.startAngle,h=e.endAngle,p=Yi(h-f),g=By({cx:n,cy:r,radius:o,angle:f,sign:p,cornerRadius:s,cornerIsExternal:c}),_=g.circleTangency,S=g.lineTangency,A=g.theta,E=By({cx:n,cy:r,radius:o,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:c}),M=E.circleTangency,I=E.lineTangency,N=E.theta,C=c?Math.abs(f-h):Math.abs(f-h)-A-N;if(C<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):qH({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:f,endAngle:h});var R="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(C>180),",").concat(+(p<0),",").concat(M.x,",").concat(M.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,`
  `);if(i>0){var U=By({cx:n,cy:r,radius:i,angle:f,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),k=U.circleTangency,O=U.lineTangency,V=U.theta,F=By({cx:n,cy:r,radius:i,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),q=F.circleTangency,z=F.lineTangency,B=F.theta,Q=c?Math.abs(f-h):Math.abs(f-h)-V-B;if(Q<0&&s===0)return"".concat(R,"L").concat(n,",").concat(r,"Z");R+="L".concat(z.x,",").concat(z.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Q>180),",").concat(+(p>0),",").concat(k.x,",").concat(k.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(O.x,",").concat(O.y,"Z")}else R+="L".concat(n,",").concat(r,"Z");return R},dSe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},zH=function(e){var n=h6(h6({},dSe),e),r=n.cx,i=n.cy,o=n.innerRadius,s=n.outerRadius,l=n.cornerRadius,c=n.forceCornerRadius,f=n.cornerIsExternal,h=n.startAngle,p=n.endAngle,g=n.className;if(s<o||h===p)return null;var _=kt("recharts-sector",g),S=s-o,A=Ef(l,S,0,!0),E;return A>0&&Math.abs(h-p)<360?E=fSe({cx:r,cy:i,innerRadius:o,outerRadius:s,cornerRadius:Math.min(A,S/2),forceCornerRadius:c,cornerIsExternal:f,startAngle:h,endAngle:p}):E=qH({cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:h,endAngle:p}),re.createElement("path",MC({},ft(n,!0),{className:_,d:E,role:"img"}))};function Kp(t){"@babel/helpers - typeof";return Kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kp(t)}function OC(){return OC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OC.apply(this,arguments)}function p6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function m6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p6(Object(n),!0).forEach(function(r){hSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hSe(t,e,n){return e=pSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pSe(t){var e=mSe(t,"string");return Kp(e)=="symbol"?e:String(e)}function mSe(t,e){if(Kp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g6={curveBasisClosed:$ve,curveBasisOpen:Gve,curveBasis:zve,curveBumpX:Nve,curveBumpY:Rve,curveLinearClosed:Hve,curveLinear:Ob,curveMonotoneX:Kve,curveMonotoneY:Wve,curveNatural:Yve,curveStep:Xve,curveStepAfter:Qve,curveStepBefore:Jve},Fy=function(e){return e.x===+e.x&&e.y===+e.y},_h=function(e){return e.x},wh=function(e){return e.y},gSe=function(e,n){if(ut(e))return e;var r="curve".concat(kb(e));return(r==="curveMonotone"||r==="curveBump")&&n?g6["".concat(r).concat(n==="vertical"?"Y":"X")]:g6[r]||Ob},ySe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,s=e.baseLine,l=e.layout,c=e.connectNulls,f=c===void 0?!1:c,h=gSe(r,l),p=f?o.filter(function(A){return Fy(A)}):o,g;if(Array.isArray(s)){var _=f?s.filter(function(A){return Fy(A)}):s,S=p.map(function(A,E){return m6(m6({},A),{},{base:_[E]})});return l==="vertical"?g=ky().y(wh).x1(_h).x0(function(A){return A.base.x}):g=ky().x(_h).y1(wh).y0(function(A){return A.base.y}),g.defined(Fy).curve(h),g(S)}return l==="vertical"&&Pe(s)?g=ky().y(wh).x1(_h).x0(s):Pe(s)?g=ky().x(_h).y1(wh).y0(s):g=J8().x(_h).y(wh),g.defined(Fy).curve(h),g(p)},rp=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var s=r&&r.length?ySe(e):i;return re.createElement("path",OC({},ft(e,!1),Kv(e),{className:kt("recharts-curve",n),d:s,ref:o}))},fS={exports:{}},dS,y6;function vSe(){if(y6)return dS;y6=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dS=t,dS}var hS,v6;function bSe(){if(v6)return hS;v6=1;var t=vSe();function e(){}function n(){}return n.resetWarningCache=e,hS=function(){function r(s,l,c,f,h,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function i(){return r}var o={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return o.PropTypes=o,o},hS}var b6;function xSe(){return b6||(b6=1,fS.exports=bSe()()),fS.exports}var _Se=xSe();const At=Bt(_Se),{getOwnPropertyNames:wSe,getOwnPropertySymbols:TSe}=Object,{hasOwnProperty:ESe}=Object.prototype;function pS(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function qy(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);const{cache:o}=i,s=o.get(n),l=o.get(r);if(s&&l)return s===r&&l===n;o.set(n,r),o.set(r,n);const c=t(n,r,i);return o.delete(n),o.delete(r),c}}function SSe(t){return t!=null?t[Symbol.toStringTag]:void 0}function x6(t){return wSe(t).concat(TSe(t))}const ASe=Object.hasOwn||((t,e)=>ESe.call(t,e));function Wu(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const CSe="__v",ISe="__o",NSe="_owner",{getOwnPropertyDescriptor:_6,keys:w6}=Object;function RSe(t,e){return t.byteLength===e.byteLength&&w0(new Uint8Array(t),new Uint8Array(e))}function PSe(t,e,n){let r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kSe(t,e){return t.byteLength===e.byteLength&&w0(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function MSe(t,e){return Wu(t.getTime(),e.getTime())}function OSe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function DSe(t,e){return t===e}function T6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.entries();let s,l,c=0;for(;(s=o.next())&&!s.done;){const f=e.entries();let h=!1,p=0;for(;(l=f.next())&&!l.done;){if(i[p]){p++;continue}const g=s.value,_=l.value;if(n.equals(g[0],_[0],c,p,t,e,n)&&n.equals(g[1],_[1],g[0],_[0],t,e,n)){h=i[p]=!0;break}p++}if(!h)return!1;c++}return!0}const LSe=Wu;function USe(t,e,n){const r=w6(t);let i=r.length;if(w6(e).length!==i)return!1;for(;i-- >0;)if(!$H(t,e,n,r[i]))return!1;return!0}function Th(t,e,n){const r=x6(t);let i=r.length;if(x6(e).length!==i)return!1;let o,s,l;for(;i-- >0;)if(o=r[i],!$H(t,e,n,o)||(s=_6(t,o),l=_6(e,o),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function VSe(t,e){return Wu(t.valueOf(),e.valueOf())}function jSe(t,e){return t.source===e.source&&t.flags===e.flags}function E6(t,e,n){const r=t.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),o=t.values();let s,l;for(;(s=o.next())&&!s.done;){const c=e.values();let f=!1,h=0;for(;(l=c.next())&&!l.done;){if(!i[h]&&n.equals(s.value,l.value,s.value,l.value,t,e,n)){f=i[h]=!0;break}h++}if(!f)return!1}return!0}function w0(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function BSe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function $H(t,e,n,r){return(r===NSe||r===ISe||r===CSe)&&(t.$$typeof||e.$$typeof)?!0:ASe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}const FSe="[object ArrayBuffer]",qSe="[object Arguments]",zSe="[object Boolean]",$Se="[object DataView]",GSe="[object Date]",HSe="[object Error]",KSe="[object Map]",WSe="[object Number]",YSe="[object Object]",XSe="[object RegExp]",JSe="[object Set]",QSe="[object String]",ZSe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},eAe="[object URL]",tAe=Object.prototype.toString;function nAe({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:o,areMapsEqual:s,areNumbersEqual:l,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:h,areSetsEqual:p,areTypedArraysEqual:g,areUrlsEqual:_,unknownTagComparators:S}){return function(E,M,I){if(E===M)return!0;if(E==null||M==null)return!1;const N=typeof E;if(N!==typeof M)return!1;if(N!=="object")return N==="number"?l(E,M,I):N==="function"?o(E,M,I):!1;const C=E.constructor;if(C!==M.constructor)return!1;if(C===Object)return c(E,M,I);if(Array.isArray(E))return e(E,M,I);if(C===Date)return r(E,M,I);if(C===RegExp)return h(E,M,I);if(C===Map)return s(E,M,I);if(C===Set)return p(E,M,I);const R=tAe.call(E);if(R===GSe)return r(E,M,I);if(R===XSe)return h(E,M,I);if(R===KSe)return s(E,M,I);if(R===JSe)return p(E,M,I);if(R===YSe)return typeof E.then!="function"&&typeof M.then!="function"&&c(E,M,I);if(R===eAe)return _(E,M,I);if(R===HSe)return i(E,M,I);if(R===qSe)return c(E,M,I);if(ZSe[R])return g(E,M,I);if(R===FSe)return t(E,M,I);if(R===$Se)return n(E,M,I);if(R===zSe||R===WSe||R===QSe)return f(E,M,I);if(S){let U=S[R];if(!U){const k=SSe(E);k&&(U=S[k])}if(U)return U(E,M,I)}return!1}}function rAe({circular:t,createCustomConfig:e,strict:n}){let r={areArrayBuffersEqual:RSe,areArraysEqual:n?Th:PSe,areDataViewsEqual:kSe,areDatesEqual:MSe,areErrorsEqual:OSe,areFunctionsEqual:DSe,areMapsEqual:n?pS(T6,Th):T6,areNumbersEqual:LSe,areObjectsEqual:n?Th:USe,arePrimitiveWrappersEqual:VSe,areRegExpsEqual:jSe,areSetsEqual:n?pS(E6,Th):E6,areTypedArraysEqual:n?pS(w0,Th):w0,areUrlsEqual:BSe,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),t){const i=qy(r.areArraysEqual),o=qy(r.areMapsEqual),s=qy(r.areObjectsEqual),l=qy(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return r}function iAe(t){return function(e,n,r,i,o,s,l){return t(e,n,l)}}function oAe({circular:t,comparator:e,createState:n,equals:r,strict:i}){if(n)return function(l,c){const{cache:f=t?new WeakMap:void 0,meta:h}=n();return e(l,c,{cache:f,equals:r,meta:h,strict:i})};if(t)return function(l,c){return e(l,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const o={cache:void 0,equals:r,meta:void 0,strict:i};return function(l,c){return e(l,c,o)}}const sAe=gl();gl({strict:!0});gl({circular:!0});gl({circular:!0,strict:!0});gl({createInternalComparator:()=>Wu});gl({strict:!0,createInternalComparator:()=>Wu});gl({circular:!0,createInternalComparator:()=>Wu});gl({circular:!0,createInternalComparator:()=>Wu,strict:!0});function gl(t={}){const{circular:e=!1,createInternalComparator:n,createState:r,strict:i=!1}=t,o=rAe(t),s=nAe(o),l=n?n(s):iAe(s);return oAe({circular:e,comparator:s,createState:r,equals:l,strict:i})}function aAe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function S6(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):aAe(i)};requestAnimationFrame(r)}function DC(t){"@babel/helpers - typeof";return DC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},DC(t)}function lAe(t){return dAe(t)||fAe(t)||cAe(t)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cAe(t,e){if(t){if(typeof t=="string")return A6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A6(t,e)}}function A6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function dAe(t){if(Array.isArray(t))return t}function hAe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,l=lAe(s),c=l[0],f=l.slice(1);if(typeof c=="number"){S6(i.bind(null,f),c);return}i(c),S6(i.bind(null,f));return}DC(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function Wp(t){"@babel/helpers - typeof";return Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wp(t)}function C6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C6(Object(n),!0).forEach(function(r){GH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GH(t,e,n){return e=pAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pAe(t){var e=mAe(t,"string");return Wp(e)==="symbol"?e:String(e)}function mAe(t,e){if(Wp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Wp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gAe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},yAe=function(e){return e},vAe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},ip=function(e,n){return Object.keys(n).reduce(function(r,i){return I6(I6({},r),{},GH({},i,e(i,n[i])))},{})},N6=function(e,n,r){return e.map(function(i){return"".concat(vAe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function bAe(t,e){return wAe(t)||_Ae(t,e)||HH(t,e)||xAe()}function xAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function wAe(t){if(Array.isArray(t))return t}function TAe(t){return AAe(t)||SAe(t)||HH(t)||EAe()}function EAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HH(t,e){if(t){if(typeof t=="string")return LC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(t,e)}}function SAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function AAe(t){if(Array.isArray(t))return LC(t)}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var T0=1e-4,KH=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},WH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},R6=function(e,n){return function(r){var i=KH(e,n);return WH(i,r)}},CAe=function(e,n){return function(r){var i=KH(e,n),o=[].concat(TAe(i.map(function(s,l){return s*l}).slice(1)),[0]);return WH(o,r)}},P6=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],s=n[2],l=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,s=1,l=1;break;case"ease":i=.25,o=.1,s=.25,l=1;break;case"ease-in":i=.42,o=0,s=1,l=1;break;case"ease-out":i=.42,o=0,s=.58,l=1;break;case"ease-in-out":i=0,o=0,s=.58,l=1;break;default:{var c=n[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var f=c[1].split(")")[0].split(",").map(function(E){return parseFloat(E)}),h=bAe(f,4);i=h[0],o=h[1],s=h[2],l=h[3]}}}var p=R6(i,s),g=R6(o,l),_=CAe(i,s),S=function(M){return M>1?1:M<0?0:M},A=function(M){for(var I=M>1?1:M,N=I,C=0;C<8;++C){var R=p(N)-I,U=_(N);if(Math.abs(R-I)<T0||U<T0)return g(N);N=S(N-R/U)}return g(N)};return A.isStepper=!1,A},IAe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,s=e.dt,l=s===void 0?17:s,c=function(h,p,g){var _=-(h-p)*r,S=g*o,A=g+(_-S)*l/1e3,E=g*l/1e3+h;return Math.abs(E-p)<T0&&Math.abs(A)<T0?[p,0]:[E,A]};return c.isStepper=!0,c.dt=l,c},NAe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return P6(i);case"spring":return IAe();default:if(i.split("(")[0]==="cubic-bezier")return P6(i)}return typeof i=="function"?i:null};function Yp(t){"@babel/helpers - typeof";return Yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yp(t)}function k6(t){return kAe(t)||PAe(t)||YH(t)||RAe()}function RAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kAe(t){if(Array.isArray(t))return VC(t)}function M6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M6(Object(n),!0).forEach(function(r){UC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UC(t,e,n){return e=MAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MAe(t){var e=OAe(t,"string");return Yp(e)==="symbol"?e:String(e)}function OAe(t,e){if(Yp(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Yp(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DAe(t,e){return VAe(t)||UAe(t,e)||YH(t,e)||LAe()}function LAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YH(t,e){if(t){if(typeof t=="string")return VC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VC(t,e)}}function VC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function VAe(t){if(Array.isArray(t))return t}var E0=function(e,n,r){return e+(n-e)*r},jC=function(e){var n=e.from,r=e.to;return n!==r},jAe=function t(e,n,r){var i=ip(function(o,s){if(jC(s)){var l=e(s.from,s.to,s.velocity),c=DAe(l,2),f=c[0],h=c[1];return Jn(Jn({},s),{},{from:f,velocity:h})}return s},n);return r<1?ip(function(o,s){return jC(s)?Jn(Jn({},s),{},{velocity:E0(s.velocity,i[o].velocity,r),from:E0(s.from,i[o].from,r)}):s},n):t(e,i,r-1)};const BAe=(function(t,e,n,r,i){var o=gAe(t,e),s=o.reduce(function(E,M){return Jn(Jn({},E),{},UC({},M,[t[M],e[M]]))},{}),l=o.reduce(function(E,M){return Jn(Jn({},E),{},UC({},M,{from:t[M],velocity:0,to:e[M]}))},{}),c=-1,f,h,p=function(){return null},g=function(){return ip(function(M,I){return I.from},l)},_=function(){return!Object.values(l).filter(jC).length},S=function(M){f||(f=M);var I=M-f,N=I/n.dt;l=jAe(n,l,N),i(Jn(Jn(Jn({},t),e),g())),f=M,_()||(c=requestAnimationFrame(p))},A=function(M){h||(h=M);var I=(M-h)/r,N=ip(function(R,U){return E0.apply(void 0,k6(U).concat([n(I)]))},s);if(i(Jn(Jn(Jn({},t),e),N)),I<1)c=requestAnimationFrame(p);else{var C=ip(function(R,U){return E0.apply(void 0,k6(U).concat([n(1)]))},s);i(Jn(Jn(Jn({},t),e),C))}};return p=n.isStepper?S:A,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}});function Mf(t){"@babel/helpers - typeof";return Mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mf(t)}var FAe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function qAe(t,e){if(t==null)return{};var n=zAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zAe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function mS(t){return KAe(t)||HAe(t)||GAe(t)||$Ae()}function $Ae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GAe(t,e){if(t){if(typeof t=="string")return BC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(t,e)}}function HAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KAe(t){if(Array.isArray(t))return BC(t)}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O6(Object(n),!0).forEach(function(r){Lh(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lh(t,e,n){return e=XH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XH(r.key),r)}}function XAe(t,e,n){return e&&YAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function XH(t){var e=JAe(t,"string");return Mf(e)==="symbol"?e:String(e)}function JAe(t,e){if(Mf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FC(t,e)}function FC(t,e){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FC(t,e)}function ZAe(t){var e=eCe();return function(){var r=S0(t),i;if(e){var o=S0(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return qC(this,i)}}function qC(t,e){if(e&&(Mf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zC(t)}function zC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eCe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function S0(t){return S0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},S0(t)}var Fs=(function(t){QAe(n,t);var e=ZAe(n);function n(r,i){var o;WAe(this,n),o=e.call(this,r,i);var s=o.props,l=s.isActive,c=s.attributeName,f=s.from,h=s.to,p=s.steps,g=s.children,_=s.duration;if(o.handleStyleChange=o.handleStyleChange.bind(zC(o)),o.changeStyle=o.changeStyle.bind(zC(o)),!l||_<=0)return o.state={style:{}},typeof g=="function"&&(o.state={style:h}),qC(o);if(p&&p.length)o.state={style:p[0].style};else if(f){if(typeof g=="function")return o.state={style:f},qC(o);o.state={style:c?Lh({},c,f):f}}else o.state={style:{}};return o}return XAe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,s=i.canBegin;this.mounted=!0,!(!o||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,s=o.isActive,l=o.canBegin,c=o.attributeName,f=o.shouldReAnimate,h=o.to,p=o.from,g=this.state.style;if(l){if(!s){var _={style:c?Lh({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(_);return}if(!(sAe(i.to,h)&&i.canBegin&&i.isActive)){var S=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=S||f?p:i.to;if(this.state&&g){var E={style:c?Lh({},c,A):A};(c&&g[c]!==A||!c&&g!==A)&&this.setState(E)}this.runAnimation($i($i({},this.props),{},{from:A,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,s=i.from,l=i.to,c=i.duration,f=i.easing,h=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,_=BAe(s,l,NAe(f),c,this.changeStyle),S=function(){o.stopJSAnimation=_()};this.manager.start([g,h,S,c,p])}},{key:"runStepAnimation",value:function(i){var o=this,s=i.steps,l=i.begin,c=i.onAnimationStart,f=s[0],h=f.style,p=f.duration,g=p===void 0?0:p,_=function(A,E,M){if(M===0)return A;var I=E.duration,N=E.easing,C=N===void 0?"ease":N,R=E.style,U=E.properties,k=E.onAnimationEnd,O=M>0?s[M-1]:E,V=U||Object.keys(R);if(typeof C=="function"||C==="spring")return[].concat(mS(A),[o.runJSAnimation.bind(o,{from:O.style,to:R,duration:I,easing:C}),I]);var F=N6(V,I,C),q=$i($i($i({},O.style),R),{},{transition:F});return[].concat(mS(A),[q,I,k]).filter(yAe)};return this.manager.start([c].concat(mS(s.reduce(_,[h,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=hAe());var o=i.begin,s=i.duration,l=i.attributeName,c=i.to,f=i.easing,h=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,_=i.children,S=this.manager;if(this.unSubscribe=S.subscribe(this.handleStyleChange),typeof f=="function"||typeof _=="function"||f==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var A=l?Lh({},l,c):c,E=N6(Object.keys(A),s,f);S.start([h,o,$i($i({},A),{},{transition:E}),s,p])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var s=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=qAe(i,FAe),f=W.Children.count(o),h=this.state.style;if(typeof o=="function")return o(h);if(!l||f===0||s<=0)return o;var p=function(_){var S=_.props,A=S.style,E=A===void 0?{}:A,M=S.className,I=W.cloneElement(_,$i($i({},c),{},{style:$i($i({},E),h),className:M}));return I};return f===1?p(W.Children.only(o)):re.createElement("div",null,W.Children.map(o,function(g){return p(g)}))}}]),n})(W.PureComponent);Fs.displayName="Animate";Fs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Fs.propTypes={from:At.oneOfType([At.object,At.string]),to:At.oneOfType([At.object,At.string]),attributeName:At.string,duration:At.number,begin:At.number,easing:At.oneOfType([At.string,At.func]),steps:At.arrayOf(At.shape({duration:At.number.isRequired,style:At.object.isRequired,easing:At.oneOfType([At.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),At.func]),properties:At.arrayOf("string"),onAnimationEnd:At.func})),children:At.oneOfType([At.node,At.func]),isActive:At.bool,canBegin:At.bool,onAnimationEnd:At.func,shouldReAnimate:At.bool,onAnimationStart:At.func,onAnimationReStart:At.func};function Xp(t){"@babel/helpers - typeof";return Xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xp(t)}function A0(){return A0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},A0.apply(this,arguments)}function tCe(t,e){return oCe(t)||iCe(t,e)||rCe(t,e)||nCe()}function nCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rCe(t,e){if(t){if(typeof t=="string")return D6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D6(t,e)}}function D6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function oCe(t){if(Array.isArray(t))return t}function L6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function U6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(n),!0).forEach(function(r){sCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sCe(t,e,n){return e=aCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aCe(t){var e=lCe(t,"string");return Xp(e)=="symbol"?e:String(e)}function lCe(t,e){if(Xp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Xp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var V6=function(e,n,r,i,o){var s=Math.min(Math.abs(r)/2,Math.abs(i)/2),l=i>=0?1:-1,c=r>=0?1:-1,f=i>=0&&r>=0||i<0&&r<0?1:0,h;if(s>0&&o instanceof Array){for(var p=[0,0,0,0],g=0,_=4;g<_;g++)p[g]=o[g]>s?s:o[g];h="M".concat(e,",").concat(n+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(f,",").concat(e+c*p[0],",").concat(n)),h+="L ".concat(e+r-c*p[1],",").concat(n),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(f,`,
        `).concat(e+r,",").concat(n+l*p[1])),h+="L ".concat(e+r,",").concat(n+i-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(f,`,
        `).concat(e+r-c*p[2],",").concat(n+i)),h+="L ".concat(e+c*p[3],",").concat(n+i),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(n+i-l*p[3])),h+="Z"}else if(s>0&&o===+o&&o>0){var S=Math.min(s,o);h="M ".concat(e,",").concat(n+l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+c*S,",").concat(n,`
            L `).concat(e+r-c*S,",").concat(n,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r,",").concat(n+l*S,`
            L `).concat(e+r,",").concat(n+i-l*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e+r-c*S,",").concat(n+i,`
            L `).concat(e+c*S,",").concat(n+i,`
            A `).concat(S,",").concat(S,",0,0,").concat(f,",").concat(e,",").concat(n+i-l*S," Z")}else h="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},uCe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,s=n.y,l=n.width,c=n.height;if(Math.abs(l)>0&&Math.abs(c)>0){var f=Math.min(o,o+l),h=Math.max(o,o+l),p=Math.min(s,s+c),g=Math.max(s,s+c);return r>=f&&r<=h&&i>=p&&i<=g}return!1},cCe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GR=function(e){var n=U6(U6({},cCe),e),r=W.useRef(),i=W.useState(-1),o=tCe(i,2),s=o[0],l=o[1];W.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var C=r.current.getTotalLength();C&&l(C)}catch{}},[]);var c=n.x,f=n.y,h=n.width,p=n.height,g=n.radius,_=n.className,S=n.animationEasing,A=n.animationDuration,E=n.animationBegin,M=n.isAnimationActive,I=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||h===0||p===0)return null;var N=kt("recharts-rectangle",_);return I?re.createElement(Fs,{canBegin:s>0,from:{width:h,height:p,x:c,y:f},to:{width:h,height:p,x:c,y:f},duration:A,animationEasing:S,isActive:I},function(C){var R=C.width,U=C.height,k=C.x,O=C.y;return re.createElement(Fs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:A,isActive:M,easing:S},re.createElement("path",A0({},ft(n,!0),{className:N,d:V6(k,O,R,U,g),ref:r})))}):re.createElement("path",A0({},ft(n,!0),{className:N,d:V6(c,f,h,p,g)}))};function $C(){return $C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$C.apply(this,arguments)}var HR=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,s=kt("recharts-dot",o);return n===+n&&r===+r&&i===+i?re.createElement("circle",$C({},ft(e,!1),Kv(e),{className:s,cx:n,cy:r,r:i})):null};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}var fCe=["x","y","top","left","width","height","className"];function GC(){return GC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GC.apply(this,arguments)}function j6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j6(Object(n),!0).forEach(function(r){hCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hCe(t,e,n){return e=pCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pCe(t){var e=mCe(t,"string");return Jp(e)=="symbol"?e:String(e)}function mCe(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gCe(t,e){if(t==null)return{};var n=yCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}var vCe=function(e,n,r,i,o,s){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(s,",").concat(n,"h").concat(r)},bCe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,s=e.top,l=s===void 0?0:s,c=e.left,f=c===void 0?0:c,h=e.width,p=h===void 0?0:h,g=e.height,_=g===void 0?0:g,S=e.className,A=gCe(e,fCe),E=dCe({x:r,y:o,top:l,left:f,width:p,height:_},A);return!Pe(r)||!Pe(o)||!Pe(p)||!Pe(_)||!Pe(l)||!Pe(f)?null:re.createElement("path",GC({},ft(E,!0),{className:kt("recharts-cross",S),d:vCe(r,o,p,_,l,f)}))},gS,B6;function xCe(){if(B6)return gS;B6=1;var t=xG(),e=t(Object.getPrototypeOf,Object);return gS=e,gS}var yS,F6;function _Ce(){if(F6)return yS;F6=1;var t=$s(),e=xCe(),n=Gs(),r="[object Object]",i=Function.prototype,o=Object.prototype,s=i.toString,l=o.hasOwnProperty,c=s.call(Object);function f(h){if(!n(h)||t(h)!=r)return!1;var p=e(h);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return yS=f,yS}var wCe=_Ce();const TCe=Bt(wCe);var vS,q6;function ECe(){if(q6)return vS;q6=1;var t=$s(),e=Gs(),n="[object Boolean]";function r(i){return i===!0||i===!1||e(i)&&t(i)==n}return vS=r,vS}var SCe=ECe();const ACe=Bt(SCe);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C0.apply(this,arguments)}function CCe(t,e){return PCe(t)||RCe(t,e)||NCe(t,e)||ICe()}function ICe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NCe(t,e){if(t){if(typeof t=="string")return z6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z6(t,e)}}function z6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function PCe(t){if(Array.isArray(t))return t}function $6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(n),!0).forEach(function(r){kCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kCe(t,e,n){return e=MCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MCe(t){var e=OCe(t,"string");return Qp(e)=="symbol"?e:String(e)}function OCe(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H6=function(e,n,r,i,o){var s=r-i,l;return l="M ".concat(e,",").concat(n),l+="L ".concat(e+r,",").concat(n),l+="L ".concat(e+r-s/2,",").concat(n+o),l+="L ".concat(e+r-s/2-i,",").concat(n+o),l+="L ".concat(e,",").concat(n," Z"),l},DCe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},LCe=function(e){var n=G6(G6({},DCe),e),r=W.useRef(),i=W.useState(-1),o=CCe(i,2),s=o[0],l=o[1];W.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&l(N)}catch{}},[]);var c=n.x,f=n.y,h=n.upperWidth,p=n.lowerWidth,g=n.height,_=n.className,S=n.animationEasing,A=n.animationDuration,E=n.animationBegin,M=n.isUpdateAnimationActive;if(c!==+c||f!==+f||h!==+h||p!==+p||g!==+g||h===0&&p===0||g===0)return null;var I=kt("recharts-trapezoid",_);return M?re.createElement(Fs,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:f},to:{upperWidth:h,lowerWidth:p,height:g,x:c,y:f},duration:A,animationEasing:S,isActive:M},function(N){var C=N.upperWidth,R=N.lowerWidth,U=N.height,k=N.x,O=N.y;return re.createElement(Fs,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:E,duration:A,easing:S},re.createElement("path",C0({},ft(n,!0),{className:I,d:H6(k,O,C,R,U),ref:r})))}):re.createElement("g",null,re.createElement("path",C0({},ft(n,!0),{className:I,d:H6(c,f,h,p,g)})))},UCe=["option","shapeType","propTransformer","activeClassName","isActive"];function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function VCe(t,e){if(t==null)return{};var n=jCe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jCe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function K6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K6(Object(n),!0).forEach(function(r){BCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BCe(t,e,n){return e=FCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FCe(t){var e=qCe(t,"string");return Zp(e)=="symbol"?e:String(e)}function qCe(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zCe(t,e){return I0(I0({},e),t)}function $Ce(t,e){return t==="symbols"}function W6(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return re.createElement(GR,n);case"trapezoid":return re.createElement(LCe,n);case"sector":return re.createElement(zH,n);case"symbols":if($Ce(e))return re.createElement(cR,n);break;default:return null}}function GCe(t){return W.isValidElement(t)?t.props:t}function HCe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?zCe:r,o=t.activeClassName,s=o===void 0?"recharts-active-shape":o,l=t.isActive,c=VCe(t,UCe),f;if(W.isValidElement(e))f=W.cloneElement(e,I0(I0({},c),GCe(e)));else if(ut(e))f=e(c);else if(TCe(e)&&!ACe(e)){var h=i(e,c);f=re.createElement(W6,{shapeType:n,elementProps:h})}else{var p=c;f=re.createElement(W6,{shapeType:n,elementProps:p})}return l?re.createElement(tn,{className:s},f):f}function Yb(t,e){return e!=null&&"trapezoids"in t.props}function Xb(t,e){return e!=null&&"sectors"in t.props}function em(t,e){return e!=null&&"points"in t.props}function KCe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function WCe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function YCe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function XCe(t,e){var n;return Yb(t,e)?n=KCe:Xb(t,e)?n=WCe:em(t,e)&&(n=YCe),n}function JCe(t,e){var n;return Yb(t,e)?n="trapezoids":Xb(t,e)?n="sectors":em(t,e)&&(n="points"),n}function QCe(t,e){if(Yb(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Xb(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return em(t,e)?e.payload:{}}function ZCe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=JCe(n,e),o=QCe(n,e),s=r.filter(function(c,f){var h=Up(o,c),p=n.props[i].filter(function(S){var A=XCe(n,e);return A(S,e)}),g=n.props[i].indexOf(p[p.length-1]),_=f===g;return h&&_}),l=r.indexOf(s[s.length-1]);return l}var bS,Y6;function eIe(){if(Y6)return bS;Y6=1;var t=Math.ceil,e=Math.max;function n(r,i,o,s){for(var l=-1,c=e(t((i-r)/(o||1)),0),f=Array(c);c--;)f[s?c:++l]=r,r+=o;return f}return bS=n,bS}var xS,X6;function JH(){if(X6)return xS;X6=1;var t=UG(),e=1/0,n=17976931348623157e292;function r(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var o=i<0?-1:1;return o*n}return i===i?i:0}return xS=r,xS}var _S,J6;function tIe(){if(J6)return _S;J6=1;var t=eIe(),e=Vb(),n=JH();function r(i){return function(o,s,l){return l&&typeof l!="number"&&e(o,s,l)&&(s=l=void 0),o=n(o),s===void 0?(s=o,o=0):s=n(s),l=l===void 0?o<s?1:-1:n(l),t(o,s,l,i)}}return _S=r,_S}var wS,Q6;function nIe(){if(Q6)return wS;Q6=1;var t=tIe(),e=t();return wS=e,wS}var rIe=nIe();const N0=Bt(rIe);function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function Z6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(n),!0).forEach(function(r){QH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QH(t,e,n){return e=iIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iIe(t){var e=oIe(t,"string");return tm(e)=="symbol"?e:String(e)}function oIe(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sIe=["Webkit","Moz","O","ms"],aIe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=sIe.reduce(function(o,s){return eB(eB({},o),{},QH({},s+r,n))},{});return i[e]=n,i};function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(this,arguments)}function tB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tB(Object(n),!0).forEach(function(r){Wr(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,e7(r.key),r)}}function uIe(t,e,n){return e&&nB(t.prototype,e),n&&nB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cIe(t,e,n){return e=P0(e),fIe(t,ZH()?Reflect.construct(e,n||[],P0(t).constructor):e.apply(t,n))}function fIe(t,e){if(e&&(Of(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Po(t)}function ZH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZH=function(){return!!t})()}function P0(t){return P0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P0(t)}function Po(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HC(t,e)}function HC(t,e){return HC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HC(t,e)}function Wr(t,e,n){return e=e7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e7(t){var e=hIe(t,"string");return Of(e)=="symbol"?e:String(e)}function hIe(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pIe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,s=e.width,l=e.travellerWidth;if(!n||!n.length)return{};var c=n.length,f=tp().domain(N0(0,c)).range([o,o+s-l]),h=f.domain().map(function(p){return f(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(i),scale:f,scaleValues:h}},rB=function(e){return e.changedTouches&&!!e.changedTouches.length},Df=(function(t){dIe(e,t);function e(n){var r;return lIe(this,e),r=cIe(this,e,[n]),Wr(Po(r),"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Wr(Po(r),"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Wr(Po(r),"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,s=i.onDragEnd,l=i.startIndex;s==null||s({endIndex:o,startIndex:l})}),r.detachDragEndListener()}),Wr(Po(r),"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Wr(Po(r),"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Wr(Po(r),"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Wr(Po(r),"handleSlideDragStart",function(i){var o=rB(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(Po(r),"startX"),endX:r.handleTravellerDragStart.bind(Po(r),"endX")},r.state={},r}return uIe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,s=this.state.scaleValues,l=this.props,c=l.gap,f=l.data,h=f.length-1,p=Math.min(i,o),g=Math.max(i,o),_=e.getIndexInRange(s,p),S=e.getIndexInRange(s,g);return{startIndex:_-_%c,endIndex:S===h?h:S-S%c}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,s=i.tickFormatter,l=i.dataKey,c=ni(o[r],l,r);return ut(s)?s(c,r):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,s=i.startX,l=i.endX,c=this.props,f=c.x,h=c.width,p=c.travellerWidth,g=c.startIndex,_=c.endIndex,S=c.onChange,A=r.pageX-o;A>0?A=Math.min(A,f+h-p-l,f+h-p-s):A<0&&(A=Math.max(A,f-s,f-l));var E=this.getIndex({startX:s+A,endX:l+A});(E.startIndex!==g||E.endIndex!==_)&&S&&S(E),this.setState({startX:s+A,endX:l+A,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=rB(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,s=i.movingTravellerId,l=i.endX,c=i.startX,f=this.state[s],h=this.props,p=h.x,g=h.width,_=h.travellerWidth,S=h.onChange,A=h.gap,E=h.data,M={startX:this.state.startX,endX:this.state.endX},I=r.pageX-o;I>0?I=Math.min(I,p+g-_-f):I<0&&(I=Math.max(I,p-f)),M[s]=f+I;var N=this.getIndex(M),C=N.startIndex,R=N.endIndex,U=function(){var O=E.length-1;return s==="startX"&&(l>c?C%A===0:R%A===0)||l<c&&R===O||s==="endX"&&(l>c?R%A===0:C%A===0)||l>c&&R===O};this.setState(Wr(Wr({},s,f+I),"brushMoveStartX",r.pageX),function(){S&&U()&&S(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,s=this.state,l=s.scaleValues,c=s.startX,f=s.endX,h=this.state[i],p=l.indexOf(h);if(p!==-1){var g=p+r;if(!(g===-1||g>=l.length)){var _=l[g];i==="startX"&&_>=f||i==="endX"&&_<=c||this.setState(Wr({},i,_),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.fill,f=r.stroke;return re.createElement("rect",{stroke:f,fill:c,x:i,y:o,width:s,height:l})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.data,f=r.children,h=r.padding,p=W.Children.only(f);return p?re.cloneElement(p,{x:i,y:o,width:s,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(r,i){var o=this,s=this.props,l=s.y,c=s.travellerWidth,f=s.height,h=s.traveller,p=s.ariaLabel,g=s.data,_=s.startIndex,S=s.endIndex,A=Math.max(r,this.props.x),E=TS(TS({},ft(this.props,!1)),{},{x:A,y:l,width:c,height:f}),M=p||"Min value: ".concat(g[_].name,", Max value: ").concat(g[S].name);return re.createElement(tn,{tabIndex:0,role:"slider","aria-label":M,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(N){["ArrowLeft","ArrowRight"].includes(N.key)&&(N.preventDefault(),N.stopPropagation(),o.handleTravellerMoveKeyboard(N.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,E))}},{key:"renderSlide",value:function(r,i){var o=this.props,s=o.y,l=o.height,c=o.stroke,f=o.travellerWidth,h=Math.min(r,i)+f,p=Math.max(Math.abs(i-r)-f,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:s,width:p,height:l})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,s=r.y,l=r.height,c=r.travellerWidth,f=r.stroke,h=this.state,p=h.startX,g=h.endX,_=5,S={pointerEvents:"none",fill:f};return re.createElement(tn,{className:"recharts-brush-texts"},re.createElement(o0,R0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-_,y:s+l/2},S),this.getTextOfTick(i)),re.createElement(o0,R0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+_,y:s+l/2},S),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,s=r.children,l=r.x,c=r.y,f=r.width,h=r.height,p=r.alwaysShowText,g=this.state,_=g.startX,S=g.endX,A=g.isTextActive,E=g.isSlideMoving,M=g.isTravellerMoving,I=g.isTravellerFocused;if(!i||!i.length||!Pe(l)||!Pe(c)||!Pe(f)||!Pe(h)||f<=0||h<=0)return null;var N=kt("recharts-brush",o),C=re.Children.count(s)===1,R=aIe("userSelect","none");return re.createElement(tn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:R},this.renderBackground(),C&&this.renderPanorama(),this.renderSlide(_,S),this.renderTravellerLayer(_,"startX"),this.renderTravellerLayer(S,"endX"),(A||E||M||I||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,s=r.width,l=r.height,c=r.stroke,f=Math.floor(o+l/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:o,width:s,height:l,fill:c,stroke:"none"}),re.createElement("line",{x1:i+1,y1:f,x2:i+s-1,y2:f,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:f+2,x2:i+s-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return re.isValidElement(r)?o=re.cloneElement(r,i):ut(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,s=r.width,l=r.x,c=r.travellerWidth,f=r.updateId,h=r.startIndex,p=r.endIndex;if(o!==i.prevData||f!==i.prevUpdateId)return TS({prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s},o&&o.length?pIe({data:o,width:s,x:l,travellerWidth:c,startIndex:h,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(s!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+s-c]);var g=i.scale.domain().map(function(_){return i.scale(_)});return{prevData:o,prevTravellerWidth:c,prevUpdateId:f,prevX:l,prevWidth:s,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,s=0,l=o-1;l-s>1;){var c=Math.floor((s+l)/2);r[c]>i?l=c:s=c}return i>=r[l]?l:s}}]),e})(W.PureComponent);Wr(Df,"displayName","Brush");Wr(Df,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ES,iB;function mIe(){if(iB)return ES;iB=1;var t=yR();function e(n,r){var i;return t(n,function(o,s,l){return i=r(o,s,l),!i}),!!i}return ES=e,ES}var SS,oB;function gIe(){if(oB)return SS;oB=1;var t=hG(),e=hl(),n=mIe(),r=Lr(),i=Vb();function o(s,l,c){var f=r(s)?t:n;return c&&i(s,l,c)&&(l=void 0),f(s,e(l,3))}return SS=o,SS}var yIe=gIe();const vIe=Bt(yIe);var Go=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},AS,sB;function bIe(){if(sB)return AS;sB=1;var t=kG();function e(n,r,i){r=="__proto__"&&t?t(n,r,{configurable:!0,enumerable:!0,value:i,writable:!0}):n[r]=i}return AS=e,AS}var CS,aB;function xIe(){if(aB)return CS;aB=1;var t=bIe(),e=RG(),n=hl();function r(i,o){var s={};return o=n(o,3),e(i,function(l,c,f){t(s,c,o(l,c,f))}),s}return CS=r,CS}var _Ie=xIe();const wIe=Bt(_Ie);var IS,lB;function TIe(){if(lB)return IS;lB=1;function t(e,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(!n(e[r],r,e))return!1;return!0}return IS=t,IS}var NS,uB;function EIe(){if(uB)return NS;uB=1;var t=yR();function e(n,r){var i=!0;return t(n,function(o,s,l){return i=!!r(o,s,l),i}),i}return NS=e,NS}var RS,cB;function SIe(){if(cB)return RS;cB=1;var t=TIe(),e=EIe(),n=hl(),r=Lr(),i=Vb();function o(s,l,c){var f=r(s)?t:e;return c&&i(s,l,c)&&(l=void 0),f(s,n(l,3))}return RS=o,RS}var AIe=SIe();const CIe=Bt(AIe);var IIe=["x","y"];function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}function KC(){return KC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KC.apply(this,arguments)}function fB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fB(Object(n),!0).forEach(function(r){NIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NIe(t,e,n){return e=RIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RIe(t){var e=PIe(t,"string");return nm(e)=="symbol"?e:String(e)}function PIe(t,e){if(nm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kIe(t,e){if(t==null)return{};var n=MIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function MIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function OIe(t,e){var n=t.x,r=t.y,i=kIe(t,IIe),o="".concat(n),s=parseInt(o,10),l="".concat(r),c=parseInt(l,10),f="".concat(e.height||i.height),h=parseInt(f,10),p="".concat(e.width||i.width),g=parseInt(p,10);return Eh(Eh(Eh(Eh(Eh({},e),i),s?{x:s}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function dB(t){return re.createElement(HCe,KC({shapeType:"rectangle",propTransformer:OIe,activeClassName:"recharts-active-bar"},t))}var DIe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Ou(),n)}},LIe=["value","background"],t7;function Lf(t){"@babel/helpers - typeof";return Lf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lf(t)}function UIe(t,e){if(t==null)return{};var n=VIe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VIe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}function hB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(n),!0).forEach(function(r){Fa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r7(r.key),r)}}function BIe(t,e,n){return e&&pB(t.prototype,e),n&&pB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FIe(t,e,n){return e=M0(e),qIe(t,n7()?Reflect.construct(e,n||[],M0(t).constructor):e.apply(t,n))}function qIe(t,e){if(e&&(Lf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uh(t)}function n7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n7=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},M0(t)}function Uh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WC(t,e)}function Fa(t,e,n){return e=r7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r7(t){var e=$Ie(t,"string");return Lf(e)=="symbol"?e:String(e)}function $Ie(t,e){if(Lf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vm=(function(t){zIe(e,t);function e(){var n;jIe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=FIe(this,e,[].concat(i)),Fa(Uh(n),"state",{isAnimationFinished:!1}),Fa(Uh(n),"id",km("recharts-bar-")),Fa(Uh(n),"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),s&&s()}),Fa(Uh(n),"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),s&&s()}),n}return BIe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,s=o.shape,l=o.dataKey,c=o.activeIndex,f=o.activeBar,h=ft(this.props,!1);return r&&r.map(function(p,g){var _=g===c,S=_?f:s,A=Vn(Vn(Vn({},h),p),{},{isActive:_,option:S,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(tn,k0({className:"recharts-bar-rectangle"},Wv(i.props,p,g),{key:"rectangle-".concat(p==null?void 0:p.x,"-").concat(p==null?void 0:p.y,"-").concat(p==null?void 0:p.value)}),re.createElement(dB,A))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,s=i.layout,l=i.isAnimationActive,c=i.animationBegin,f=i.animationDuration,h=i.animationEasing,p=i.animationId,g=this.state.prevData;return re.createElement(Fs,{begin:c,duration:f,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var S=_.t,A=o.map(function(E,M){var I=g&&g[M];if(I){var N=wi(I.x,E.x),C=wi(I.y,E.y),R=wi(I.width,E.width),U=wi(I.height,E.height);return Vn(Vn({},E),{},{x:N(S),y:C(S),width:R(S),height:U(S)})}if(s==="horizontal"){var k=wi(0,E.height),O=k(S);return Vn(Vn({},E),{},{y:E.y+E.height-O,height:O})}var V=wi(0,E.width),F=V(S);return Vn(Vn({},E),{},{width:F})});return re.createElement(tn,null,r.renderRectanglesStatically(A))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,s=this.state.prevData;return o&&i&&i.length&&(!s||!Up(s,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,s=i.dataKey,l=i.activeIndex,c=ft(this.props.background,!1);return o.map(function(f,h){f.value;var p=f.background,g=UIe(f,LIe);if(!p)return null;var _=Vn(Vn(Vn(Vn(Vn({},g),{},{fill:"#eee"},p),c),Wv(r.props,f,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:s,index:h,key:"background-bar-".concat(h),className:"recharts-bar-background-rectangle"});return re.createElement(dB,k0({option:r.props.background,isActive:h===l},_))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,s=o.data,l=o.xAxis,c=o.yAxis,f=o.layout,h=o.children,p=Zi(h,Wb);if(!p)return null;var g=f==="vertical"?s[0].height/2:s[0].width/2,_=function(E,M){var I=Array.isArray(E.value)?E.value[1]:E.value;return{x:E.x,y:E.y,value:I,errorVal:ni(E,M)}},S={clipPath:r?"url(#clipPath-".concat(i,")"):null};return re.createElement(tn,S,p.map(function(A){return re.cloneElement(A,{key:"error-bar-".concat(i,"-").concat(A.props.dataKey),data:s,xAxis:l,yAxis:c,layout:f,offset:g,dataPointFormatter:_})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,s=r.className,l=r.xAxis,c=r.yAxis,f=r.left,h=r.top,p=r.width,g=r.height,_=r.isAnimationActive,S=r.background,A=r.id;if(i||!o||!o.length)return null;var E=this.state.isAnimationFinished,M=kt("recharts-bar",s),I=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,C=I||N,R=yt(A)?this.id:A;return re.createElement(tn,{className:M},I||N?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(R)},re.createElement("rect",{x:I?f:f-p/2,y:N?h:h-g/2,width:I?p:p*2,height:N?g:g*2}))):null,re.createElement(tn,{className:"recharts-bar-rectangles",clipPath:C?"url(#clipPath-".concat(R,")"):null},S?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(C,R),(!_||E)&&Ka.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}]),e})(W.PureComponent);t7=Vm;Fa(Vm,"displayName","Bar");Fa(Vm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!rd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Fa(Vm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,g=t.offset,_=s1e(r,n);if(!_)return null;var S=e.layout,A=n.props,E=A.dataKey,M=A.children,I=A.minPointSize,N=S==="horizontal"?s:o,C=f?N.scale.domain():null,R=p1e({numericAxis:N}),U=Zi(M,jG),k=p.map(function(O,V){var F,q,z,B,Q,oe;f?F=a1e(f[h+V],C):(F=ni(O,E),Array.isArray(F)||(F=[R,F]));var K=DIe(I,t7.defaultProps.minPointSize)(F[1],V);if(S==="horizontal"){var X,te=[s.scale(F[0]),s.scale(F[1])],ce=te[0],Y=te[1];q=e6({axis:o,ticks:l,bandSize:i,offset:_.offset,entry:O,index:V}),z=(X=Y??ce)!==null&&X!==void 0?X:void 0,B=_.size;var L=ce-Y;if(Q=Number.isNaN(L)?0:L,oe={x:q,y:s.y,width:B,height:s.height},Math.abs(K)>0&&Math.abs(Q)<Math.abs(K)){var G=Yi(Q||K)*(Math.abs(K)-Math.abs(Q));z-=G,Q+=G}}else{var ee=[o.scale(F[0]),o.scale(F[1])],ae=ee[0],ge=ee[1];if(q=ae,z=e6({axis:s,ticks:c,bandSize:i,offset:_.offset,entry:O,index:V}),B=ge-ae,Q=_.size,oe={x:o.x,y:z,width:o.width,height:Q},Math.abs(K)>0&&Math.abs(B)<Math.abs(K)){var we=Yi(B||K)*(Math.abs(K)-Math.abs(B));B+=we}}return Vn(Vn(Vn({},O),{},{x:q,y:z,width:B,height:Q,value:f?F:F[1],payload:O,background:oe},U&&U[V]&&U[V].props),{},{tooltipPayload:[BH(n,O)],tooltipPosition:{x:q+B/2,y:z+Q/2}})});return Vn({data:k,layout:S},g)});function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function GIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,i7(r.key),r)}}function HIe(t,e,n){return e&&mB(t.prototype,e),n&&mB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gB(Object(n),!0).forEach(function(r){Jb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jb(t,e,n){return e=i7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i7(t){var e=KIe(t,"string");return rm(e)=="symbol"?e:String(e)}function KIe(t,e){if(rm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WIe=function(e,n,r,i,o){var s=e.width,l=e.height,c=e.layout,f=e.children,h=Object.keys(n),p={left:r.left,leftMirror:r.left,right:s-r.right,rightMirror:s-r.right,top:r.top,topMirror:r.top,bottom:l-r.bottom,bottomMirror:l-r.bottom},g=!!Yr(f,Vm);return h.reduce(function(_,S){var A=n[S],E=A.orientation,M=A.domain,I=A.padding,N=I===void 0?{}:I,C=A.mirror,R=A.reversed,U="".concat(E).concat(C?"Mirror":""),k,O,V,F,q;if(A.type==="number"&&(A.padding==="gap"||A.padding==="no-gap")){var z=M[1]-M[0],B=1/0,Q=A.categoricalDomain.sort();Q.forEach(function(ae,ge){ge>0&&(B=Math.min((ae||0)-(Q[ge-1]||0),B))});var oe=B/z,K=A.layout==="vertical"?r.height:r.width;if(A.padding==="gap"&&(k=oe*K/2),A.padding==="no-gap"){var X=Ef(e.barCategoryGap,oe*K),te=oe*K/2;k=te-X-(te-X)/K*X}}i==="xAxis"?O=[r.left+(N.left||0)+(k||0),r.left+r.width-(N.right||0)-(k||0)]:i==="yAxis"?O=c==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(k||0),r.top+r.height-(N.bottom||0)-(k||0)]:O=A.range,R&&(O=[O[1],O[0]]);var ce=i1e(A,o,g),Y=ce.scale,L=ce.realScaleType;Y.domain(M).range(O),o1e(Y);var G=h1e(Y,Hi(Hi({},A),{},{realScaleType:L}));i==="xAxis"?(q=E==="top"&&!C||E==="bottom"&&C,V=r.left,F=p[U]-q*A.height):i==="yAxis"&&(q=E==="left"&&!C||E==="right"&&C,V=p[U]-q*A.width,F=r.top);var ee=Hi(Hi(Hi({},A),G),{},{realScaleType:L,x:V,y:F,scale:Y,width:i==="xAxis"?r.width:A.width,height:i==="yAxis"?r.height:A.height});return ee.bandSize=b0(ee,G),!A.hide&&i==="xAxis"?p[U]+=(q?-1:1)*ee.height:A.hide||(p[U]+=(q?-1:1)*ee.width),Hi(Hi({},_),{},Jb({},S,ee))},{})},o7=function(e,n){var r=e.x,i=e.y,o=n.x,s=n.y;return{x:Math.min(r,o),y:Math.min(i,s),width:Math.abs(o-r),height:Math.abs(s-i)}},YIe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return o7({x:n,y:r},{x:i,y:o})},s7=(function(){function t(e){GIe(this,t),this.scale=e}return HIe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(n)+l}default:return this.scale(n)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+c}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}]),t})();Jb(s7,"EPS",1e-4);var KR=function(e){var n=Object.keys(e).reduce(function(r,i){return Hi(Hi({},r),{},Jb({},i,s7.create(e[i])))},{});return Hi(Hi({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=o.bandAware,l=o.position;return wIe(i,function(c,f){return n[f].apply(c,{bandAware:s,position:l})})},isInRange:function(i){return CIe(i,function(o,s){return n[s].isInRange(o)})}})};function XIe(t){return(t%180+180)%180}var JIe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=XIe(i),s=o*Math.PI/180,l=Math.atan(r/n),c=s>l&&s<Math.PI-l?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},PS,yB;function QIe(){if(yB)return PS;yB=1;var t=hl(),e=Mm(),n=Lb();function r(i){return function(o,s,l){var c=Object(o);if(!e(o)){var f=t(s,3);o=n(o),s=function(p){return f(c[p],p,c)}}var h=i(o,s,l);return h>-1?c[f?o[h]:h]:void 0}}return PS=r,PS}var kS,vB;function ZIe(){if(vB)return kS;vB=1;var t=JH();function e(n){var r=t(n),i=r%1;return r===r?i?r-i:r:0}return kS=e,kS}var MS,bB;function eNe(){if(bB)return MS;bB=1;var t=EG(),e=hl(),n=ZIe(),r=Math.max;function i(o,s,l){var c=o==null?0:o.length;if(!c)return-1;var f=l==null?0:n(l);return f<0&&(f=r(c+f,0)),t(o,e(s,3),f)}return MS=i,MS}var OS,xB;function tNe(){if(xB)return OS;xB=1;var t=QIe(),e=eNe(),n=t(e);return OS=n,OS}tNe();var nNe=B8();const rNe=Bt(nNe);var iNe=rNe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),a7=W.createContext(void 0),l7=W.createContext(void 0),u7=W.createContext(void 0),oNe=W.createContext({}),c7=W.createContext(void 0),f7=W.createContext(0),d7=W.createContext(0),_B=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,s=e.clipPathId,l=e.children,c=e.width,f=e.height,h=iNe(o);return re.createElement(a7.Provider,{value:r},re.createElement(l7.Provider,{value:i},re.createElement(oNe.Provider,{value:o},re.createElement(u7.Provider,{value:h},re.createElement(c7.Provider,{value:s},re.createElement(f7.Provider,{value:f},re.createElement(d7.Provider,{value:c},l)))))))},sNe=function(){return W.useContext(c7)},h7=function(e){var n=W.useContext(a7);n==null&&Ou();var r=n[e];return r==null&&Ou(),r},p7=function(e){var n=W.useContext(l7);n==null&&Ou();var r=n[e];return r==null&&Ou(),r},aNe=function(){var e=W.useContext(u7);return e},m7=function(){return W.useContext(d7)},g7=function(){return W.useContext(f7)};function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function wB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(n),!0).forEach(function(r){lNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lNe(t,e,n){return e=uNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uNe(t){var e=cNe(t,"string");return im(e)=="symbol"?e:String(e)}function cNe(t,e){if(im(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(im(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fNe(t,e){return mNe(t)||pNe(t,e)||hNe(t,e)||dNe()}function dNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hNe(t,e){if(t){if(typeof t=="string")return EB(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EB(t,e)}}function EB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function mNe(t){if(Array.isArray(t))return t}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YC.apply(this,arguments)}var gNe=function(e,n){var r;return re.isValidElement(e)?r=re.cloneElement(e,n):ut(e)?r=e(n):r=re.createElement("line",YC({},n,{className:"recharts-reference-line-line"})),r},yNe=function(e,n,r,i,o,s,l,c,f){var h=o.x,p=o.y,g=o.width,_=o.height;if(r){var S=f.y,A=e.y.apply(S,{position:s});if(Go(f,"discard")&&!e.y.isInRange(A))return null;var E=[{x:h+g,y:A},{x:h,y:A}];return c==="left"?E.reverse():E}if(n){var M=f.x,I=e.x.apply(M,{position:s});if(Go(f,"discard")&&!e.x.isInRange(I))return null;var N=[{x:I,y:p+_},{x:I,y:p}];return l==="top"?N.reverse():N}if(i){var C=f.segment,R=C.map(function(U){return e.apply(U,{position:s})});return Go(f,"discard")&&vIe(R,function(U){return!e.isInRange(U)})?null:R}return null};function WR(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,f=sNe(),h=h7(i),p=p7(o),g=aNe();if(!f||!g)return null;xu(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var _=KR({x:h.scale,y:p.scale}),S=Pn(e),A=Pn(n),E=r&&r.length===2,M=yNe(_,S,A,E,g,t.position,h.orientation,p.orientation,t);if(!M)return null;var I=fNe(M,2),N=I[0],C=N.x,R=N.y,U=I[1],k=U.x,O=U.y,V=Go(t,"hidden")?"url(#".concat(f,")"):void 0,F=TB(TB({clipPath:V},ft(t,!0)),{},{x1:C,y1:R,x2:k,y2:O});return re.createElement(tn,{className:kt("recharts-reference-line",l)},gNe(s,F),cr.renderCallByParent(t,YIe({x1:C,y1:R,x2:k,y2:O})))}WR.displayName="ReferenceLine";WR.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"};function om(t){"@babel/helpers - typeof";return om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},om(t)}function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XC.apply(this,arguments)}function SB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(n),!0).forEach(function(r){vNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vNe(t,e,n){return e=bNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bNe(t){var e=xNe(t,"string");return om(e)=="symbol"?e:String(e)}function xNe(t,e){if(om(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(om(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Ne=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,s=KR({x:i.scale,y:o.scale}),l=s.apply({x:n,y:r},{bandAware:!0});return Go(e,"discard")&&!s.isInRange(l)?null:l};function jm(t){var e=t.x,n=t.y,r=t.r,i=t.alwaysShow,o=t.clipPathId,s=Pn(e),l=Pn(n);if(xu(i===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!s||!l)return null;var c=_Ne(t);if(!c)return null;var f=c.x,h=c.y,p=t.shape,g=t.className,_=Go(t,"hidden")?"url(#".concat(o,")"):void 0,S=AB(AB({clipPath:_},ft(t,!0)),{},{cx:f,cy:h});return re.createElement(tn,{className:kt("recharts-reference-dot",g)},jm.renderDot(p,S),cr.renderCallByParent(t,{x:f-r,y:h-r,width:2*r,height:2*r}))}jm.displayName="ReferenceDot";jm.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1};jm.renderDot=function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):ut(t)?n=t(e):n=re.createElement(HR,XC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JC.apply(this,arguments)}function CB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CB(Object(n),!0).forEach(function(r){wNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wNe(t,e,n){return e=TNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TNe(t){var e=ENe(t,"string");return sm(e)=="symbol"?e:String(e)}function ENe(t,e){if(sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SNe=function(e,n,r,i,o){var s=o.x1,l=o.x2,c=o.y1,f=o.y2,h=o.xAxis,p=o.yAxis;if(!h||!p)return null;var g=KR({x:h.scale,y:p.scale}),_={x:e?g.x.apply(s,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(c,{position:"start"}):g.y.rangeMin},S={x:n?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Go(o,"discard")&&(!g.isInRange(_)||!g.isInRange(S))?null:o7(_,S)};function Bm(t){var e=t.x1,n=t.x2,r=t.y1,i=t.y2,o=t.className,s=t.alwaysShow,l=t.clipPathId;xu(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var c=Pn(e),f=Pn(n),h=Pn(r),p=Pn(i),g=t.shape;if(!c&&!f&&!h&&!p&&!g)return null;var _=SNe(c,f,h,p,t);if(!_&&!g)return null;var S=Go(t,"hidden")?"url(#".concat(l,")"):void 0;return re.createElement(tn,{className:kt("recharts-reference-area",o)},Bm.renderRect(g,IB(IB({clipPath:S},ft(t,!0)),_)),cr.renderCallByParent(t,_))}Bm.displayName="ReferenceArea";Bm.defaultProps={isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1};Bm.renderRect=function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):ut(t)?n=t(e):n=re.createElement(GR,JC({},e,{className:"recharts-reference-area-rect"})),n};function y7(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function ANe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return JIe(r,n)}function CNe(t,e,n){var r=n==="width",i=t.x,o=t.y,s=t.width,l=t.height;return e===1?{start:r?i:o,end:r?i+s:o+l}:{start:r?i+s:o+l,end:r?i:o}}function O0(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function INe(t,e){return y7(t,e+1)}function NNe(t,e,n,r,i){for(var o=(r||[]).slice(),s=e.start,l=e.end,c=0,f=1,h=s,p=function(){var S=r==null?void 0:r[c];if(S===void 0)return{v:y7(r,f)};var A=c,E,M=function(){return E===void 0&&(E=n(S,A)),E},I=S.coordinate,N=c===0||O0(t,I,M,h,l);N||(c=0,h=s,f+=1),N&&(h=I+t*(M()/2+i),c+=f)},g;f<=o.length;)if(g=p(),g)return g.v;return[]}function am(t){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},am(t)}function NB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NB(Object(n),!0).forEach(function(r){RNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RNe(t,e,n){return e=PNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PNe(t){var e=kNe(t,"string");return am(e)=="symbol"?e:String(e)}function kNe(t,e){if(am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MNe(t,e,n,r,i){for(var o=(r||[]).slice(),s=o.length,l=e.start,c=e.end,f=function(g){var _=o[g],S,A=function(){return S===void 0&&(S=n(_,g)),S};if(g===s-1){var E=t*(_.coordinate+t*A()/2-c);o[g]=_=or(or({},_),{},{tickCoord:E>0?_.coordinate-E*t:_.coordinate})}else o[g]=_=or(or({},_),{},{tickCoord:_.coordinate});var M=O0(t,_.tickCoord,A,l,c);M&&(c=_.tickCoord-t*(A()/2+i),o[g]=or(or({},_),{},{isShow:!0}))},h=s-1;h>=0;h--)f(h);return o}function ONe(t,e,n,r,i,o){var s=(r||[]).slice(),l=s.length,c=e.start,f=e.end;if(o){var h=r[l-1],p=n(h,l-1),g=t*(h.coordinate+t*p/2-f);s[l-1]=h=or(or({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var _=O0(t,h.tickCoord,function(){return p},c,f);_&&(f=h.tickCoord-t*(p/2+i),s[l-1]=or(or({},h),{},{isShow:!0}))}for(var S=o?l-1:l,A=function(I){var N=s[I],C,R=function(){return C===void 0&&(C=n(N,I)),C};if(I===0){var U=t*(N.coordinate-t*R()/2-c);s[I]=N=or(or({},N),{},{tickCoord:U<0?N.coordinate-U*t:N.coordinate})}else s[I]=N=or(or({},N),{},{tickCoord:N.coordinate});var k=O0(t,N.tickCoord,R,c,f);k&&(c=N.tickCoord+t*(R()/2+i),s[I]=or(or({},N),{},{isShow:!0}))},E=0;E<S;E++)A(E);return s}function DNe(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,f=t.tickFormatter,h=t.unit,p=t.angle;if(!i||!i.length||!r)return[];if(Pe(c)||rd.isSsr)return INe(i,typeof c=="number"&&Pe(c)?c:0);var g=[],_=l==="top"||l==="bottom"?"width":"height",S=h&&_==="width"?ep(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},A=function(N,C){var R=ut(f)?f(N.value,C):N.value;return _==="width"?ANe(ep(R,{fontSize:e,letterSpacing:n}),S,p):ep(R,{fontSize:e,letterSpacing:n})[_]},E=i.length>=2?Yi(i[1].coordinate-i[0].coordinate):1,M=CNe(o,E,_);return c==="equidistantPreserveStart"?NNe(E,M,A,i,s):(c==="preserveStart"||c==="preserveStartEnd"?g=ONe(E,M,A,i,s,c==="preserveStartEnd"):g=MNe(E,M,A,i,s),g.filter(function(I){return I.isShow}))}var LNe=["viewBox"],UNe=["viewBox"],VNe=["ticks"];function Uf(t){"@babel/helpers - typeof";return Uf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uf(t)}function nf(){return nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nf.apply(this,arguments)}function RB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RB(Object(n),!0).forEach(function(r){YR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DS(t,e){if(t==null)return{};var n=jNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function BNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,b7(r.key),r)}}function FNe(t,e,n){return e&&PB(t.prototype,e),n&&PB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qNe(t,e,n){return e=D0(e),zNe(t,v7()?Reflect.construct(e,n||[],D0(t).constructor):e.apply(t,n))}function zNe(t,e){if(e&&(Uf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Ne(t)}function $Ne(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v7=function(){return!!t})()}function D0(t){return D0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},D0(t)}function GNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QC(t,e)}function QC(t,e){return QC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QC(t,e)}function YR(t,e,n){return e=b7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b7(t){var e=HNe(t,"string");return Uf(e)=="symbol"?e:String(e)}function HNe(t,e){if(Uf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Uf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Qb=(function(t){GNe(e,t);function e(n){var r;return BNe(this,e),r=qNe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return FNe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,s=DS(r,LNe),l=this.props,c=l.viewBox,f=DS(l,UNe);return!hf(o,c)||!hf(s,f)||!hf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,s=i.y,l=i.width,c=i.height,f=i.orientation,h=i.tickSize,p=i.mirror,g=i.tickMargin,_,S,A,E,M,I,N=p?-1:1,C=r.tickSize||h,R=Pe(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":_=S=r.coordinate,E=s+ +!p*c,A=E-N*C,I=A-N*g,M=R;break;case"left":A=E=r.coordinate,S=o+ +!p*l,_=S-N*C,M=_-N*g,I=R;break;case"right":A=E=r.coordinate,S=o+ +p*l,_=S+N*C,M=_+N*g,I=R;break;default:_=S=r.coordinate,E=s+ +p*c,A=E+N*C,I=A+N*g,M=R;break}return{line:{x1:_,y1:A,x2:S,y2:E},tick:{x:M,y:I}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s;switch(i){case"left":s=o?"start":"end";break;case"right":s=o?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,s="end";switch(i){case"left":case"right":s="middle";break;case"top":s=o?"start":"end";break;default:s=o?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,s=r.width,l=r.height,c=r.orientation,f=r.mirror,h=r.axisLine,p=vr(vr(vr({},ft(this.props,!1)),ft(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!f||c==="bottom"&&f);p=vr(vr({},p),{},{x1:i,y1:o+g*l,x2:i+s,y2:o+g*l})}else{var _=+(c==="left"&&!f||c==="right"&&f);p=vr(vr({},p),{},{x1:i+_*s,y1:o,x2:i+_*s,y2:o+l})}return re.createElement("line",nf({},p,{className:kt("recharts-cartesian-axis-line",Ci(h,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var s=this,l=this.props,c=l.tickLine,f=l.stroke,h=l.tick,p=l.tickFormatter,g=l.unit,_=DNe(vr(vr({},this.props),{},{ticks:r}),i,o),S=this.getTickTextAnchor(),A=this.getTickVerticalAnchor(),E=ft(this.props,!1),M=ft(h,!1),I=vr(vr({},E),{},{fill:"none"},ft(c,!1)),N=_.map(function(C,R){var U=s.getTickLineCoord(C),k=U.line,O=U.tick,V=vr(vr(vr(vr({textAnchor:S,verticalAnchor:A},E),{},{stroke:"none",fill:f},M),O),{},{index:R,payload:C,visibleTicksCount:_.length,tickFormatter:p});return re.createElement(tn,nf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},Wv(s.props,C,R)),c&&re.createElement("line",nf({},I,k,{className:kt("recharts-cartesian-axis-tick-line",Ci(c,"className"))})),h&&e.renderTickItem(h,V,"".concat(ut(p)?p(C.value,R):C.value).concat(g||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,s=i.width,l=i.height,c=i.ticksGenerator,f=i.className,h=i.hide;if(h)return null;var p=this.props,g=p.ticks,_=DS(p,VNe),S=g;return ut(c)&&(S=g&&g.length>0?c(this.props):c(_)),s<=0||l<=0||!S||!S.length?null:re.createElement(tn,{className:kt("recharts-cartesian-axis",f),ref:function(E){r.layerReference=E}},o&&this.renderAxisLine(),this.renderTicks(S,this.state.fontSize,this.state.letterSpacing),cr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var s;return re.isValidElement(r)?s=re.cloneElement(r,i):ut(r)?s=r(i):s=re.createElement(o0,nf({},i,{className:"recharts-cartesian-axis-tick-value"}),o),s}}]),e})(W.Component);YR(Qb,"displayName","CartesianAxis");YR(Qb,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KNe=["layout","type","stroke","connectNulls","isRange","ref"],x7;function Vf(t){"@babel/helpers - typeof";return Vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vf(t)}function WNe(t,e){if(t==null)return{};var n=YNe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}function kB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ia(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kB(Object(n),!0).forEach(function(r){Uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,w7(r.key),r)}}function JNe(t,e,n){return e&&MB(t.prototype,e),n&&MB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QNe(t,e,n){return e=L0(e),ZNe(t,_7()?Reflect.construct(e,n||[],L0(t).constructor):e.apply(t,n))}function ZNe(t,e){if(e&&(Vf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vh(t)}function _7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_7=function(){return!!t})()}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},L0(t)}function Vh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZC(t,e)}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZC(t,e)}function Uo(t,e,n){return e=w7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w7(t){var e=tRe(t,"string");return Vf(e)=="symbol"?e:String(e)}function tRe(t,e){if(Vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yl=(function(t){eRe(e,t);function e(){var n;XNe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=QNe(this,e,[].concat(i)),Uo(Vh(n),"state",{isAnimationFinished:!0}),Uo(Vh(n),"id",km("recharts-area-")),Uo(Vh(n),"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ut(s)&&s()}),Uo(Vh(n),"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ut(s)&&s()}),n}return JNe(e,[{key:"renderDots",value:function(r,i,o){var s=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(s&&!l)return null;var c=this.props,f=c.dot,h=c.points,p=c.dataKey,g=ft(this.props,!1),_=ft(f,!0),S=h.map(function(E,M){var I=Ia(Ia(Ia({key:"dot-".concat(M),r:3},g),_),{},{dataKey:p,cx:E.x,cy:E.y,index:M,value:E.value,payload:E.payload});return e.renderDotItem(f,I)}),A={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return re.createElement(tn,pu({className:"recharts-area-dots"},A),S)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].x,f=s[s.length-1].x,h=r*Math.abs(c-f),p=Ba(s.map(function(g){return g.y||0}));return Pe(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Ba(o.map(function(g){return g.y||0})),p)),Pe(p)?re.createElement("rect",{x:c<f?c:c-h,y:0,width:h,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,o=i.baseLine,s=i.points,l=i.strokeWidth,c=s[0].y,f=s[s.length-1].y,h=r*Math.abs(c-f),p=Ba(s.map(function(g){return g.x||0}));return Pe(o)&&typeof o=="number"?p=Math.max(o,p):o&&Array.isArray(o)&&o.length&&(p=Math.max(Ba(o.map(function(g){return g.x||0})),p)),Pe(p)?re.createElement("rect",{x:0,y:c<f?c:c-h,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(h)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,o,s){var l=this.props,c=l.layout,f=l.type,h=l.stroke,p=l.connectNulls,g=l.isRange;l.ref;var _=WNe(l,KNe);return re.createElement(tn,{clipPath:o?"url(#clipPath-".concat(s,")"):null},re.createElement(rp,pu({},ft(_,!0),{points:r,connectNulls:p,type:f,baseLine:i,layout:c,stroke:"none",className:"recharts-area-area"})),h!=="none"&&re.createElement(rp,pu({},ft(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:r})),h!=="none"&&g&&re.createElement(rp,pu({},ft(this.props,!1),{className:"recharts-area-curve",layout:c,type:f,connectNulls:p,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var o=this,s=this.props,l=s.points,c=s.baseLine,f=s.isAnimationActive,h=s.animationBegin,p=s.animationDuration,g=s.animationEasing,_=s.animationId,S=this.state,A=S.prevPoints,E=S.prevBaseLine;return re.createElement(Fs,{begin:h,duration:p,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(_),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(M){var I=M.t;if(A){var N=A.length/l.length,C=l.map(function(O,V){var F=Math.floor(V*N);if(A[F]){var q=A[F],z=wi(q.x,O.x),B=wi(q.y,O.y);return Ia(Ia({},O),{},{x:z(I),y:B(I)})}return O}),R;if(Pe(c)&&typeof c=="number"){var U=wi(E,c);R=U(I)}else if(yt(c)||td(c)){var k=wi(E,0);R=k(I)}else R=c.map(function(O,V){var F=Math.floor(V*N);if(E[F]){var q=E[F],z=wi(q.x,O.x),B=wi(q.y,O.y);return Ia(Ia({},O),{},{x:z(I),y:B(I)})}return O});return o.renderAreaStatically(C,R,r,i)}return re.createElement(tn,null,re.createElement("defs",null,re.createElement("clipPath",{id:"animationClipPath-".concat(i)},o.renderClipRect(I))),re.createElement(tn,{clipPath:"url(#animationClipPath-".concat(i,")")},o.renderAreaStatically(l,c,r,i)))})}},{key:"renderArea",value:function(r,i){var o=this.props,s=o.points,l=o.baseLine,c=o.isAnimationActive,f=this.state,h=f.prevPoints,p=f.prevBaseLine,g=f.totalLength;return c&&s&&s.length&&(!h&&g>0||!Up(h,s)||!Up(p,l))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(s,l,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,s=i.dot,l=i.points,c=i.className,f=i.top,h=i.left,p=i.xAxis,g=i.yAxis,_=i.width,S=i.height,A=i.isAnimationActive,E=i.id;if(o||!l||!l.length)return null;var M=this.state.isAnimationFinished,I=l.length===1,N=kt("recharts-area",c),C=p&&p.allowDataOverflow,R=g&&g.allowDataOverflow,U=C||R,k=yt(E)?this.id:E,O=(r=ft(s,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},V=O.r,F=V===void 0?3:V,q=O.strokeWidth,z=q===void 0?2:q,B=lve(s)?s:{},Q=B.clipDot,oe=Q===void 0?!0:Q,K=F*2+z;return re.createElement(tn,{className:N},C||R?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(k)},re.createElement("rect",{x:C?h:h-_/2,y:R?f:f-S/2,width:C?_:_*2,height:R?S:S*2})),!oe&&re.createElement("clipPath",{id:"clipPath-dots-".concat(k)},re.createElement("rect",{x:h-K/2,y:f-K/2,width:_+K,height:S+K}))):null,I?null:this.renderArea(U,k),(s||I)&&this.renderDots(U,oe,k),(!A||M)&&Ka.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}]),e})(W.PureComponent);x7=yl;Uo(yl,"displayName","Area");Uo(yl,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!rd.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Uo(yl,"getBaseValue",function(t,e,n,r){var i=t.layout,o=t.baseValue,s=e.props.baseValue,l=s??o;if(Pe(l)&&typeof l=="number")return l;var c=i==="horizontal"?r:n,f=c.scale.domain();if(c.type==="number"){var h=Math.max(f[0],f[1]),p=Math.min(f[0],f[1]);return l==="dataMin"?p:l==="dataMax"||h<0?h:Math.max(Math.min(f[0],f[1]),0)}return l==="dataMin"?f[0]:l==="dataMax"?f[1]:f[0]});Uo(yl,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,o=t.xAxisTicks,s=t.yAxisTicks,l=t.bandSize,c=t.dataKey,f=t.stackedData,h=t.dataStartIndex,p=t.displayedData,g=t.offset,_=e.layout,S=f&&f.length,A=x7.getBaseValue(e,n,r,i),E=_==="horizontal",M=!1,I=p.map(function(C,R){var U;S?U=f[h+R]:(U=ni(C,c),Array.isArray(U)?M=!0:U=[A,U]);var k=U[1]==null||S&&ni(C,c)==null;return E?{x:Z3({axis:r,ticks:o,bandSize:l,entry:C,index:R}),y:k?null:i.scale(U[1]),value:U,payload:C}:{x:k?null:r.scale(U[1]),y:Z3({axis:i,ticks:s,bandSize:l,entry:C,index:R}),value:U,payload:C}}),N;return S||M?N=I.map(function(C){var R=Array.isArray(C.value)?C.value[0]:null;return E?{x:C.x,y:R!=null&&C.y!=null?i.scale(R):null}:{x:R!=null?r.scale(R):null,y:C.y}}):N=E?i.scale(A):r.scale(A),Ia({points:I,baseLine:N,layout:_,isRange:M},g)});Uo(yl,"renderDotItem",function(t,e){var n;return re.isValidElement(t)?n=re.cloneElement(t,e):ut(t)?n=t(e):n=re.createElement(HR,pu({},e,{className:"recharts-area-dot"})),n});function eI(){return eI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eI.apply(this,arguments)}var XR=function(e){var n=e.xAxisId,r=m7(),i=g7(),o=h7(n);return o==null?null:re.createElement(Qb,eI({},o,{className:kt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return hu(l,!0)}}))};XR.displayName="XAxis";XR.defaultProps={allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0};function tI(){return tI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tI.apply(this,arguments)}var JR=function(e){var n=e.yAxisId,r=m7(),i=g7(),o=p7(n);return o==null?null:re.createElement(Qb,tI({},o,{className:kt("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(l){return hu(l,!0)}}))};JR.displayName="YAxis";JR.defaultProps={allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1};function OB(t){return oRe(t)||iRe(t)||rRe(t)||nRe()}function nRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rRe(t,e){if(t){if(typeof t=="string")return nI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nI(t,e)}}function iRe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oRe(t){if(Array.isArray(t))return nI(t)}function nI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rI=function(e,n,r,i,o){var s=Zi(e,WR),l=Zi(e,jm),c=[].concat(OB(s),OB(l)),f=Zi(e,Bm),h="".concat(i,"Id"),p=i[0],g=n;if(c.length&&(g=c.reduce(function(A,E){if(E.props[h]===r&&Go(E.props,"extendDomain")&&Pe(E.props[p])){var M=E.props[p];return[Math.min(A[0],M),Math.max(A[1],M)]}return A},g)),f.length){var _="".concat(p,"1"),S="".concat(p,"2");g=f.reduce(function(A,E){if(E.props[h]===r&&Go(E.props,"extendDomain")&&Pe(E.props[_])&&Pe(E.props[S])){var M=E.props[_],I=E.props[S];return[Math.min(A[0],M,I),Math.max(A[1],M,I)]}return A},g)}return o&&o.length&&(g=o.reduce(function(A,E){return Pe(E)?[Math.min(A[0],E),Math.max(A[1],E)]:A},g)),g},LS={exports:{}},DB;function sRe(){return DB||(DB=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,f,h){this.fn=c,this.context=f,this.once=h||!1}function o(c,f,h,p,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var _=new i(h,p||c,g),S=n?n+f:f;return c._events[S]?c._events[S].fn?c._events[S]=[c._events[S],_]:c._events[S].push(_):(c._events[S]=_,c._eventsCount++),c}function s(c,f){--c._eventsCount===0?c._events=new r:delete c._events[f]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},l.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,_=p.length,S=new Array(_);g<_;g++)S[g]=p[g].fn;return S},l.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},l.prototype.emit=function(f,h,p,g,_,S){var A=n?n+f:f;if(!this._events[A])return!1;var E=this._events[A],M=arguments.length,I,N;if(E.fn){switch(E.once&&this.removeListener(f,E.fn,void 0,!0),M){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,h),!0;case 3:return E.fn.call(E.context,h,p),!0;case 4:return E.fn.call(E.context,h,p,g),!0;case 5:return E.fn.call(E.context,h,p,g,_),!0;case 6:return E.fn.call(E.context,h,p,g,_,S),!0}for(N=1,I=new Array(M-1);N<M;N++)I[N-1]=arguments[N];E.fn.apply(E.context,I)}else{var C=E.length,R;for(N=0;N<C;N++)switch(E[N].once&&this.removeListener(f,E[N].fn,void 0,!0),M){case 1:E[N].fn.call(E[N].context);break;case 2:E[N].fn.call(E[N].context,h);break;case 3:E[N].fn.call(E[N].context,h,p);break;case 4:E[N].fn.call(E[N].context,h,p,g);break;default:if(!I)for(R=1,I=new Array(M-1);R<M;R++)I[R-1]=arguments[R];E[N].fn.apply(E[N].context,I)}}return!0},l.prototype.on=function(f,h,p){return o(this,f,h,p,!1)},l.prototype.once=function(f,h,p){return o(this,f,h,p,!0)},l.prototype.removeListener=function(f,h,p,g){var _=n?n+f:f;if(!this._events[_])return this;if(!h)return s(this,_),this;var S=this._events[_];if(S.fn)S.fn===h&&(!g||S.once)&&(!p||S.context===p)&&s(this,_);else{for(var A=0,E=[],M=S.length;A<M;A++)(S[A].fn!==h||g&&!S[A].once||p&&S[A].context!==p)&&E.push(S[A]);E.length?this._events[_]=E.length===1?E[0]:E:s(this,_)}return this},l.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=n,l.EventEmitter=l,t.exports=l})(LS)),LS.exports}var aRe=sRe();const lRe=Bt(aRe);var US=new lRe,VS="recharts.syncMouseEvents";function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function uRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,T7(r.key),r)}}function fRe(t,e,n){return e&&cRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jS(t,e,n){return e=T7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T7(t){var e=dRe(t,"string");return lm(e)=="symbol"?e:String(e)}function dRe(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hRe=(function(){function t(){uRe(this,t),jS(this,"activeIndex",0),jS(this,"coordinateList",[]),jS(this,"layout","horizontal")}return fRe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,s=n.container,l=s===void 0?null:s,c=n.layout,f=c===void 0?null:c,h=n.offset,p=h===void 0?null:h,g=n.mouseHandlerCallback,_=g===void 0?null:g;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=l??this.container,this.layout=f??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=_??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,s=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,p=o+c+f,g=s+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:p,pageY:g})}}}]),t})();function pRe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Pe(r)&&Pe(i))return!0}return!1}function mRe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function E7(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,s=er(e,n,r,i),l=er(e,n,r,o);return{points:[s,l],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function gRe(t,e,n){var r,i,o,s;if(t==="horizontal")r=e.x,o=r,i=n.top,s=n.top+n.height;else if(t==="vertical")i=e.y,s=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,f=e.innerRadius,h=e.outerRadius,p=e.angle,g=er(l,c,f,p),_=er(l,c,h,p);r=g.x,i=g.y,o=_.x,s=_.y}else return E7(e);return[{x:r,y:i},{x:o,y:s}]}function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function LB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LB(Object(n),!0).forEach(function(r){yRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yRe(t,e,n){return e=vRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vRe(t){var e=bRe(t,"string");return um(e)=="symbol"?e:String(e)}function bRe(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xRe(t){var e=t.element,n=t.tooltipEventType,r=t.isActive,i=t.activeCoordinate,o=t.activePayload,s=t.offset,l=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName;if(!e||!e.props.cursor||!r||!i||h!=="ScatterChart"&&n!=="axis")return null;var p,g=rp;if(h==="ScatterChart")p=i,g=bCe;else if(h==="BarChart")p=mRe(f,i,s,c),g=GR;else if(f==="radial"){var _=E7(i),S=_.cx,A=_.cy,E=_.radius,M=_.startAngle,I=_.endAngle;p={cx:S,cy:A,startAngle:M,endAngle:I,innerRadius:E,outerRadius:E},g=zH}else p={points:gRe(f,i,s)},g=rp;var N=zy(zy(zy(zy({stroke:"#ccc",pointerEvents:"none"},s),p),ft(e.props.cursor,!1)),{},{payload:o,payloadIndex:l,className:"recharts-tooltip-cursor"});return W.isValidElement(e.props.cursor)?W.cloneElement(e.props.cursor,N):W.createElement(g,N)}var _Re=["item"],wRe=["children","className","width","height","style","compact","title","desc"];function jf(t){"@babel/helpers - typeof";return jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jf(t)}function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},op.apply(this,arguments)}function UB(t,e){return SRe(t)||ERe(t,e)||A7(t,e)||TRe()}function TRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ERe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,s,l=[],c=!0,f=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(c=(r=o.call(n)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(h){f=!0,i=h}finally{try{if(!c&&n.return!=null&&(s=n.return(),Object(s)!==s))return}finally{if(f)throw i}}return l}}function SRe(t){if(Array.isArray(t))return t}function VB(t,e){if(t==null)return{};var n=ARe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ARe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function CRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IRe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,C7(r.key),r)}}function NRe(t,e,n){return e&&IRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RRe(t,e,n){return e=U0(e),PRe(t,S7()?Reflect.construct(e,n||[],U0(t).constructor):e.apply(t,n))}function PRe(t,e){if(e&&(jf(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gt(t)}function S7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S7=function(){return!!t})()}function U0(t){return U0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U0(t)}function gt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iI(t,e)}function iI(t,e){return iI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iI(t,e)}function Bf(t){return DRe(t)||ORe(t)||A7(t)||MRe()}function MRe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function A7(t,e){if(t){if(typeof t=="string")return oI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oI(t,e)}}function ORe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DRe(t){if(Array.isArray(t))return oI(t)}function oI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jB(Object(n),!0).forEach(function(r){Ke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ke(t,e,n){return e=C7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function C7(t){var e=LRe(t,"string");return jf(e)=="symbol"?e:String(e)}function LRe(t,e){if(jf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(jf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var URe={xAxis:["bottom","top"],yAxis:["left","right"]},VRe={width:"100%",height:"100%"},I7={x:0,y:0};function $y(t){return t}var jRe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},BRe=function(e,n,r,i){var o=n.find(function(h){return h&&h.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var s=o.coordinate,l=i.radius;return xe(xe(xe({},i),er(i.cx,i.cy,l,s)),{},{angle:s,radius:l})}var c=o.coordinate,f=i.angle;return xe(xe(xe({},i),er(i.cx,i.cy,c,f)),{},{angle:f,radius:c})}return I7},Zb=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,s=(r??[]).reduce(function(l,c){var f=c.props.data;return f&&f.length?[].concat(Bf(l),Bf(f)):l},[]);return s.length>0?s:e&&e.length&&Pe(i)&&Pe(o)?e.slice(i,o+1):[]};function N7(t){return t==="number"?[0,"auto"]:void 0}var sI=function(e,n,r,i){var o=e.graphicalItems,s=e.tooltipAxis,l=Zb(n,e);return r<0||!o||!o.length||r>=l.length?null:o.reduce(function(c,f){var h,p=(h=f.props.data)!==null&&h!==void 0?h:n;p&&e.dataStartIndex+e.dataEndIndex!==0&&(p=p.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(s.dataKey&&!s.allowDuplicatedCategory){var _=p===void 0?l:p;g=Hv(_,s.dataKey,i)}else g=p&&p[r]||l[r];return g?[].concat(Bf(c),[BH(f,g)]):c},[])},BB=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},s=jRe(o,r),l=e.orderedTooltipTicks,c=e.tooltipAxis,f=e.tooltipTicks,h=QEe(s,l,f,c);if(h>=0&&f){var p=f[h]&&f[h].value,g=sI(e,n,h,p),_=BRe(r,l,h,o);return{activeTooltipIndex:h,activeLabel:p,activePayload:g,activeCoordinate:_}}return null},FRe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=e.stackOffset,_=VH(h,o);return r.reduce(function(S,A){var E,M=A.props,I=M.type,N=M.dataKey,C=M.allowDataOverflow,R=M.allowDuplicatedCategory,U=M.scale,k=M.ticks,O=M.includeHidden,V=A.props[s];if(S[V])return S;var F=Zb(e.data,{graphicalItems:i.filter(function(G){return G.props[s]===V}),dataStartIndex:c,dataEndIndex:f}),q=F.length,z,B,Q;pRe(A.props.domain,C,I)&&(z=RC(A.props.domain,null,C),_&&(I==="number"||U!=="auto")&&(Q=np(F,N,"category")));var oe=N7(I);if(!z||z.length===0){var K,X=(K=A.props.domain)!==null&&K!==void 0?K:oe;if(N){if(z=np(F,N,I),I==="category"&&_){var te=Zye(z);R&&te?(B=z,z=N0(0,q)):R||(z=r6(X,z,A).reduce(function(G,ee){return G.indexOf(ee)>=0?G:[].concat(Bf(G),[ee])},[]))}else if(I==="category")R?z=z.filter(function(G){return G!==""&&!yt(G)}):z=r6(X,z,A).reduce(function(G,ee){return G.indexOf(ee)>=0||ee===""||yt(ee)?G:[].concat(Bf(G),[ee])},[]);else if(I==="number"){var ce=r1e(F,i.filter(function(G){return G.props[s]===V&&(O||!G.props.hide)}),N,o,h);ce&&(z=ce)}_&&(I==="number"||U!=="auto")&&(Q=np(F,N,"category"))}else _?z=N0(0,q):l&&l[V]&&l[V].hasStack&&I==="number"?z=g==="expand"?[0,1]:jH(l[V].stackGroups,c,f):z=UH(F,i.filter(function(G){return G.props[s]===V&&(O||!G.props.hide)}),I,h,!0);if(I==="number")z=rI(p,z,V,o,k),X&&(z=RC(X,z,C));else if(I==="category"&&X){var Y=X,L=z.every(function(G){return Y.indexOf(G)>=0});L&&(z=Y)}}return xe(xe({},S),{},Ke({},V,xe(xe({},A.props),{},{axisType:o,domain:z,categoricalDomain:Q,duplicateDomain:B,originalDomain:(E=A.props.domain)!==null&&E!==void 0?E:oe,isCategorical:_,layout:h})))},{})},qRe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,s=n.axisIdKey,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.layout,p=e.children,g=Zb(e.data,{graphicalItems:r,dataStartIndex:c,dataEndIndex:f}),_=g.length,S=VH(h,o),A=-1;return r.reduce(function(E,M){var I=M.props[s],N=N7("number");if(!E[I]){A++;var C;return S?C=N0(0,_):l&&l[I]&&l[I].hasStack?(C=jH(l[I].stackGroups,c,f),C=rI(p,C,I,o)):(C=RC(N,UH(g,r.filter(function(R){return R.props[s]===I&&!R.props.hide}),"number",h),i.defaultProps.allowDataOverflow),C=rI(p,C,I,o)),xe(xe({},E),{},Ke({},I,xe(xe({axisType:o},i.defaultProps),{},{hide:!0,orientation:Ci(URe,"".concat(o,".").concat(A%2),null),domain:C,originalDomain:N,isCategorical:S,layout:h})))}return E},{})},zRe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,s=n.graphicalItems,l=n.stackGroups,c=n.dataStartIndex,f=n.dataEndIndex,h=e.children,p="".concat(i,"Id"),g=Zi(h,o),_={};return g&&g.length?_=FRe(e,{axes:g,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f}):s&&s.length&&(_=qRe(e,{Axis:o,graphicalItems:s,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:f})),_},$Re=function(e){var n=Kc(e),r=hu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:vR(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:b0(n,r)}},FB=function(e){var n=e.children,r=e.defaultShowTooltip,i=Yr(n,Df),o=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(s=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!r}},GRe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ps(n&&n.type);return r&&r.indexOf("Bar")>=0})},qB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},HRe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,s=o===void 0?{}:o,l=e.yAxisMap,c=l===void 0?{}:l,f=r.width,h=r.height,p=r.children,g=r.margin||{},_=Yr(p,Df),S=Yr(p,Ap),A=Object.keys(c).reduce(function(R,U){var k=c[U],O=k.orientation;return!k.mirror&&!k.hide?xe(xe({},R),{},Ke({},O,R[O]+k.width)):R},{left:g.left||0,right:g.right||0}),E=Object.keys(s).reduce(function(R,U){var k=s[U],O=k.orientation;return!k.mirror&&!k.hide?xe(xe({},R),{},Ke({},O,Ci(R,"".concat(O))+k.height)):R},{top:g.top||0,bottom:g.bottom||0}),M=xe(xe({},E),A),I=M.bottom;_&&(M.bottom+=_.props.height||Df.defaultProps.height),S&&n&&(M=t1e(M,i,r,n));var N=f-M.left-M.right,C=h-M.top-M.bottom;return xe(xe({brushBottom:I},M),{},{width:Math.max(N,0),height:Math.max(C,0)})},KRe=function(e){var n,r=e.chartName,i=e.GraphicalChild,o=e.defaultTooltipEventType,s=o===void 0?"axis":o,l=e.validateTooltipEventTypes,c=l===void 0?["axis"]:l,f=e.axisComponents,h=e.legendContent,p=e.formatAxisMap,g=e.defaultProps,_=function(E,M){var I=M.graphicalItems,N=M.stackGroups,C=M.offset,R=M.updateId,U=M.dataStartIndex,k=M.dataEndIndex,O=E.barSize,V=E.layout,F=E.barGap,q=E.barCategoryGap,z=E.maxBarSize,B=qB(V),Q=B.numericAxisName,oe=B.cateAxisName,K=GRe(I),X=K&&ZEe({barSize:O,stackGroups:N}),te=[];return I.forEach(function(ce,Y){var L=Zb(E.data,{graphicalItems:[ce],dataStartIndex:U,dataEndIndex:k}),G=ce.props,ee=G.dataKey,ae=G.maxBarSize,ge=ce.props["".concat(Q,"Id")],we=ce.props["".concat(oe,"Id")],Te={},Re=f.reduce(function(nt,On){var Xo=M["".concat(On.axisType,"Map")],Jo=ce.props["".concat(On.axisType,"Id")];Xo&&Xo[Jo]||On.axisType==="zAxis"||Ou();var ln=Xo[Jo];return xe(xe({},nt),{},Ke(Ke({},On.axisType,ln),"".concat(On.axisType,"Ticks"),hu(ln)))},Te),pe=Re[oe],Ce=Re["".concat(oe,"Ticks")],Ie=N&&N[ge]&&N[ge].hasStack&&m1e(ce,N[ge].stackGroups),he=Ps(ce.type).indexOf("Bar")>=0,Se=b0(pe,Ce),Ee=[];if(he){var Ve,We,dt=yt(ae)?z:ae,It=(Ve=(We=b0(pe,Ce,!0))!==null&&We!==void 0?We:dt)!==null&&Ve!==void 0?Ve:0;Ee=e1e({barGap:F,barCategoryGap:q,bandSize:It!==Se?It:Se,sizeList:X[we],maxBarSize:dt}),It!==Se&&(Ee=Ee.map(function(nt){return xe(xe({},nt),{},{position:xe(xe({},nt.position),{},{offset:nt.position.offset-It/2})})}))}var mt=ce&&ce.type&&ce.type.getComposedData;mt&&te.push({props:xe(xe({},mt(xe(xe({},Re),{},{displayedData:L,props:E,dataKey:ee,item:ce,bandSize:Se,barPosition:Ee,offset:C,stackedData:Ie,layout:V,dataStartIndex:U,dataEndIndex:k}))),{},Ke(Ke(Ke({key:ce.key||"item-".concat(Y)},Q,Re[Q]),oe,Re[oe]),"animationId",R)),childIndex:fve(ce,E.children),item:ce})}),te},S=function(E,M){var I=E.props,N=E.dataStartIndex,C=E.dataEndIndex,R=E.updateId;if(!yV({props:I}))return null;var U=I.children,k=I.layout,O=I.stackOffset,V=I.data,F=I.reverseStackOrder,q=qB(k),z=q.numericAxisName,B=q.cateAxisName,Q=Zi(U,i),oe=d1e(V,Q,"".concat(z,"Id"),"".concat(B,"Id"),O,F),K=f.reduce(function(L,G){var ee="".concat(G.axisType,"Map");return xe(xe({},L),{},Ke({},ee,zRe(I,xe(xe({},G),{},{graphicalItems:Q,stackGroups:G.axisType===z&&oe,dataStartIndex:N,dataEndIndex:C}))))},{}),X=HRe(xe(xe({},K),{},{props:I,graphicalItems:Q}),M==null?void 0:M.legendBBox);Object.keys(K).forEach(function(L){K[L]=p(I,K[L],X,L.replace("Map",""),r)});var te=K["".concat(B,"Map")],ce=$Re(te),Y=_(I,xe(xe({},K),{},{dataStartIndex:N,dataEndIndex:C,updateId:R,graphicalItems:Q,stackGroups:oe,offset:X}));return xe(xe({formattedGraphicalItems:Y,graphicalItems:Q,offset:X,stackGroups:oe},ce),K)};return n=(function(A){kRe(E,A);function E(M){var I,N,C;return CRe(this,E),C=RRe(this,E,[M]),Ke(gt(C),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ke(gt(C),"accessibilityManager",new hRe),Ke(gt(C),"handleLegendBBoxUpdate",function(R){if(R){var U=C.state,k=U.dataStartIndex,O=U.dataEndIndex,V=U.updateId;C.setState(xe({legendBBox:R},S({props:C.props,dataStartIndex:k,dataEndIndex:O,updateId:V},xe(xe({},C.state),{},{legendBBox:R}))))}}),Ke(gt(C),"handleReceiveSyncEvent",function(R,U,k){if(C.props.syncId===R){if(k===C.eventEmitterSymbol&&typeof C.props.syncMethod!="function")return;C.applySyncEvent(U)}}),Ke(gt(C),"handleBrushChange",function(R){var U=R.startIndex,k=R.endIndex;if(U!==C.state.dataStartIndex||k!==C.state.dataEndIndex){var O=C.state.updateId;C.setState(function(){return xe({dataStartIndex:U,dataEndIndex:k},S({props:C.props,dataStartIndex:U,dataEndIndex:k,updateId:O},C.state))}),C.triggerSyncEvent({dataStartIndex:U,dataEndIndex:k})}}),Ke(gt(C),"handleMouseEnter",function(R){var U=C.getMouseInfo(R);if(U){var k=xe(xe({},U),{},{isTooltipActive:!0});C.setState(k),C.triggerSyncEvent(k);var O=C.props.onMouseEnter;ut(O)&&O(k,R)}}),Ke(gt(C),"triggeredAfterMouseMove",function(R){var U=C.getMouseInfo(R),k=U?xe(xe({},U),{},{isTooltipActive:!0}):{isTooltipActive:!1};C.setState(k),C.triggerSyncEvent(k);var O=C.props.onMouseMove;ut(O)&&O(k,R)}),Ke(gt(C),"handleItemMouseEnter",function(R){C.setState(function(){return{isTooltipActive:!0,activeItem:R,activePayload:R.tooltipPayload,activeCoordinate:R.tooltipPosition||{x:R.cx,y:R.cy}}})}),Ke(gt(C),"handleItemMouseLeave",function(){C.setState(function(){return{isTooltipActive:!1}})}),Ke(gt(C),"handleMouseMove",function(R){R.persist(),C.throttleTriggeredAfterMouseMove(R)}),Ke(gt(C),"handleMouseLeave",function(R){C.throttleTriggeredAfterMouseMove.cancel();var U={isTooltipActive:!1};C.setState(U),C.triggerSyncEvent(U);var k=C.props.onMouseLeave;ut(k)&&k(U,R)}),Ke(gt(C),"handleOuterEvent",function(R){var U=cve(R),k=Ci(C.props,"".concat(U));if(U&&ut(k)){var O,V;/.*touch.*/i.test(U)?V=C.getMouseInfo(R.changedTouches[0]):V=C.getMouseInfo(R),k((O=V)!==null&&O!==void 0?O:{},R)}}),Ke(gt(C),"handleClick",function(R){var U=C.getMouseInfo(R);if(U){var k=xe(xe({},U),{},{isTooltipActive:!0});C.setState(k),C.triggerSyncEvent(k);var O=C.props.onClick;ut(O)&&O(k,R)}}),Ke(gt(C),"handleMouseDown",function(R){var U=C.props.onMouseDown;if(ut(U)){var k=C.getMouseInfo(R);U(k,R)}}),Ke(gt(C),"handleMouseUp",function(R){var U=C.props.onMouseUp;if(ut(U)){var k=C.getMouseInfo(R);U(k,R)}}),Ke(gt(C),"handleTouchMove",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.throttleTriggeredAfterMouseMove(R.changedTouches[0])}),Ke(gt(C),"handleTouchStart",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseDown(R.changedTouches[0])}),Ke(gt(C),"handleTouchEnd",function(R){R.changedTouches!=null&&R.changedTouches.length>0&&C.handleMouseUp(R.changedTouches[0])}),Ke(gt(C),"triggerSyncEvent",function(R){C.props.syncId!==void 0&&US.emit(VS,C.props.syncId,R,C.eventEmitterSymbol)}),Ke(gt(C),"applySyncEvent",function(R){var U=C.props,k=U.layout,O=U.syncMethod,V=C.state.updateId,F=R.dataStartIndex,q=R.dataEndIndex;if(R.dataStartIndex!==void 0||R.dataEndIndex!==void 0)C.setState(xe({dataStartIndex:F,dataEndIndex:q},S({props:C.props,dataStartIndex:F,dataEndIndex:q,updateId:V},C.state)));else if(R.activeTooltipIndex!==void 0){var z=R.chartX,B=R.chartY,Q=R.activeTooltipIndex,oe=C.state,K=oe.offset,X=oe.tooltipTicks;if(!K)return;if(typeof O=="function")Q=O(X,R);else if(O==="value"){Q=-1;for(var te=0;te<X.length;te++)if(X[te].value===R.activeLabel){Q=te;break}}var ce=xe(xe({},K),{},{x:K.left,y:K.top}),Y=Math.min(z,ce.x+ce.width),L=Math.min(B,ce.y+ce.height),G=X[Q]&&X[Q].value,ee=sI(C.state,C.props.data,Q),ae=X[Q]?{x:k==="horizontal"?X[Q].coordinate:Y,y:k==="horizontal"?L:X[Q].coordinate}:I7;C.setState(xe(xe({},R),{},{activeLabel:G,activeCoordinate:ae,activePayload:ee,activeTooltipIndex:Q}))}else C.setState(R)}),Ke(gt(C),"renderCursor",function(R){var U,k=C.state,O=k.isTooltipActive,V=k.activeCoordinate,F=k.activePayload,q=k.offset,z=k.activeTooltipIndex,B=k.tooltipAxisBandSize,Q=C.getTooltipEventType(),oe=(U=R.props.active)!==null&&U!==void 0?U:O,K=C.props.layout,X=R.key||"_recharts-cursor";return re.createElement(xRe,{key:X,activeCoordinate:V,activePayload:F,activeTooltipIndex:z,chartName:r,element:R,isActive:oe,layout:K,offset:q,tooltipAxisBandSize:B,tooltipEventType:Q})}),Ke(gt(C),"renderPolarAxis",function(R,U,k){var O=Ci(R,"type.axisType"),V=Ci(C.state,"".concat(O,"Map")),F=V&&V[R.props["".concat(O,"Id")]];return W.cloneElement(R,xe(xe({},F),{},{className:O,key:R.key||"".concat(U,"-").concat(k),ticks:hu(F,!0)}))}),Ke(gt(C),"renderPolarGrid",function(R){var U=R.props,k=U.radialLines,O=U.polarAngles,V=U.polarRadius,F=C.state,q=F.radiusAxisMap,z=F.angleAxisMap,B=Kc(q),Q=Kc(z),oe=Q.cx,K=Q.cy,X=Q.innerRadius,te=Q.outerRadius;return W.cloneElement(R,{polarAngles:Array.isArray(O)?O:hu(Q,!0).map(function(ce){return ce.coordinate}),polarRadius:Array.isArray(V)?V:hu(B,!0).map(function(ce){return ce.coordinate}),cx:oe,cy:K,innerRadius:X,outerRadius:te,key:R.key||"polar-grid",radialLines:k})}),Ke(gt(C),"renderLegend",function(){var R=C.state.formattedGraphicalItems,U=C.props,k=U.children,O=U.width,V=U.height,F=C.props.margin||{},q=O-(F.left||0)-(F.right||0),z=DH({children:k,formattedGraphicalItems:R,legendWidth:q,legendContent:h});if(!z)return null;var B=z.item,Q=VB(z,_Re);return W.cloneElement(B,xe(xe({},Q),{},{chartWidth:O,chartHeight:V,margin:F,onBBoxUpdate:C.handleLegendBBoxUpdate}))}),Ke(gt(C),"renderTooltip",function(){var R,U=C.props,k=U.children,O=U.accessibilityLayer,V=Yr(k,xs);if(!V)return null;var F=C.state,q=F.isTooltipActive,z=F.activeCoordinate,B=F.activePayload,Q=F.activeLabel,oe=F.offset,K=(R=V.props.active)!==null&&R!==void 0?R:q;return W.cloneElement(V,{viewBox:xe(xe({},oe),{},{x:oe.left,y:oe.top}),active:K,label:Q,payload:K?B:[],coordinate:z,accessibilityLayer:O})}),Ke(gt(C),"renderBrush",function(R){var U=C.props,k=U.margin,O=U.data,V=C.state,F=V.offset,q=V.dataStartIndex,z=V.dataEndIndex,B=V.updateId;return W.cloneElement(R,{key:R.key||"_recharts-brush",onChange:jy(C.handleBrushChange,R.props.onChange),data:O,x:Pe(R.props.x)?R.props.x:F.left,y:Pe(R.props.y)?R.props.y:F.top+F.height+F.brushBottom-(k.bottom||0),width:Pe(R.props.width)?R.props.width:F.width,startIndex:q,endIndex:z,updateId:"brush-".concat(B)})}),Ke(gt(C),"renderReferenceElement",function(R,U,k){if(!R)return null;var O=gt(C),V=O.clipPathId,F=C.state,q=F.xAxisMap,z=F.yAxisMap,B=F.offset,Q=R.props,oe=Q.xAxisId,K=Q.yAxisId;return W.cloneElement(R,{key:R.key||"".concat(U,"-").concat(k),xAxis:q[oe],yAxis:z[K],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:V})}),Ke(gt(C),"renderActivePoints",function(R){var U=R.item,k=R.activePoint,O=R.basePoint,V=R.childIndex,F=R.isRange,q=[],z=U.props.key,B=U.item.props,Q=B.activeDot,oe=B.dataKey,K=xe(xe({index:V,dataKey:oe,cx:k.x,cy:k.y,r:4,fill:$R(U.item),strokeWidth:2,stroke:"#fff",payload:k.payload,value:k.value,key:"".concat(z,"-activePoint-").concat(V)},ft(Q,!1)),Kv(Q));return q.push(E.renderActiveDot(Q,K)),O?q.push(E.renderActiveDot(Q,xe(xe({},K),{},{cx:O.x,cy:O.y,key:"".concat(z,"-basePoint-").concat(V)}))):F&&q.push(null),q}),Ke(gt(C),"renderGraphicChild",function(R,U,k){var O=C.filterFormatItem(R,U,k);if(!O)return null;var V=C.getTooltipEventType(),F=C.state,q=F.isTooltipActive,z=F.tooltipAxis,B=F.activeTooltipIndex,Q=F.activeLabel,oe=C.props.children,K=Yr(oe,xs),X=O.props,te=X.points,ce=X.isRange,Y=X.baseLine,L=O.item.props,G=L.activeDot,ee=L.hide,ae=L.activeBar,ge=L.activeShape,we=!!(!ee&&q&&K&&(G||ae||ge)),Te={};V!=="axis"&&K&&K.props.trigger==="click"?Te={onClick:jy(C.handleItemMouseEnter,R.props.onClick)}:V!=="axis"&&(Te={onMouseLeave:jy(C.handleItemMouseLeave,R.props.onMouseLeave),onMouseEnter:jy(C.handleItemMouseEnter,R.props.onMouseEnter)});var Re=W.cloneElement(R,xe(xe({},O.props),Te));function pe(On){return typeof z.dataKey=="function"?z.dataKey(On.payload):null}if(we)if(B>=0){var Ce,Ie;if(z.dataKey&&!z.allowDuplicatedCategory){var he=typeof z.dataKey=="function"?pe:"payload.".concat(z.dataKey.toString());Ce=Hv(te,he,Q),Ie=ce&&Y&&Hv(Y,he,Q)}else Ce=te==null?void 0:te[B],Ie=ce&&Y&&Y[B];if(ge||ae){var Se=R.props.activeIndex!==void 0?R.props.activeIndex:B;return[W.cloneElement(R,xe(xe(xe({},O.props),Te),{},{activeIndex:Se})),null,null]}if(!yt(Ce))return[Re].concat(Bf(C.renderActivePoints({item:O,activePoint:Ce,basePoint:Ie,childIndex:B,isRange:ce})))}else{var Ee,Ve=(Ee=C.getItemByXY(C.state.activeCoordinate))!==null&&Ee!==void 0?Ee:{graphicalItem:Re},We=Ve.graphicalItem,dt=We.item,It=dt===void 0?R:dt,mt=We.childIndex,nt=xe(xe(xe({},O.props),Te),{},{activeIndex:mt});return[W.cloneElement(It,nt),null,null]}return ce?[Re,null,null]:[Re,null]}),Ke(gt(C),"renderCustomized",function(R,U,k){return W.cloneElement(R,xe(xe({key:"recharts-customized-".concat(k)},C.props),C.state))}),Ke(gt(C),"renderMap",{CartesianGrid:{handler:$y,once:!0},ReferenceArea:{handler:C.renderReferenceElement},ReferenceLine:{handler:$y},ReferenceDot:{handler:C.renderReferenceElement},XAxis:{handler:$y},YAxis:{handler:$y},Brush:{handler:C.renderBrush,once:!0},Bar:{handler:C.renderGraphicChild},Line:{handler:C.renderGraphicChild},Area:{handler:C.renderGraphicChild},Radar:{handler:C.renderGraphicChild},RadialBar:{handler:C.renderGraphicChild},Scatter:{handler:C.renderGraphicChild},Pie:{handler:C.renderGraphicChild},Funnel:{handler:C.renderGraphicChild},Tooltip:{handler:C.renderCursor,once:!0},PolarGrid:{handler:C.renderPolarGrid,once:!0},PolarAngleAxis:{handler:C.renderPolarAxis},PolarRadiusAxis:{handler:C.renderPolarAxis},Customized:{handler:C.renderCustomized}}),C.clipPathId="".concat((I=M.id)!==null&&I!==void 0?I:km("recharts"),"-clip"),C.throttleTriggeredAfterMouseMove=VG(C.triggeredAfterMouseMove,(N=M.throttleDelay)!==null&&N!==void 0?N:1e3/60),C.state={},C}return NRe(E,[{key:"componentDidMount",value:function(){var I,N;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(N=this.props.margin.top)!==null&&N!==void 0?N:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var I=this.props,N=I.children,C=I.data,R=I.height,U=I.layout,k=Yr(N,xs);if(k){var O=k.props.defaultIndex;if(!(typeof O!="number"||O<0||O>this.state.tooltipTicks.length)){var V=this.state.tooltipTicks[O]&&this.state.tooltipTicks[O].value,F=sI(this.state,C,O,V),q=this.state.tooltipTicks[O].coordinate,z=(this.state.offset.top+R)/2,B=U==="horizontal",Q=B?{x:q,y:z}:{y:q,x:z},oe=this.state.formattedGraphicalItems.find(function(X){var te=X.item;return te.type.name==="Scatter"});oe&&(Q=xe(xe({},Q),oe.props.points[O].tooltipPosition),F=oe.props.points[O].tooltipPayload);var K={activeTooltipIndex:O,isTooltipActive:!0,activeLabel:V,activePayload:F,activeCoordinate:Q};this.setState(K),this.renderCursor(k),this.accessibilityManager.setIndex(O)}}}},{key:"getSnapshotBeforeUpdate",value:function(I,N){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==N.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==I.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==I.margin){var C,R;this.accessibilityManager.setDetails({offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(R=this.props.margin.top)!==null&&R!==void 0?R:0}})}return null}},{key:"componentDidUpdate",value:function(I){eC([Yr(I.children,xs)],[Yr(this.props.children,xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var I=Yr(this.props.children,xs);if(I&&typeof I.props.shared=="boolean"){var N=I.props.shared?"axis":"item";return c.indexOf(N)>=0?N:s}return s}},{key:"getMouseInfo",value:function(I){if(!this.container)return null;var N=this.container,C=N.getBoundingClientRect(),R=Xxe(C),U={chartX:Math.round(I.pageX-R.left),chartY:Math.round(I.pageY-R.top)},k=C.width/N.offsetWidth||1,O=this.inRange(U.chartX,U.chartY,k);if(!O)return null;var V=this.state,F=V.xAxisMap,q=V.yAxisMap,z=this.getTooltipEventType();if(z!=="axis"&&F&&q){var B=Kc(F).scale,Q=Kc(q).scale,oe=B&&B.invert?B.invert(U.chartX):null,K=Q&&Q.invert?Q.invert(U.chartY):null;return xe(xe({},U),{},{xValue:oe,yValue:K})}var X=BB(this.state,this.props.data,this.props.layout,O);return X?xe(xe({},U),X):null}},{key:"inRange",value:function(I,N){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,R=this.props.layout,U=I/C,k=N/C;if(R==="horizontal"||R==="vertical"){var O=this.state.offset,V=U>=O.left&&U<=O.left+O.width&&k>=O.top&&k<=O.top+O.height;return V?{x:U,y:k}:null}var F=this.state,q=F.angleAxisMap,z=F.radiusAxisMap;if(q&&z){var B=Kc(q);return s6({x:U,y:k},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var I=this.props.children,N=this.getTooltipEventType(),C=Yr(I,xs),R={};C&&N==="axis"&&(C.props.trigger==="click"?R={onClick:this.handleClick}:R={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var U=Kv(this.props,this.handleOuterEvent);return xe(xe({},U),R)}},{key:"addListener",value:function(){US.on(VS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){US.removeListener(VS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(I,N,C){for(var R=this.state.formattedGraphicalItems,U=0,k=R.length;U<k;U++){var O=R[U];if(O.item===I||O.props.key===I.key||N===Ps(O.item.type)&&C===O.childIndex)return O}return null}},{key:"renderClipPath",value:function(){var I=this.clipPathId,N=this.state.offset,C=N.left,R=N.top,U=N.height,k=N.width;return re.createElement("defs",null,re.createElement("clipPath",{id:I},re.createElement("rect",{x:C,y:R,height:U,width:k})))}},{key:"getXScales",value:function(){var I=this.state.xAxisMap;return I?Object.entries(I).reduce(function(N,C){var R=UB(C,2),U=R[0],k=R[1];return xe(xe({},N),{},Ke({},U,k.scale))},{}):null}},{key:"getYScales",value:function(){var I=this.state.yAxisMap;return I?Object.entries(I).reduce(function(N,C){var R=UB(C,2),U=R[0],k=R[1];return xe(xe({},N),{},Ke({},U,k.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(I){var N;return(N=this.state.xAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getYScaleByAxisId",value:function(I){var N;return(N=this.state.yAxisMap)===null||N===void 0||(N=N[I])===null||N===void 0?void 0:N.scale}},{key:"getItemByXY",value:function(I){var N=this.state,C=N.formattedGraphicalItems,R=N.activeItem;if(C&&C.length)for(var U=0,k=C.length;U<k;U++){var O=C[U],V=O.props,F=O.item,q=Ps(F.type);if(q==="Bar"){var z=(V.data||[]).find(function(K){return uCe(I,K)});if(z)return{graphicalItem:O,payload:z}}else if(q==="RadialBar"){var B=(V.data||[]).find(function(K){return s6(I,K)});if(B)return{graphicalItem:O,payload:B}}else if(Yb(O,R)||Xb(O,R)||em(O,R)){var Q=ZCe({graphicalItem:O,activeTooltipItem:R,itemData:F.props.data}),oe=F.props.activeIndex===void 0?Q:F.props.activeIndex;return{graphicalItem:xe(xe({},O),{},{childIndex:oe}),payload:em(O,R)?F.props.data[Q]:O.props.data[Q]}}}return null}},{key:"render",value:function(){var I=this,N;if(!yV(this))return null;var C=this.props,R=C.children,U=C.className,k=C.width,O=C.height,V=C.style,F=C.compact,q=C.title,z=C.desc,B=VB(C,wRe),Q=ft(B,!1);if(F)return re.createElement(_B,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(nC,op({},Q,{width:k,height:O,title:q,desc:z}),this.renderClipPath(),bV(R,this.renderMap)));if(this.props.accessibilityLayer){var oe,K;Q.tabIndex=(oe=this.props.tabIndex)!==null&&oe!==void 0?oe:0,Q.role=(K=this.props.role)!==null&&K!==void 0?K:"application",Q.onKeyDown=function(te){I.accessibilityManager.keyboardEvent(te)},Q.onFocus=function(){I.accessibilityManager.focus()}}var X=this.parseEventsOfWrapper();return re.createElement(_B,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",op({className:kt("recharts-wrapper",U),style:xe({position:"relative",cursor:"default",width:k,height:O},V)},X,{ref:function(ce){I.container=ce},role:(N=Q.role)!==null&&N!==void 0?N:"region"}),re.createElement(nC,op({},Q,{width:k,height:O,title:q,desc:z,style:VRe}),this.renderClipPath(),bV(R,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}]),E})(W.Component),Ke(n,"displayName",r),Ke(n,"defaultProps",xe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},g)),Ke(n,"getDerivedStateFromProps",function(A,E){var M=A.dataKey,I=A.data,N=A.children,C=A.width,R=A.height,U=A.layout,k=A.stackOffset,O=A.margin,V=E.dataStartIndex,F=E.dataEndIndex;if(E.updateId===void 0){var q=FB(A);return xe(xe(xe({},q),{},{updateId:0},S(xe(xe({props:A},q),{},{updateId:0}),E)),{},{prevDataKey:M,prevData:I,prevWidth:C,prevHeight:R,prevLayout:U,prevStackOffset:k,prevMargin:O,prevChildren:N})}if(M!==E.prevDataKey||I!==E.prevData||C!==E.prevWidth||R!==E.prevHeight||U!==E.prevLayout||k!==E.prevStackOffset||!hf(O,E.prevMargin)){var z=FB(A),B={chartX:E.chartX,chartY:E.chartY,isTooltipActive:E.isTooltipActive},Q=xe(xe({},BB(E,I,U)),{},{updateId:E.updateId+1}),oe=xe(xe(xe({},z),B),Q);return xe(xe(xe({},oe),S(xe({props:A},oe),E)),{},{prevDataKey:M,prevData:I,prevWidth:C,prevHeight:R,prevLayout:U,prevStackOffset:k,prevMargin:O,prevChildren:N})}if(!eC(N,E.prevChildren)){var K,X,te,ce,Y=Yr(N,Df),L=Y&&(K=(X=Y.props)===null||X===void 0?void 0:X.startIndex)!==null&&K!==void 0?K:V,G=Y&&(te=(ce=Y.props)===null||ce===void 0?void 0:ce.endIndex)!==null&&te!==void 0?te:F,ee=L!==V||G!==F,ae=!yt(I),ge=ae&&!ee?E.updateId:E.updateId+1;return xe(xe({updateId:ge},S(xe(xe({props:A},E),{},{updateId:ge,dataStartIndex:L,dataEndIndex:G}),E)),{},{prevChildren:N,dataStartIndex:L,dataEndIndex:G})}return null}),Ke(n,"renderActiveDot",function(A,E){var M;return W.isValidElement(A)?M=W.cloneElement(A,E):ut(A)?M=A(E):M=re.createElement(HR,E),re.createElement(tn,{className:"recharts-active-dot",key:E.key},M)}),n},WRe=KRe({chartName:"AreaChart",GraphicalChild:yl,axisComponents:[{axisType:"xAxis",AxisComp:XR},{axisType:"yAxis",AxisComp:JR}],formatAxisMap:WIe});const Gy=({label:t,value:e,trend:n,subLabel:r,color:i,data:o})=>{const l={cyan:{blob:"bg-cyan-500/10",hover:"group-hover:bg-cyan-500/20",stroke:"#06b6d4",fill:"#06b6d4"},purple:{blob:"bg-purple-500/10",hover:"group-hover:bg-purple-500/20",stroke:"#a855f7",fill:"#a855f7"},green:{blob:"bg-green-500/10",hover:"group-hover:bg-green-500/20",stroke:"#22c55e",fill:"#22c55e"},yellow:{blob:"bg-yellow-500/10",hover:"group-hover:bg-yellow-500/20",stroke:"#eab308",fill:"#eab308"}}[i];return v.jsxs("div",{className:"relative overflow-hidden group bg-black/40 border border-white/10 rounded-xl h-40 flex flex-col justify-between shadow-lg",children:[v.jsx("div",{className:`absolute top-0 right-0 w-32 h-32 rounded-full blur-3xl -mr-10 -mt-10 transition-all opacity-50 ${l.blob} ${l.hover}`}),v.jsxs("div",{className:"relative z-20 p-5 h-full flex flex-col justify-start",children:[v.jsx("h3",{className:"text-[10px] font-mono text-white/40 uppercase tracking-widest mb-1",children:t}),v.jsxs("div",{className:"flex items-baseline gap-2",children:[v.jsx("span",{className:"text-3xl font-bold font-mono tracking-tight text-white",children:e}),n&&v.jsx("span",{className:`text-[10px] font-mono ${n.startsWith("+")?"text-green-400":"text-red-400"}`,children:n})]}),r&&v.jsx("p",{className:"text-[10px] text-white/30 mt-1 font-mono",children:r})]}),o&&v.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 z-10 opacity-40 group-hover:opacity-60 transition-all duration-500 translate-y-2 group-hover:translate-y-0",children:v.jsx(zxe,{width:"100%",height:"100%",children:v.jsxs(WRe,{data:o,margin:{top:0,right:0,left:0,bottom:0},children:[v.jsx("defs",{children:v.jsxs("linearGradient",{id:`gradient-${i}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[v.jsx("stop",{offset:"5%",stopColor:l.stroke,stopOpacity:.8}),v.jsx("stop",{offset:"95%",stopColor:l.stroke,stopOpacity:0})]})}),v.jsx(yl,{type:"monotone",dataKey:"value",stroke:l.stroke,strokeWidth:2,fillOpacity:1,fill:`url(#gradient-${i})`,isAnimationActive:!0})]})})})]})},BS=({status:t})=>{const e={ACTIVE:"bg-green-500/10 text-green-400 border-green-500/20 shadow-[0_0_10px_rgba(34,197,94,0.1)]",BANNED:"bg-red-500/10 text-red-400 border-red-500/20",SHADOW_BANNED:"bg-purple-500/10 text-purple-400 border-purple-500/20",PENDING:"bg-yellow-500/10 text-yellow-400 border-yellow-500/20 animate-pulse",VERIFIED:"bg-cyan-500/10 text-cyan-400 border-cyan-500/20",UNVERIFIED:"bg-white/5 text-white/40 border-white/10"},n=e[t]||e.UNVERIFIED;return v.jsx("span",{className:`px-2 py-0.5 rounded-sm text-[9px] font-mono border uppercase tracking-wider ${n}`,children:t.replace("_"," ")})},YRe=({user:t,onClose:e,onBan:n})=>{if(!t)return null;const r=[];return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:v.jsxs("div",{className:"w-full max-w-2xl bg-[#09090b] border border-white/10 rounded-xl overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"p-4 border-b border-white/10 flex justify-between items-center bg-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx(MA,{className:"text-yellow-500",size:20}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-mono text-sm font-bold text-white",children:"MESSAGE_INSPECTOR"}),v.jsxs("p",{className:"text-[10px] text-white/40 font-mono uppercase",children:["TARGET: ",t.name," (",t.id,")"]})]})]}),v.jsx("button",{onClick:e,className:"p-1 hover:bg-white/10 rounded text-white/60 hover:text-white",children:v.jsx(Dr,{size:20})})]}),v.jsx("div",{className:"p-4 h-96 overflow-y-auto space-y-3 font-mono text-xs bg-black/50",children:r.length===0?v.jsx("div",{className:"flex items-center justify-center h-full text-white/30 italic",children:"No recent message logs found for this user."}):r.map(i=>v.jsxs("div",{className:`flex gap-3 ${i.type==="alert"?"bg-red-500/10 border border-red-500/20 p-2 rounded":""}`,children:[v.jsx("span",{className:"text-white/30 shrink-0 w-16",children:i.time}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("span",{className:`font-bold mr-2 ${i.sender==="System"?"text-red-400":"text-cyan-400"}`,children:["[",i.sender,"]:"]}),v.jsx("span",{className:i.risk==="high"?"text-red-300":"text-white/70",children:i.text})]})]},i.id))}),v.jsxs("div",{className:"p-3 border-t border-white/10 bg-white/5 flex justify-end gap-2",children:[v.jsx(Jt,{variant:"ghost",onClick:e,className:"h-8 text-xs",children:"Close"}),v.jsx(Jt,{variant:"primary",className:"h-8 text-xs bg-red-600 hover:bg-red-700 border-none shadow-none text-white",onClick:()=>{n(t.id),e()},children:"Ban User"})]})]})})},XRe=({user:t,onClose:e,onConfirm:n})=>{if(!t)return null;const r=["Invalid Document","Blurry Image","Business Not Found","Suspicious Activity","Other"],[i,o]=W.useState(r[0]);return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4",children:v.jsxs("div",{className:"w-full max-w-md bg-[#09090b] border border-white/10 rounded-xl shadow-2xl",children:[v.jsx("div",{className:"p-4 border-b border-white/10",children:v.jsx("h3",{className:"font-mono text-sm font-bold text-white",children:"REJECT_VERIFICATION"})}),v.jsxs("div",{className:"p-6 space-y-4",children:[v.jsxs("p",{className:"text-sm text-white/70",children:["Select a reason for rejecting ",v.jsx("span",{className:"text-white font-bold",children:t.name}),":"]}),v.jsx("div",{className:"space-y-2",children:r.map(s=>v.jsxs("label",{className:"flex items-center gap-3 p-3 rounded border border-white/10 hover:bg-white/5 cursor-pointer transition-colors",children:[v.jsx("input",{type:"radio",name:"reason",checked:i===s,onChange:()=>o(s),className:"accent-red-500"}),v.jsx("span",{className:"text-sm text-white/80",children:s})]},s))})]}),v.jsxs("div",{className:"p-4 border-t border-white/10 flex justify-end gap-3",children:[v.jsx(Jt,{variant:"ghost",onClick:e,className:"h-9",children:"Cancel"}),v.jsx(Jt,{onClick:()=>n(i),className:"h-9 bg-red-500 hover:bg-red-600 border-none text-white shadow-none",children:"Confirm Rejection"})]})]})})},Hy=(t,e)=>Array.from({length:15},(n,r)=>({value:Math.max(0,t+Math.sin(r/2)*e+(Math.random()-.5)*e)})),JRe=({onLogout:t})=>{const[e,n]=W.useState("overview"),[r,i]=W.useState(null),[o,s]=W.useState([]),[l,c]=W.useState(!0),[f,h]=W.useState(""),[p,g]=W.useState(!1),[_,S]=W.useState([]),[A,E]=W.useState(null),[M,I]=W.useState(null),[N,C]=W.useState("ALL"),[R,U]=W.useState(!1),[k,O]=W.useState(!1),[V,F]=W.useState(!1),[q,z]=W.useState({});W.useEffect(()=>{B(),z({users:Hy(150,20),revenue:Hy(5e3,1e3),matches:Hy(40,10),verifications:Hy(10,5)})},[]);const B=async()=>{c(!0);const[G,ee]=await Promise.all([Zt.getAdminStats(),Zt.getAllUsers()]);i(G),s(ee),c(!1)},Q=async()=>{window.confirm("This will inject mock data into Firestore. Continue?")&&(g(!0),await Zt.seedDatabase(),await B(),g(!1))},oe=async(G,ee,ae)=>{s(ge=>ge.map(we=>we.id===G?{...we,verificationStatus:ee?lr.VERIFIED:lr.REJECTED}:we)),await Zt.verifyUser(G,ee),I(null),Zt.getAdminStats().then(i)},K=async G=>{s(ee=>ee.map(ae=>ae.id===G?{...ae,status:ar.BANNED}:ae)),await Zt.updateUserStatus(G,ar.BANNED)},X=async G=>{s(ee=>ee.map(ae=>ae.id===G?{...ae,status:ae.status===ar.SHADOW_BANNED?ar.ACTIVE:ar.SHADOW_BANNED}:ae))},te=()=>{_.length===Y.length?S([]):S(Y.map(G=>G.id))},ce=G=>{_.includes(G)?S(ee=>ee.filter(ae=>ae!==G)):S(ee=>[...ee,G])};let Y=o.filter(G=>G.name.toLowerCase().includes(f.toLowerCase())||G.email.toLowerCase().includes(f.toLowerCase()));N!=="ALL"&&(Y=Y.filter(G=>G.role===N)),R&&(Y=Y.filter(G=>G.role===Fe.BUSINESS&&G.verificationStatus!==lr.VERIFIED)),V&&(Y=Y.filter(G=>G.verificationStatus===lr.VERIFIED)),k&&(Y=Y.filter(G=>G.reportCount>0));const L=o.filter(G=>G.verificationStatus===lr.PENDING);return v.jsxs("div",{className:"flex h-screen w-screen bg-[#050505] text-white font-sans overflow-hidden",children:[v.jsxs(qe.div,{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},className:"w-20 lg:w-64 border-r border-white/5 flex flex-col bg-black z-20",children:[v.jsxs("div",{className:"p-6 flex items-center gap-3 border-b border-white/5",children:[v.jsx("div",{className:"w-8 h-8 rounded flex items-center justify-center font-bold text-white",children:v.jsx("img",{src:Mo,className:"h-8 w-auto object-contain",alt:"Ping Admin"})}),v.jsxs("div",{className:"hidden lg:block",children:[v.jsx("span",{className:"font-bold text-lg tracking-tight text-white",children:"GOD_MODE"}),v.jsx("span",{className:"block text-[9px] text-cyan-500 font-mono tracking-widest",children:"V2.0.4 ACCESS GRANTED"})]})]}),v.jsx("nav",{className:"flex-1 px-3 space-y-1 mt-6",children:[{id:"overview",icon:due,label:"COCKPIT"},{id:"users",icon:DA,label:"USER_GRID"},{id:"verifications",icon:Mw,label:"VERIFICATION",badge:r==null?void 0:r.pendingVerifications},{id:"reports",icon:MA,label:"SAFETY_LOG"}].map(G=>v.jsxs("button",{onClick:()=>n(G.id),className:`
                w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-all relative group font-mono text-xs
                ${e===G.id?"bg-cyan-950/30 text-cyan-400 border border-cyan-900/50":"text-white/40 hover:text-white hover:bg-white/5 border border-transparent"}
              `,children:[v.jsx(G.icon,{size:16}),v.jsx("span",{className:"hidden lg:block tracking-wide",children:G.label}),G.badge?v.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 w-5 h-5 bg-red-500 rounded text-[9px] text-white font-bold flex items-center justify-center shadow-[0_0_10px_rgba(239,68,68,0.4)]",children:G.badge}):null]},G.id))}),v.jsxs("div",{className:"p-4 border-t border-white/5 space-y-2",children:[v.jsxs("button",{onClick:Q,disabled:p,className:"flex items-center gap-3 px-4 py-3 text-orange-500/60 hover:text-orange-500 hover:bg-orange-500/10 w-full rounded-lg transition-colors font-mono text-xs border border-transparent hover:border-orange-500/20",children:[p?v.jsx(jv,{size:16,className:"animate-spin"}):v.jsx(nue,{size:16}),v.jsx("span",{className:"hidden lg:block",children:p?"SEEDING...":"SEED_DATABASE"})]}),v.jsxs("button",{onClick:t,className:"flex items-center gap-3 px-4 py-3 text-red-500/60 hover:text-red-500 hover:bg-red-500/10 w-full rounded-lg transition-colors font-mono text-xs border border-transparent hover:border-red-500/20",children:[v.jsx(CL,{size:16}),v.jsx("span",{className:"hidden lg:block",children:"TERMINATE_SESSION"})]})]})]}),v.jsxs("div",{className:"flex-1 flex flex-col h-full relative overflow-hidden bg-[#0a0a0a]",children:[v.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(0,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(0,255,255,0.02)_1px,transparent_1px)] bg-[size:40px_40px]"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-transparent to-black pointer-events-none"}),v.jsxs("header",{className:"h-16 border-b border-white/5 flex items-center justify-between px-8 bg-black/60 backdrop-blur-md z-10 shrink-0",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsxs("div",{className:"flex items-center gap-2 text-[10px] font-mono text-white/30",children:[v.jsx("span",{className:`w-2 h-2 rounded-full ${l?"bg-yellow-500 animate-bounce":"bg-green-500 animate-pulse"}`}),"SYSTEM STATUS: ",l?"LOADING_RESOURCES":"ONLINE"]}),v.jsx("div",{className:"h-4 w-px bg-white/10"}),v.jsx("div",{className:"text-[10px] font-mono text-white/30",children:"LATENCY: 24ms"})]}),v.jsx("div",{className:"flex items-center gap-4",children:v.jsxs("div",{className:"relative group",children:[v.jsx(D$,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-cyan-500/50 group-focus-within:text-cyan-400 transition-colors"}),v.jsx("input",{type:"text",value:f,onChange:G=>h(G.target.value),placeholder:"QUERY_DB...",className:"bg-black border border-white/10 rounded-none pl-9 pr-4 py-2 text-xs font-mono text-white focus:outline-none focus:border-cyan-500/50 w-64 transition-all placeholder:text-white/20"})]})})]}),v.jsx("div",{className:"flex-1 overflow-y-auto p-8 relative z-0 no-scrollbar",children:l?v.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-cyan-500/50 space-y-4",children:[v.jsx(jv,{size:40,className:"animate-spin"}),v.jsx("p",{className:"font-mono text-xs tracking-widest animate-pulse",children:"ESTABLISHING UPLINK..."})]}):v.jsxs(dr,{mode:"wait",children:[e==="overview"&&r&&v.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"space-y-6",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[v.jsx(Gy,{label:"Total Users",value:r.totalUsers,trend:"+12.5%",subLabel:`${r.split.business} BIZ / ${r.split.influencer} INF`,color:"cyan",data:q.users}),v.jsx(Gy,{label:"Monthly Revenue",value:`$${r.revenue.toLocaleString()}`,trend:"+8.2%",subLabel:"STRIPE VOL",color:"purple",data:q.revenue}),v.jsx(Gy,{label:"Active Matches",value:r.activeMatches,trend:"+24 today",subLabel:"CONVERSATIONS",color:"green",data:q.matches}),v.jsx(Gy,{label:"Verification Q",value:r.pendingVerifications,subLabel:"REQUIRES ACTION",color:"yellow",data:q.verifications})]}),v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[v.jsxs("div",{className:"lg:col-span-2 p-6 min-h-[400px] flex flex-col bg-black/40 border border-white/10 rounded-xl relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-cyan-500 to-purple-500 opacity-50"}),v.jsxs("div",{className:"flex items-center justify-between mb-8",children:[v.jsx("h3",{className:"font-mono font-bold text-sm text-white",children:"GROWTH_METRICS"}),v.jsx("div",{className:"flex gap-1",children:["1D","1W","1M","1Y"].map(G=>v.jsx("button",{className:"text-[10px] font-mono px-3 py-1 rounded-sm bg-white/5 hover:bg-cyan-500/20 hover:text-cyan-400 border border-transparent hover:border-cyan-500/30 transition-all text-white/50",children:G},G))})]}),v.jsx("div",{className:"flex-1 flex items-end gap-1 px-2 border-b border-white/5 pb-2",children:[30,45,35,60,55,70,85,80,95,100,90,110,95,105,115,120].map((G,ee)=>v.jsx("div",{className:"flex-1 bg-cyan-500/20 hover:bg-cyan-400/80 transition-all duration-300 relative group",style:{height:`${G*.7}%`},children:v.jsxs("div",{className:"opacity-0 group-hover:opacity-100 absolute -top-8 left-1/2 -translate-x-1/2 bg-black text-[9px] px-2 py-1 border border-cyan-500/30 text-cyan-400 font-mono whitespace-nowrap z-10 pointer-events-none",children:["DATA: ",G*12]})},ee))})]}),v.jsxs("div",{className:"bg-black/40 border border-white/10 rounded-xl overflow-hidden flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b border-white/10 bg-white/5 flex justify-between items-center",children:[v.jsx("h3",{className:"font-mono font-bold text-sm text-white",children:"SYSTEM_LOGS"}),v.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})]}),v.jsx("div",{className:"flex-1 p-0 overflow-y-auto font-mono text-xs",children:[1,2,3,4,5,6,7,8].map(G=>v.jsxs("div",{className:"flex items-start gap-3 p-3 border-b border-white/5 hover:bg-white/5 transition-colors cursor-default",children:[v.jsxs("span",{className:"text-white/30 text-[10px] mt-0.5",children:["09:4",G,":12"]}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-white/80",children:["User ",v.jsx("span",{className:"text-cyan-400",children:"#8392"})," verified."]}),v.jsxs("p",{className:"text-[9px] text-white/30 mt-0.5",children:["ADMIN_ACTION  IP 192.168.1.",G]})]})]},G))})]})]})]},"overview"),e==="users"&&v.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"h-full flex flex-col",children:v.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col bg-black/40 border border-white/10 rounded-xl",children:[v.jsxs("div",{className:"p-4 border-b border-white/10 flex items-center justify-between bg-white/5",children:[v.jsx("h3",{className:"font-mono font-bold text-sm tracking-widest text-white",children:"DATABASE_RECORDS"}),v.jsxs("div",{className:"flex gap-2",children:[v.jsxs("button",{onClick:()=>{const G=N==="ALL"?Fe.BUSINESS:N===Fe.BUSINESS?Fe.INFLUENCER:"ALL";C(G)},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${N!=="ALL"?"bg-indigo-500/10 border-indigo-500/50 text-indigo-400":"border-white/10 text-white/50 hover:text-white"}`,children:[N===Fe.BUSINESS?v.jsx(rl,{size:12}):v.jsx(DA,{size:12}),N==="ALL"?"FILTER: ROLE":N===Fe.BUSINESS?"ROLE: BRAND":"ROLE: CREATOR"]}),v.jsxs("button",{onClick:()=>{O(!k),k||U(!1)},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${k?"bg-red-500/10 border-red-500/50 text-red-400":"border-white/10 text-white/50 hover:text-white"}`,children:[v.jsx(RA,{size:12})," ",k?"FILTER: REPORTED":"SHOW REPORTED"]}),v.jsxs("button",{onClick:()=>{F(!V),V||U(!1)},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${V?"bg-green-500/10 border-green-500/50 text-green-400":"border-white/10 text-white/50 hover:text-white"}`,children:[v.jsx(VN,{size:12})," ",V?"FILTER: VERIFIED":"SHOW VERIFIED"]}),v.jsxs("button",{onClick:()=>{U(!R),R||(O(!1),F(!1))},className:`text-[10px] font-mono px-3 py-1.5 flex items-center gap-2 border transition-all ${R?"bg-yellow-500/10 border-yellow-500/50 text-yellow-400":"border-white/10 text-white/50 hover:text-white"}`,children:[v.jsx(R$,{size:12})," ",R?"FILTER: UNVERIFIED BIZ":"FILTER: UNVERIFIED"]})]})]}),v.jsx("div",{className:"flex-1 overflow-auto",children:v.jsxs("table",{className:"w-full text-left border-collapse",children:[v.jsx("thead",{className:"bg-black sticky top-0 z-10",children:v.jsxs("tr",{children:[v.jsx("th",{className:"p-4 border-b border-white/10 w-10",children:v.jsx("input",{type:"checkbox",checked:_.length===Y.length&&Y.length>0,onChange:te,className:"accent-cyan-500 bg-transparent border-white/20"})}),v.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Entity"}),v.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Role"}),v.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"AI Score"}),v.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Status"}),v.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal",children:"Verification"}),v.jsx("th",{className:"p-4 border-b border-white/10 text-[10px] font-mono text-cyan-500/70 uppercase tracking-widest font-normal text-right",children:"Control"})]})}),v.jsx("tbody",{className:"divide-y divide-white/5 text-xs font-mono",children:Y.map(G=>v.jsxs("tr",{className:`hover:bg-cyan-500/5 transition-colors group ${_.includes(G.id)?"bg-cyan-500/10":""}`,children:[v.jsx("td",{className:"p-4",children:v.jsx("input",{type:"checkbox",checked:_.includes(G.id),onChange:()=>ce(G.id),className:"accent-cyan-500"})}),v.jsx("td",{className:"p-4",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("div",{className:"w-8 h-8 rounded bg-white/10 overflow-hidden relative",children:[v.jsx("img",{src:G.avatar,className:"w-full h-full object-cover opacity-80"}),G.status===ar.SHADOW_BANNED&&v.jsx("div",{className:"absolute inset-0 bg-purple-500/50 flex items-center justify-center",children:v.jsx(Ow,{size:14,className:"text-white"})})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"font-bold text-white tracking-tight flex items-center gap-2",children:[G.name,G.reportCount>0&&v.jsxs("div",{className:"bg-red-500/20 text-red-400 border border-red-500/30 px-1.5 py-0.5 rounded text-[9px] font-mono flex items-center gap-1",children:[v.jsx(RA,{size:8})," ",G.reportCount]})]}),v.jsx("div",{className:"text-[10px] text-white/30",children:G.email})]})]})}),v.jsx("td",{className:"p-4",children:v.jsx("span",{className:`text-[9px] px-1.5 py-0.5 border ${G.role===Fe.BUSINESS?"border-blue-500/30 text-blue-400":"border-purple-500/30 text-purple-400"}`,children:G.role})}),v.jsx("td",{className:"p-4",children:G.aiMatchScore?v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("span",{className:`font-mono text-xs ${G.aiMatchScore>80?"text-green-400":"text-white/60"}`,children:[G.aiMatchScore,"%"]}),v.jsx("div",{className:"w-12 h-1 bg-white/10 rounded-full overflow-hidden",children:v.jsx("div",{className:`h-full ${G.aiMatchScore>80?"bg-green-500":"bg-yellow-500"}`,style:{width:`${G.aiMatchScore}%`}})})]}):v.jsx("span",{className:"font-mono text-xs text-white/20",children:"N/A"})}),v.jsx("td",{className:"p-4",children:v.jsx(BS,{status:G.status})}),v.jsx("td",{className:"p-4",children:v.jsx(BS,{status:G.verificationStatus})}),v.jsx("td",{className:"p-4 text-right",children:v.jsxs("div",{className:"flex items-center justify-end gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[v.jsx("button",{onClick:()=>E(G),className:"p-1.5 hover:bg-cyan-500/20 rounded text-cyan-500/60 hover:text-cyan-400",title:"Inspect Messages",children:v.jsx(mue,{size:14})}),v.jsx("button",{onClick:()=>X(G.id),className:`p-1.5 hover:bg-purple-500/20 rounded transition-colors ${G.status===ar.SHADOW_BANNED?"text-purple-400 bg-purple-500/10":"text-purple-500/60 hover:text-purple-400"}`,title:"Shadow Ban",children:v.jsx(Ow,{size:14})}),v.jsx("button",{onClick:()=>K(G.id),className:"p-1.5 hover:bg-red-500/20 rounded text-red-500/60 hover:text-red-500",title:"Ban User",children:v.jsx(CL,{size:14})})]})})]},G.id))})]})}),v.jsx(dr,{children:_.length>0&&v.jsxs(qe.div,{initial:{y:100},animate:{y:0},exit:{y:100},className:"absolute bottom-6 left-1/2 -translate-x-1/2 bg-[#09090b] border border-cyan-500/30 shadow-[0_0_30px_rgba(6,182,212,0.2)] rounded-full px-6 py-3 flex items-center gap-4 z-30",children:[v.jsxs("span",{className:"text-xs font-mono text-cyan-400",children:[_.length," SELECTED"]}),v.jsx("div",{className:"h-4 w-px bg-white/10"}),v.jsxs("button",{className:"text-xs font-mono text-white/70 hover:text-white flex items-center gap-2",children:[v.jsx(Mw,{size:14})," VERIFY"]}),v.jsxs("button",{className:"text-xs font-mono text-white/70 hover:text-white flex items-center gap-2",children:[v.jsx(Ow,{size:14})," SHADOW"]}),v.jsxs("button",{className:"text-xs font-mono text-red-400 hover:text-red-300 flex items-center gap-2",children:[v.jsx(OA,{size:14})," DELETE"]}),v.jsx("button",{onClick:()=>S([]),className:"ml-2 p-1 hover:bg-white/10 rounded-full",children:v.jsx(Dr,{size:14})})]})})]})},"users"),e==="verifications"&&v.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 xl:grid-cols-2 gap-6",children:L.length===0?v.jsxs("div",{className:"col-span-full flex flex-col items-center justify-center py-32 opacity-30",children:[v.jsx(Mw,{size:64,className:"text-green-500 mb-6"}),v.jsx("h2",{className:"text-2xl font-mono font-bold tracking-widest",children:"QUEUE_EMPTY"}),v.jsx("p",{className:"font-mono text-sm mt-2",children:"ALL TASKS COMPLETED"})]}):L.map(G=>v.jsxs("div",{className:"relative bg-black/40 border border-white/10 rounded-xl overflow-hidden group",children:[v.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-yellow-500"}),v.jsxs("div",{className:"p-6 flex flex-col gap-6",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsxs("div",{className:"flex gap-4",children:[v.jsx("img",{src:G.avatar,className:"w-16 h-16 rounded object-cover border border-white/10"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-white text-lg tracking-tight",children:G.name}),v.jsx("p",{className:"text-xs font-mono text-white/50",children:G.email}),v.jsx("div",{className:"mt-2",children:v.jsx(BS,{status:"PENDING_REVIEW"})})]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-[10px] font-mono text-white/30",children:"REQ_ID"}),v.jsxs("div",{className:"font-mono text-white/60",children:["#",G.id.slice(0,6).toUpperCase()]})]})]}),v.jsxs("div",{className:"bg-[#050505] border border-white/10 rounded p-4",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsxs("span",{className:"text-[10px] font-mono font-bold text-white/40 uppercase flex items-center gap-2",children:[v.jsx(LN,{size:12})," Supporting_Doc_01.pdf"]}),v.jsx("a",{href:"#",className:"text-[10px] font-mono text-cyan-400 hover:underline",children:"OPEN_SOURCE"})]}),G.docUrl?v.jsx("div",{className:"relative h-40 group-hover:h-64 transition-all duration-500 overflow-hidden rounded border border-white/5",children:v.jsx("img",{src:G.docUrl,className:"w-full h-full object-cover opacity-60 hover:opacity-100 transition-opacity"})}):v.jsx("div",{className:"h-32 flex items-center justify-center border border-white/5 border-dashed rounded text-white/20 font-mono text-xs",children:"NO_PREVIEW_AVAILABLE"})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("button",{onClick:()=>I(G),className:"flex items-center justify-center gap-2 py-3 rounded bg-red-500/5 border border-red-500/20 text-red-500 font-mono text-xs font-bold hover:bg-red-500/10 transition-all",children:[v.jsx(Dr,{size:14})," REJECT"]}),v.jsxs("button",{onClick:()=>oe(G.id,!0),className:"flex items-center justify-center gap-2 py-3 rounded bg-green-500/5 border border-green-500/20 text-green-500 font-mono text-xs font-bold hover:bg-green-500/10 transition-all shadow-[0_0_15px_rgba(34,197,94,0.05)]",children:[v.jsx(bu,{size:14})," APPROVE"]})]})]})]},G.id))},"verifications"),e==="reports"&&v.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center h-full text-white/20",children:[v.jsx(MA,{size:64,className:"mb-4"}),v.jsx("p",{className:"font-mono text-sm tracking-widest",children:"SYSTEM_SECURE"}),v.jsx("p",{className:"font-mono text-xs mt-2",children:"NO CRITICAL ALERTS LOGGED"})]})]})}),v.jsxs(dr,{children:[A&&v.jsx(YRe,{user:A,onClose:()=>E(null),onBan:K}),M&&v.jsx(XRe,{user:M,onClose:()=>I(null),onConfirm:G=>oe(M.id,!1)})]})]})]})},QRe=({index:t,image:e,isMain:n,onRemove:r,onAdd:i,isLoading:o})=>v.jsx("div",{className:`
        relative rounded-xl overflow-hidden bg-white/40 dark:bg-white/5 border-2 
        ${n?"border-pink-500/50 shadow-[0_0_15px_rgba(236,72,153,0.2)] row-span-2 col-span-2":"border-dashed border-pink-200 dark:border-white/10"}
        group transition-all cursor-pointer
      `,onClick:s=>{!e&&!o&&i()},children:o?v.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-black/5 dark:bg-white/5",children:[v.jsx(jv,{className:"animate-spin text-pink-500 mb-2",size:n?32:20}),v.jsx("span",{className:"text-[10px] text-pink-500 font-bold",children:"Uploading..."})]}):e?v.jsxs("div",{onClick:i,className:"w-full h-full relative",children:[v.jsx("img",{src:e,className:"w-full h-full object-cover",draggable:!1}),v.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center pointer-events-none",children:v.jsxs("span",{className:"text-white text-xs font-bold bg-black/50 px-2 py-1 rounded-full border border-white/20 backdrop-blur-sm flex items-center gap-1",children:[v.jsx(uue,{size:12})," Replace"]})}),v.jsx("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto",onClick:s=>s.stopPropagation(),children:v.jsx("button",{onClick:s=>{s.stopPropagation(),r()},className:"bg-black/60 text-white rounded-full p-1 hover:bg-red-500 transition-colors",children:v.jsx(Dr,{size:14})})}),n&&v.jsx("div",{className:"absolute bottom-2 left-2 bg-pink-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full uppercase tracking-wide pointer-events-none",children:"Main"}),v.jsx("div",{className:"absolute bottom-1 right-1 bg-black/40 text-white/50 text-[10px] px-1.5 rounded pointer-events-none",children:t+1})]}):v.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-pink-300 dark:text-white/20 hover:text-pink-500 dark:hover:text-pink-400 hover:bg-pink-500/5 transition-all",children:[v.jsx(O$,{size:n?32:24}),n&&v.jsx("span",{className:"text-xs font-bold uppercase mt-2 tracking-widest",children:"Add Photo"})]})}),ZRe=({user:t,onSave:e,onCancel:n})=>{var te,ce,Y;const[r,i]=W.useState("edit"),[o,s]=W.useState({...t}),[l,c]=W.useState(!0),[f,h]=W.useState(""),[p,g]=W.useState(!1),[_,S]=W.useState(!1),[A,E]=W.useState([]),[M,I]=W.useState(!1),[N,C]=W.useState(null),R=W.useRef(null),[U,k]=W.useState(null);W.useEffect(()=>{s(t)},[t]);const O=(L,G)=>{s(ee=>({...ee,[L]:G})),C(null)},V=(L,G)=>{s(ee=>({...ee,socials:{...ee.socials,[L]:G}})),C(null)},F=async L=>{var G;if((G=L.target.files)!=null&&G[0]){const ee=L.target.files[0];if(ee.size>50*1024*1024){alert("Video too large.");return}g(!0);try{const ae=`users/${t.id}/videos/${Date.now()}_${ee.name}`,ge=await Zt.uploadFile(ee,ae);O("introVideoUrl",ge)}catch(ae){console.error("Video Upload Failed",ae),alert("Failed to upload video")}finally{g(!1)}}},q=async L=>{var G;if((G=L.target.files)!=null&&G[0]){const ee=L.target.files[0];S(!0);try{const ae=`users/${t.id}/audio/${Date.now()}_${ee.name}`,ge=await Zt.uploadFile(ee,ae);O("voiceIntroUrl",ge)}catch(ae){console.error("Audio Upload Failed",ae),alert("Failed to upload audio")}finally{S(!1)}}},z=L=>{var G;k(L),(G=R.current)==null||G.click()},B=async L=>{var G;if((G=L.target.files)!=null&&G[0]&&U!==null){const ee=L.target.files[0],ae=U;E(ge=>[...ge,ae]),k(null);try{const ge=`users/${t.id}/images/${Date.now()}_${ee.name}`,we=await Zt.uploadFile(ee,ge);if(ae===0)O("avatar",we);else{const Te=[...o.portfolio||[]],Re=ae-1;for(;Te.length<Re;)Te.push("");Te[Re]=we,O("portfolio",Te)}}catch(ge){console.error("Image Upload Failed",ge),alert("Failed to upload image. Please try again.")}finally{E(ge=>ge.filter(we=>we!==ae)),R.current&&(R.current.value="")}}},Q=L=>{if(L===0)O("avatar","https://picsum.photos/200/200");else{const G=(o.portfolio||[]).filter((ee,ae)=>ae!==L-1);O("portfolio",G)}},oe=L=>L===0?o.avatar:o.portfolio?o.portfolio[L-1]:null,K=async()=>{I(!0);const L=await L8.generateBio(o);O("bio",L),I(!1)},X=()=>{var L,G;if(!((L=o.name)!=null&&L.trim())){C("Display Name is required."),i("edit");return}if(!((G=o.bio)!=null&&G.trim())){C("Bio is required."),i("edit");return}e(o)};return v.jsxs("div",{className:"h-full flex flex-col bg-white dark:bg-[#0f0c29] text-gray-900 dark:text-white transition-colors duration-300",children:[v.jsx("input",{type:"file",ref:R,className:"hidden",accept:"image/*",onChange:B}),v.jsxs("div",{className:"sticky top-0 z-40 bg-white/90 dark:bg-[#0f0c29]/90 backdrop-blur-xl border-b border-pink-100 dark:border-white/5 pb-0 transition-colors duration-300",children:[v.jsxs("div",{className:"px-4 py-3 flex justify-between items-center",children:[v.jsx("button",{onClick:n,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-700 dark:text-white/80 transition-colors",children:v.jsx(Yf,{size:24})}),v.jsx("h2",{className:"text-lg font-bold",children:"Edit Profile"}),v.jsx("button",{onClick:X,className:"text-sm font-bold bg-black text-white px-4 py-2 rounded-full shadow-lg hover:scale-105 active:scale-95 transition-all",children:"Save"})]}),v.jsxs("div",{className:"flex px-6 gap-6 mt-2 overflow-x-auto no-scrollbar",children:[v.jsx("button",{onClick:()=>i("edit"),className:`pb-3 text-sm font-bold border-b-2 whitespace-nowrap transition-colors ${r==="edit"?"border-pink-500 text-pink-500":"border-transparent text-gray-500 dark:text-white/40"}`,children:"Edit Info"}),v.jsx("button",{onClick:()=>i("location"),className:`pb-3 text-sm font-bold border-b-2 whitespace-nowrap transition-colors ${r==="location"?"border-pink-500 text-pink-500":"border-transparent text-gray-500 dark:text-white/40"}`,children:"Location"}),v.jsx("button",{onClick:()=>i("preview"),className:`pb-3 text-sm font-bold border-b-2 whitespace-nowrap transition-colors ${r==="preview"?"border-pink-500 text-pink-500":"border-transparent text-gray-500 dark:text-white/40"}`,children:"Preview Card"})]})]}),v.jsx("div",{className:"flex-1 overflow-y-auto no-scrollbar relative",children:v.jsxs(dr,{mode:"wait",children:[r==="edit"&&v.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"p-6 space-y-8 pb-32",children:[v.jsx(dr,{children:N&&v.jsxs(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-500/20 rounded-xl p-4 flex items-center gap-3 text-red-600 dark:text-red-400 mb-2",children:[v.jsx(C$,{size:18}),v.jsx("span",{className:"text-sm font-bold",children:N})]})}),v.jsxs("section",{className:"space-y-4",children:[v.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["Basic Info ",v.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),v.jsxs("div",{className:"relative",children:[v.jsx(j$,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",size:16}),v.jsx("input",{type:"text",value:o.name||"",onChange:L=>O("name",L.target.value),placeholder:"Display Name",className:`w-full bg-gray-50 dark:bg-white/5 border rounded-xl pl-12 pr-4 py-3 text-sm focus:outline-none transition-colors font-bold text-lg ${!((te=o.name)!=null&&te.trim())&&(N!=null&&N.includes("Name"))?"border-red-500":"border-pink-100 dark:border-white/10 focus:border-pink-500"}`})]})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["Profile Photos ",v.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),v.jsxs("button",{onClick:()=>c(!l),className:"flex items-center gap-2 text-xs font-bold text-pink-500",children:[v.jsx("div",{className:`w-8 h-4 rounded-full relative transition-colors ${l?"bg-pink-500":"bg-gray-400"}`,children:v.jsx("div",{className:`absolute top-0.5 w-3 h-3 bg-white rounded-full transition-all ${l?"left-4.5":"left-0.5"}`,style:{left:l?"18px":"2px"}})}),"Smart Photos"]})]}),v.jsx("div",{className:`grid grid-cols-3 grid-rows-3 gap-3 aspect-square p-2 rounded-2xl border-2 transition-colors ${N!=null&&N.includes("photos")?"border-red-500/50 bg-red-500/5":"border-transparent"}`,children:[0,1,2,3,4,5].map(L=>v.jsx(QRe,{index:L,image:oe(L),isMain:L===0,onRemove:()=>Q(L),onAdd:()=>z(L),isLoading:A.includes(L)},L))}),v.jsx("p",{className:`text-xs text-center font-bold tracking-wide ${N!=null&&N.includes("photos")?"text-red-500":"text-gray-400 dark:text-white/30"}`,children:"Minimum 5 photos recommended."})]}),v.jsxs("section",{className:"grid grid-cols-2 gap-3",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest flex items-center gap-2",children:[v.jsx(iue,{size:12})," Video Pitch"]}),o.introVideoUrl?v.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-black border border-pink-500/30 shadow-lg group",children:[v.jsx("video",{src:o.introVideoUrl,className:"w-full h-full object-cover",controls:!0,playsInline:!0}),v.jsx("button",{onClick:()=>O("introVideoUrl",void 0),className:"absolute top-2 right-2 bg-black/60 text-white p-2 rounded-full hover:bg-red-500 transition-colors backdrop-blur-md z-10",children:v.jsx(OA,{size:16})})]}):v.jsxs("div",{className:`relative border-2 border-dashed rounded-2xl h-32 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-pink-50/50 dark:hover:bg-white/5 transition-colors group ${N!=null&&N.includes("Video")?"border-red-500 bg-red-500/5":"border-pink-200 dark:border-white/10"}`,children:[v.jsx("input",{type:"file",accept:"video/*",onChange:F,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:p}),p?v.jsxs("div",{className:"flex flex-col items-center gap-2 text-pink-500",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-pink-500 border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-[10px] font-bold",children:"Uploading..."})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center mb-2 group-hover:scale-110 transition-transform ${N!=null&&N.includes("Video")?"bg-red-100 text-red-500":"bg-pink-100 dark:bg-white/10 text-pink-500"}`,children:v.jsx(B$,{size:16})}),v.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-white/80",children:"Add Video Intro"})]})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest flex items-center gap-2",children:[v.jsx(Zh,{size:12})," Voice Intro"]}),o.voiceIntroUrl?v.jsxs("div",{className:"relative aspect-square rounded-2xl overflow-hidden bg-purple-900/20 border border-purple-500/30 shadow-lg group flex flex-col items-center justify-center",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-purple-500 text-white flex items-center justify-center shadow-lg animate-pulse",children:v.jsx(Zh,{size:24})}),v.jsx("p",{className:"text-[10px] font-bold text-purple-400 mt-2",children:"Voice Active"}),v.jsx("button",{onClick:()=>O("voiceIntroUrl",void 0),className:"absolute top-2 right-2 bg-black/60 text-white p-2 rounded-full hover:bg-red-500 transition-colors backdrop-blur-md z-10",children:v.jsx(OA,{size:16})})]}):v.jsxs("div",{className:"relative border-2 border-dashed border-purple-200 dark:border-white/10 rounded-2xl h-32 flex flex-col items-center justify-center text-center cursor-pointer hover:bg-purple-50/50 dark:hover:bg-white/5 transition-colors group",children:[v.jsx("input",{type:"file",accept:"audio/*",onChange:q,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10",disabled:_}),_?v.jsxs("div",{className:"flex flex-col items-center gap-2 text-purple-500",children:[v.jsx("div",{className:"w-4 h-4 border-2 border-purple-500 border-t-transparent rounded-full animate-spin"}),v.jsx("span",{className:"text-[10px] font-bold",children:"Uploading..."})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 dark:bg-white/10 text-purple-500 flex items-center justify-center mb-2 group-hover:scale-110 transition-transform",children:v.jsx(Zh,{size:16})}),v.jsx("p",{className:"text-xs font-bold text-gray-600 dark:text-white/80",children:"Add Voice"})]})]})]})]}),v.jsxs("section",{className:"space-y-3",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["About Me ",v.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),v.jsx("button",{onClick:K,disabled:M,className:"flex items-center gap-1.5 text-[10px] font-bold text-white bg-gradient-to-r from-pink-500 to-orange-400 px-3 py-1.5 rounded-full shadow-lg hover:shadow-pink-500/20 active:scale-95 transition-all disabled:opacity-50",children:M?v.jsx(jv,{size:12,className:"animate-spin"}):v.jsxs(v.Fragment,{children:[v.jsx(Tf,{size:12,fill:"currentColor"})," Generate Bio"]})})]}),v.jsx("textarea",{value:o.bio||"",onChange:L=>O("bio",L.target.value),maxLength:500,className:`w-full h-32 bg-gray-50 dark:bg-white/5 border rounded-2xl p-4 text-sm focus:outline-none resize-none leading-relaxed transition-colors ${!((ce=o.bio)!=null&&ce.trim())&&(N!=null&&N.includes("Bio"))?"border-red-500":"border-pink-100 dark:border-white/10 focus:border-pink-500"}`,placeholder:"Write a catchy bio..."})]}),v.jsxs("section",{className:"space-y-4",children:[v.jsxs("h3",{className:"text-xs font-bold text-pink-800/50 dark:text-white/50 uppercase tracking-widest",children:["Social Links ",v.jsx("span",{className:"text-red-500 font-bold ml-0.5",children:"*"})]}),v.jsx("div",{className:`space-y-3 p-3 rounded-2xl border-2 transition-colors ${N!=null&&N.includes("social")?"border-red-500 bg-red-500/5":"border-transparent"}`,children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-pink-500/10 text-pink-500 flex items-center justify-center shrink-0",children:v.jsx(UN,{size:18})}),v.jsx("input",{type:"text",value:((Y=o.socials)==null?void 0:Y.instagram)||"",onChange:L=>V("instagram",L.target.value),placeholder:"Instagram Username",className:"flex-1 bg-gray-50 dark:bg-white/5 border border-pink-100 dark:border-white/10 rounded-xl px-4 py-3 text-sm focus:outline-none focus:border-pink-500 transition-colors"})]})})]})]},"edit"),r==="location"&&v.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"p-8 flex flex-col items-center justify-center min-h-[60vh] text-center",children:[v.jsx("div",{className:"w-20 h-20 rounded-full bg-pink-500/10 flex items-center justify-center text-pink-500 mb-6",children:v.jsx(k$,{size:40,className:"animate-pulse"})}),v.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Your Location"}),v.jsxs("div",{className:"w-full max-w-sm relative",children:[v.jsx(Nm,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-pink-500",size:20}),v.jsx("input",{type:"text",value:o.location||"",onChange:L=>O("location",L.target.value),placeholder:"City or State Only",className:"w-full bg-gray-50 dark:bg-white/5 border border-pink-100 dark:border-white/10 rounded-2xl pl-12 pr-4 py-4 text-lg focus:outline-none focus:border-pink-500 transition-colors font-bold shadow-sm",autoFocus:!0})]})]},"location"),r==="preview"&&v.jsx(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"h-full flex items-center justify-center p-6 bg-gray-100 dark:bg-black/40",children:v.jsx("div",{className:"w-full max-w-sm h-[75vh] relative rounded-3xl overflow-hidden shadow-2xl",children:v.jsx(xb,{user:o,role:t.role===Fe.BUSINESS?Fe.INFLUENCER:Fe.BUSINESS,isPremium:t.isPremium})})},"preview")]})})]})},ePe=({onClose:t})=>{const[e,n]=W.useState({matches:!0,messages:!0,tips:!1,email:!0}),r=i=>n(o=>({...o,[i]:!o[i]}));return v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:v.jsxs(qe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"p-4 border-b border-black/5 dark:border-white/5 flex justify-between items-center bg-gray-50 dark:bg-white/5",children:[v.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[v.jsx(yb,{size:18})," Notifications"]}),v.jsx("button",{onClick:t,children:v.jsx(Dr,{size:20,className:"text-gray-500"})})]}),v.jsx("div",{className:"p-2",children:[{key:"matches",label:"New Matches",desc:"When you match with a brand"},{key:"messages",label:"Messages",desc:"Direct messages and proposals"},{key:"tips",label:"Tips & Offers",desc:"Ping Gold discounts and tips"},{key:"email",label:"Email Digest",desc:"Weekly summary of stats"}].map(i=>v.jsxs("div",{className:"flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 rounded-xl transition-colors",children:[v.jsxs("div",{children:[v.jsx("p",{className:"font-bold text-sm text-gray-900 dark:text-white",children:i.label}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:i.desc})]}),v.jsx(bs,{active:e[i.key],onToggle:()=>r(i.key)})]},i.key))})]})})},tPe=({onClose:t})=>v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:v.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"p-4 border-b border-black/5 dark:border-white/5 flex justify-between items-center bg-gray-50 dark:bg-white/5",children:[v.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[v.jsx(Vv,{size:18})," Billing"]}),v.jsx("button",{onClick:t,children:v.jsx(Dr,{size:20,className:"text-gray-500"})})]}),v.jsxs("div",{className:"p-6 space-y-6",children:[v.jsxs("div",{className:"p-4 rounded-xl bg-gradient-to-br from-gray-900 to-gray-800 text-white shadow-lg relative overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:v.jsx(Vv,{size:64})}),v.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Primary Card"}),v.jsx("p",{className:"font-mono text-lg tracking-wider mb-4",children:"   4242"}),v.jsxs("div",{className:"flex justify-between text-xs",children:[v.jsx("span",{children:"VISA"}),v.jsx("span",{children:"EXP 12/25"})]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("p",{className:"text-xs font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest",children:"History"}),[{date:"Oct 24",label:"Ping Gold (Monthly)",amount:"$9.99"},{date:"Sep 24",label:"Ping Gold (Monthly)",amount:"$9.99"}].map((e,n)=>v.jsxs("div",{className:"flex justify-between items-center p-3 rounded-lg hover:bg-black/5 dark:hover:bg-white/5",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:e.label}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:e.date})]}),v.jsx("span",{className:"text-sm font-mono font-medium text-gray-900 dark:text-white",children:e.amount})]},n))]}),v.jsx(Jt,{variant:"secondary",fullWidth:!0,children:"Update Method"})]})]})}),nPe=({onClose:t})=>v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:v.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl h-[50vh] flex flex-col",children:[v.jsxs("div",{className:"p-4 border-b border-black/5 dark:border-white/5 flex justify-between items-center bg-gray-50 dark:bg-white/5 shrink-0",children:[v.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[v.jsx(V$,{size:18})," Blocked Users"]}),v.jsx("button",{onClick:t,children:v.jsx(Dr,{size:20,className:"text-gray-500"})})]}),v.jsx("div",{className:"p-4 overflow-y-auto flex-1 space-y-2",children:[1,2,3].map(e=>v.jsxs("div",{className:"flex items-center justify-between p-3 rounded-xl bg-gray-50 dark:bg-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 dark:bg-white/20"}),v.jsxs("div",{children:[v.jsxs("p",{className:"text-sm font-bold text-gray-900 dark:text-white",children:["Blocked User ",e]}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Blocked on 12/10/23"})]})]}),v.jsx("button",{className:"text-xs font-bold text-gray-500 hover:text-red-500 px-3 py-1 bg-white dark:bg-white/10 rounded-full border border-black/5 dark:border-white/10",children:"Unblock"})]},e))})]})}),rPe=({onClose:t,onConfirm:e})=>v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:v.jsx(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white dark:bg-[#1a1a1a] border border-red-500/20 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:v.jsxs("div",{className:"p-6 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-red-500/10 text-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(RA,{size:32})}),v.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Are you sure?"}),v.jsx("p",{className:"text-sm text-gray-500 dark:text-white/60 mb-6 leading-relaxed",children:"Are you sure you want to delete your account? This action is permanent and all your data will be removed forever."}),v.jsxs("div",{className:"flex gap-3",children:[v.jsx(Jt,{fullWidth:!0,variant:"secondary",onClick:t,className:"h-12",children:"No"}),v.jsx(Jt,{fullWidth:!0,onClick:e,className:"bg-red-600 hover:bg-red-700 border-none text-white shadow-lg shadow-red-600/20 h-12",children:"Delete"})]})]})})}),iPe=({onClose:t})=>v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-6",children:v.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white dark:bg-[#1a1a1a] border border-black/10 dark:border-white/10 rounded-3xl w-full max-w-sm overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"p-6 pb-2 flex justify-between items-center",children:[v.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[v.jsx(jN,{className:"text-pink-500"})," Safety Center"]}),v.jsx("button",{onClick:t,className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-white",children:v.jsx(Dr,{size:20})})]}),v.jsxs("div",{className:"p-6 space-y-4",children:[v.jsx("p",{className:"text-gray-600 dark:text-white/70 text-sm leading-relaxed",children:"Ping is committed to a safe creator economy."}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-white/5 border border-black/5 dark:border-white/5 flex gap-3 items-start",children:[v.jsx(zu,{className:"text-blue-500 dark:text-blue-400 shrink-0",size:18}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-white",children:"Secure Payments"}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50 mt-1",children:"All transactions are held in escrow until deliverables are approved."})]})]}),v.jsxs("div",{className:"p-4 rounded-xl bg-gray-50 dark:bg-white/5 border border-black/5 dark:border-white/5 flex gap-3 items-start",children:[v.jsx(bb,{className:"text-green-500 dark:text-green-400 shrink-0",size:18}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-bold text-sm text-gray-900 dark:text-white",children:"Harassment Policy"}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50 mt-1",children:"Zero tolerance for abuse. Reports are reviewed 24/7 by human moderators."})]})]})]}),v.jsx(Jt,{fullWidth:!0,onClick:t,children:"Understood"})]})]})}),bs=({active:t,onToggle:e,disabled:n=!1})=>v.jsx("button",{onClick:n?void 0:e,className:`w-11 h-6 rounded-full transition-colors relative ${t?"bg-pink-500":"bg-gray-300 dark:bg-white/10"} ${n?"opacity-50 cursor-not-allowed":""}`,children:v.jsx("div",{className:`absolute top-1 left-1 w-4 h-4 bg-white rounded-full transition-transform shadow-sm ${t?"translate-x-5":"translate-x-0"}`})}),oPe=({value:t,min:e,max:n,onChange:r,label:i,unit:o})=>v.jsxs("div",{className:"space-y-3 py-2",children:[v.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-900 dark:text-white/90",children:[v.jsx("span",{children:i}),v.jsxs("span",{className:"text-pink-500",children:[t,o]})]}),v.jsx("input",{type:"range",min:e,max:n,value:t,onChange:s=>r(Number(s.target.value)),className:"w-full h-1 bg-gray-200 dark:bg-white/10 rounded-lg appearance-none cursor-pointer accent-pink-500"})]}),sPe=({onBack:t,onLogout:e,onUpgrade:n,isDarkMode:r,onToggleTheme:i})=>{const[o,s]=W.useState("none"),[l,c]=W.useState("English"),[f,h]=W.useState(50),[p,g]=W.useState(!1),[_,S]=W.useState(!0),[A,E]=W.useState(!0),[M,I]=W.useState(!0),[N,C]=W.useState(!0),[R,U]=W.useState(!0),[k,O]=W.useState(!1),V=()=>{const q=["English","Espaol","Franais","Deutsch",""],z=q.indexOf(l);c(q[(z+1)%q.length])},F=()=>{alert("Cache cleared successfully! App will reload resources on next launch.")};return v.jsxs("div",{className:"h-full flex flex-col p-6 animate-in slide-in-from-right duration-300 relative text-gray-900 dark:text-white bg-white dark:bg-[#050505]",children:[v.jsxs("div",{className:"flex items-center gap-4 mb-8 shrink-0",children:[v.jsx("button",{onClick:t,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-600 dark:text-white/80 transition-colors",children:v.jsx(Yf,{size:24})}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:Mo,className:"w-8 h-8 rounded-lg shadow-sm",alt:"Ping Logo"}),v.jsx("h2",{className:"text-2xl font-bold",children:"Settings"})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto space-y-8 pb-24 no-scrollbar",children:[v.jsxs("div",{onClick:n,className:"relative overflow-hidden rounded-2xl p-0.5 cursor-pointer group",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-400 via-orange-500 to-yellow-400 animate-gradient-x opacity-100"}),v.jsxs("div",{className:"relative bg-white dark:bg-[#1a1a1a] rounded-[14px] p-4 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-yellow-300 to-yellow-600 flex items-center justify-center text-black shadow-lg",children:v.jsx(_p,{size:20,fill:"black"})}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Ping Gold"}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/60",children:"Unlock all features"})]})]}),v.jsx(Gi,{size:20,className:"text-gray-400 group-hover:text-yellow-500 transition-colors"})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[v.jsx(k$,{size:12})," Discovery Settings"]}),v.jsxs(_i,{className:"p-0 overflow-hidden",intensity:"low",children:[v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-500",children:v.jsx(Nm,{size:18})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Current Location"}),v.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"New York, NY"})]})]}),v.jsx(Jt,{variant:"ghost",className:"h-8 text-xs text-blue-500",children:"Update"})]}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-purple-500/10 text-purple-500",children:v.jsx(kA,{size:18})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Global Mode"}),v.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Match with anyone, anywhere"})]})]}),v.jsx(bs,{active:p,onToggle:()=>g(!p)})]}),!p&&v.jsx("div",{className:"w-full p-4 border-b border-black/5 dark:border-white/5 bg-gray-50/50 dark:bg-white/5",children:v.jsx(oPe,{label:"Maximum Distance",value:f,min:5,max:150,unit:"km",onChange:h})}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-pink-500/10 text-pink-500",children:v.jsx(PA,{size:18})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Show me on Ping"}),v.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Turn off to pause account"})]})]}),v.jsx(bs,{active:_,onToggle:()=>S(!_)})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[v.jsx(Vv,{size:12})," Payment & Billing"]}),v.jsxs(_i,{className:"p-0 overflow-hidden",intensity:"low",children:[v.jsxs("button",{onClick:()=>s("payment"),className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors border-b border-black/5 dark:border-white/5 group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-green-500/10 text-green-500",children:v.jsx(Vv,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Payment Methods"})]}),v.jsx(Gi,{size:16,className:"text-gray-300 dark:text-white/20"})]}),v.jsx("button",{className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors group",children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-gray-500/10 text-gray-500",children:v.jsx(vue,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Restore Purchases"})]})})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[v.jsx(wue,{size:12})," App Experience"]}),v.jsxs(_i,{className:"p-0 overflow-hidden",intensity:"low",children:[v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-indigo-500/10 text-indigo-500",children:r?v.jsx(gue,{size:18}):v.jsx(Sue,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Dark Mode"})]}),v.jsx(bs,{active:r,onToggle:i})]}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-orange-500/10 text-orange-500",children:v.jsx(Nue,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Haptic Feedback"})]}),v.jsx(bs,{active:M,onToggle:()=>I(!M)})]}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-red-500/10 text-red-500",children:v.jsx(F$,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Autoplay Videos"})]}),v.jsx(bs,{active:A,onToggle:()=>E(!A)})]}),v.jsxs("button",{onClick:()=>s("notifications"),className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-green-500/10 text-green-500",children:v.jsx(yb,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Notifications"})]}),v.jsx(Gi,{size:16,className:"text-gray-300 dark:text-white/20"})]}),v.jsxs("button",{onClick:V,className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-teal-500/10 text-teal-500",children:v.jsx(kA,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Language"})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-xs text-gray-500 dark:text-white/40",children:l}),v.jsx(Gi,{size:16,className:"text-gray-300 dark:text-white/20"})]})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[v.jsx(AL,{size:12})," Integrations"]}),v.jsxs(_i,{className:"p-0 overflow-hidden",intensity:"low",children:[v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500 flex items-center justify-center text-white",children:v.jsx(UN,{size:18})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Instagram"}),v.jsx("span",{className:"text-xs text-green-500 font-medium block",children:"Connected as @user"})]})]}),v.jsx("button",{className:"text-xs text-gray-400 hover:text-red-500",children:"Disconnect"})]}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-9 h-9 rounded-full bg-black dark:bg-white dark:text-black text-white flex items-center justify-center",children:v.jsx(U$,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"X (Twitter)"})]}),v.jsx(Jt,{variant:"secondary",className:"h-7 text-xs px-3",children:"Connect"})]}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-9 h-9 rounded-full bg-[#0077b5] text-white flex items-center justify-center",children:v.jsx(P$,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"LinkedIn"})]}),v.jsx(Jt,{variant:"secondary",className:"h-7 text-xs px-3",children:"Connect"})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[v.jsx(oue,{size:12})," Privacy & Data"]}),v.jsxs(_i,{className:"p-0 overflow-hidden",intensity:"low",children:[v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-green-500/10 text-green-500",children:v.jsx(AL,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Online Status"})]}),v.jsx(bs,{active:N,onToggle:()=>C(!N)})]}),v.jsxs("button",{onClick:()=>s("blocked"),className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-red-500/10 text-red-500",children:v.jsx(V$,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Blocked Users"})]}),v.jsx(Gi,{size:16,className:"text-gray-300 dark:text-white/20"})]}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-500",children:v.jsx(PA,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Read Receipts"})]}),v.jsx(bs,{active:R,onToggle:()=>U(!R)})]}),v.jsxs("div",{className:"w-full flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-yellow-500/10 text-yellow-500",children:v.jsx(tue,{size:18})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90 block",children:"Data Saver"}),v.jsx("span",{className:"text-xs text-gray-500 dark:text-white/50 block",children:"Lower quality media"})]})]}),v.jsx(bs,{active:k,onToggle:()=>O(!k)})]}),v.jsxs("button",{onClick:F,className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-gray-500/10 text-gray-500",children:v.jsx(Aue,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Clear Cache"})]}),v.jsx("span",{className:"text-xs text-gray-400",children:"128 MB"})]})]})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("h3",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest ml-2 flex items-center gap-2",children:[v.jsx(IL,{size:12})," Support"]}),v.jsxs(_i,{className:"p-0 overflow-hidden",intensity:"low",children:[v.jsxs("button",{onClick:()=>s("safety"),className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors border-b border-black/5 dark:border-white/5 group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-red-500/10 text-red-500",children:v.jsx(jN,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Safety Center"})]}),v.jsx(Gi,{size:16,className:"text-gray-300 dark:text-white/20 group-hover:text-gray-500 dark:group-hover:text-white/40"})]}),v.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors border-b border-black/5 dark:border-white/5 group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-blue-500/10 text-blue-500",children:v.jsx(IL,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Help & Support"})]}),v.jsx(Gi,{size:16,className:"text-gray-300 dark:text-white/20"})]}),v.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-black/5 dark:hover:bg-white/5 transition-colors group",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-full bg-gray-500/10 text-gray-500",children:v.jsx(zu,{size:18})}),v.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-white/90",children:"Privacy Policy"})]}),v.jsx(Gi,{size:16,className:"text-gray-300 dark:text-white/20"})]})]})]}),v.jsxs("div",{className:"pt-6 pb-4 space-y-4",children:[v.jsxs(Jt,{variant:"ghost",className:"w-full text-red-500 hover:text-red-600 hover:bg-red-500/10 h-14 border border-red-500/10",onClick:e,children:[v.jsx(pue,{size:20,className:"mr-2"})," Sign Out"]}),v.jsx("button",{onClick:()=>s("delete"),className:"w-full text-xs text-gray-400 dark:text-white/30 hover:text-red-500 transition-colors uppercase tracking-widest font-bold",children:"Delete Account"}),v.jsxs("div",{className:"text-center mt-6 space-y-1",children:[v.jsx("p",{className:"text-[10px] text-gray-400 dark:text-white/20 font-medium font-mono",children:"PING v2.1.0 (PROD)"}),v.jsxs("div",{className:"flex items-center justify-center gap-2 text-[10px] text-gray-300 dark:text-white/10",children:[v.jsx("span",{children:"Made in SF"}),v.jsx("span",{children:""}),v.jsx("span",{children:"Reachup Media"})]})]})]})]}),v.jsxs(dr,{children:[o==="safety"&&v.jsx(iPe,{onClose:()=>s("none")}),o==="notifications"&&v.jsx(ePe,{onClose:()=>s("none")}),o==="payment"&&v.jsx(tPe,{onClose:()=>s("none")}),o==="blocked"&&v.jsx(nPe,{onClose:()=>s("none")}),o==="delete"&&v.jsx(rPe,{onClose:()=>s("none"),onConfirm:e})]})]})},aPe=({onClose:t,userRole:e,onUpdateUser:n,userId:r})=>{const[i,o]=W.useState("docs"),[s,l]=W.useState(null),[c,f]=W.useState("idle"),[h,p]=W.useState(null),[g,_]=W.useState(null),[S,A]=W.useState("idle");Fe.BUSINESS,W.useEffect(()=>()=>{g&&URL.revokeObjectURL(g)},[g]);const E=C=>{var R;(R=C.target.files)!=null&&R[0]&&l(C.target.files[0])},M=C=>{var R;if((R=C.target.files)!=null&&R[0]){const U=C.target.files[0];if(U.size>50*1024*1024){alert("Video too large.");return}const k=document.createElement("video");k.preload="metadata",k.onloadedmetadata=function(){if(window.URL.revokeObjectURL(k.src),k.duration>31){alert("Max 30s.");return}p(U),_(URL.createObjectURL(U)),A("idle")},k.src=URL.createObjectURL(U)}},I=async()=>{if(s){f("uploading");try{const C=`users/${r}/verification/doc_${Date.now()}_${s.name}`,R=await Zt.uploadFile(s,C);n({docUrl:R,verificationStatus:lr.PENDING}),f("success")}catch(C){console.error(C),alert("Document upload failed."),f("idle")}}},N=async()=>{if(h){A("uploading");try{const C=`users/${r}/verification/video_${Date.now()}_${h.name}`,R=await Zt.uploadFile(h,C);n({introVideoUrl:R}),A("success")}catch(C){console.error(C),alert("Video upload failed."),A("idle")}}};return v.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/80 backdrop-blur-md p-4",children:v.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-[#121212] border border-white/10 rounded-3xl w-full max-w-md overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"p-6 border-b border-white/10 flex justify-between items-center",children:[v.jsxs("h3",{className:"font-bold text-white flex items-center gap-2",children:[v.jsx(VN,{className:"text-blue-500",size:20})," Verification"]}),v.jsx("button",{onClick:t,children:v.jsx(Dr,{size:20,className:"text-white/60 hover:text-white"})})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex p-1 bg-white/5 rounded-xl border border-white/5 mb-6",children:[v.jsx("button",{onClick:()=>o("docs"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${i==="docs"?"bg-white/10 text-white":"text-white/40"}`,children:"Docs"}),v.jsx("button",{onClick:()=>o("video"),className:`flex-1 py-2 text-xs font-bold rounded-lg transition-all ${i==="video"?"bg-white/10 text-white":"text-white/40"}`,children:"Video"})]}),i==="docs"?v.jsxs("div",{className:"space-y-4 text-center",children:[c==="success"?v.jsx("div",{className:"text-green-500 font-bold",children:"Docs Submitted!"}):v.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-2xl p-8 hover:bg-white/5 relative",children:[v.jsx("input",{type:"file",onChange:E,className:"absolute inset-0 opacity-0 cursor-pointer"}),v.jsx(Iue,{size:32,className:"mx-auto mb-2 text-white/40"}),v.jsx("p",{className:"text-sm text-white/60",children:s?s.name:"Upload ID/Business Doc"})]}),v.jsx(Jt,{fullWidth:!0,onClick:I,disabled:!s||c!=="idle",children:c==="uploading"?"Uploading...":"Submit"})]}):v.jsxs("div",{className:"space-y-4 text-center",children:[S==="success"?v.jsx("div",{className:"text-green-500 font-bold",children:"Video Live!"}):v.jsxs("div",{className:"border-2 border-dashed border-white/10 rounded-2xl h-48 flex items-center justify-center relative bg-black/40 overflow-hidden",children:[v.jsx("input",{type:"file",accept:"video/*",onChange:M,className:"absolute inset-0 opacity-0 cursor-pointer z-10"}),g?v.jsx("video",{src:g,className:"w-full h-full object-cover"}):v.jsxs("div",{className:"text-white/40",children:[v.jsx(B$,{size:32,className:"mx-auto mb-2"}),"Upload Video"]})]}),v.jsx(Jt,{fullWidth:!0,onClick:N,disabled:!h||S!=="idle",children:S==="uploading"?"Uploading...":"Upload"})]})]})]})})},lPe=({user:t,onNavigate:e,onSettingsClick:n,onUpgrade:r,onNotificationsClick:i,onUpdateUser:o,notificationCount:s,newLikesCount:l})=>{const[c,f]=W.useState(!1);return v.jsxs("div",{className:"h-full w-full flex flex-col relative overflow-y-auto no-scrollbar bg-white dark:bg-[#050505]",children:[v.jsxs("div",{className:"px-6 pt-12 pb-6 flex items-center justify-between sticky top-0 z-20 bg-white/90 dark:bg-[#050505]/90 backdrop-blur-md transition-colors",children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("img",{src:Mo,className:"w-10 h-10 rounded-xl shadow-lg shadow-pink-500/20",alt:"Ping"}),v.jsxs("div",{className:"flex flex-col",children:[v.jsx("span",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-widest mb-0.5",children:"Welcome back"}),v.jsxs("h1",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[t.name.split(" ")[0],t.isPremium&&v.jsx(_p,{size:16,className:"text-yellow-400 fill-yellow-400"})]})]})]}),v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsxs("button",{onClick:i,className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-white/5 border border-black/5 dark:border-white/10 flex items-center justify-center text-gray-700 dark:text-white hover:scale-105 transition-transform relative shadow-sm",children:[v.jsx(yb,{size:20}),s>0&&v.jsx("span",{className:"absolute top-2 right-2.5 w-2 h-2 bg-pink-500 rounded-full animate-pulse"})]}),v.jsx("button",{onClick:n,className:"w-10 h-10 rounded-full bg-gray-50 dark:bg-white/5 border border-black/5 dark:border-white/10 flex items-center justify-center text-gray-700 dark:text-white hover:scale-105 transition-transform shadow-sm",children:v.jsx(_ue,{size:20})})]})]}),v.jsxs("div",{className:"px-6 pb-32 space-y-8 animate-in slide-in-from-bottom-4 duration-500",children:[v.jsxs("div",{onClick:()=>e("deck"),className:"relative w-full aspect-[16/9] rounded-[2rem] overflow-hidden cursor-pointer group shadow-2xl shadow-pink-500/10 transition-all hover:shadow-pink-500/20 hover:scale-[1.01]",children:[v.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-900 via-purple-900 to-black dark:from-white dark:via-pink-100 dark:to-white"}),v.jsx("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 brightness-100 contrast-150 mix-blend-overlay"}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-pink-500/40 to-transparent mix-blend-overlay"}),v.jsxs("div",{className:"absolute inset-0 p-8 flex flex-col justify-end",children:[v.jsx("div",{className:"absolute top-6 right-6 bg-white/20 backdrop-blur-md rounded-full p-3 group-hover:rotate-12 transition-transform",children:v.jsx(Tf,{className:"text-white dark:text-black",size:24,fill:"currentColor"})}),v.jsx("h2",{className:"text-3xl font-extrabold text-white dark:text-black mb-2",children:"Start Matching"}),v.jsxs("p",{className:"text-white/70 dark:text-black/60 font-medium flex items-center gap-2",children:["Find your next collab ",v.jsx(Gi,{size:16})]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-bold text-gray-500 dark:text-white/40 mb-4 px-1",children:"Overview"}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs(_i,{className:"p-5 flex flex-col justify-between h-40 group hover:border-pink-500/30 transition-colors bg-gray-50 dark:bg-white/5",hoverEffect:!0,onClick:()=>e("likes"),children:[v.jsx("div",{className:"w-10 h-10 rounded-2xl bg-pink-500/10 flex items-center justify-center text-pink-500 group-hover:scale-110 transition-transform",children:v.jsx(vb,{size:20,fill:"currentColor"})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-3xl font-bold text-gray-900 dark:text-white block tracking-tight",children:l}),v.jsx("span",{className:"text-xs font-bold text-gray-400 dark:text-white/40 uppercase tracking-wider",children:"New Likes"})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx(_i,{className:"p-4 flex items-center justify-between h-[4.5rem] bg-gray-50 dark:bg-white/5",hoverEffect:!0,onClick:()=>e("analytics"),children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-xl bg-blue-500/10 text-blue-500",children:v.jsx(Cue,{size:18})}),v.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Analytics"})]})}),v.jsx(_i,{className:"p-4 flex items-center justify-between h-[4.5rem] bg-gray-50 dark:bg-white/5",hoverEffect:!0,onClick:()=>e("profile"),children:v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"p-2 rounded-xl bg-purple-500/10 text-purple-500",children:v.jsx(hue,{size:18})}),v.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:"Media Kit"})]})})]})]})]}),v.jsxs("div",{className:"space-y-4",children:[!t.verified&&v.jsx("div",{onClick:()=>f(!0),className:"p-1 rounded-[2rem] bg-gradient-to-r from-blue-500/20 to-cyan-500/20 cursor-pointer",children:v.jsxs("div",{className:"bg-white/80 dark:bg-black/40 backdrop-blur-xl rounded-[1.8rem] p-5 flex items-center gap-4 border border-blue-500/20",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-500 flex items-center justify-center text-white shrink-0 shadow-lg shadow-blue-500/30",children:v.jsx(VN,{size:24})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Get Verified"}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Build trust and get +300% visibility."})]}),v.jsx(Gi,{className:"text-gray-400"})]})}),!t.isPremium&&v.jsx("div",{onClick:r,className:"p-1 rounded-[2rem] bg-gradient-to-r from-yellow-500/20 to-orange-500/20 cursor-pointer",children:v.jsxs("div",{className:"bg-white/80 dark:bg-black/40 backdrop-blur-xl rounded-[1.8rem] p-5 flex items-center gap-4 border border-yellow-500/20",children:[v.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-yellow-400 to-orange-500 flex items-center justify-center text-white shrink-0 shadow-lg shadow-orange-500/30",children:v.jsx(_p,{size:24,fill:"white"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Upgrade to Gold"}),v.jsx("p",{className:"text-xs text-gray-500 dark:text-white/50",children:"Unlock unlimited swipes & insights."})]}),v.jsx(Gi,{className:"text-gray-400"})]})})]})]}),v.jsx(dr,{children:c&&v.jsx(aPe,{onClose:()=>f(!1),userRole:t.role,onUpdateUser:o,userId:t.id})})]})},uPe=({role:t,onComplete:e,onBack:n})=>{const[r,i]=W.useState(1),[o,s]=W.useState(""),[l,c]=W.useState(""),[f,h]=W.useState(null),p=W.useRef(null),[g,_]=W.useState([]),[S,A]=W.useState(!1),[E,M]=W.useState(""),I=t===Fe.BUSINESS?"Setup your Brand":"Build your Profile",N=t===Fe.BUSINESS?"Find the perfect voice for your product.":"Let brands discover your talent.",C=V=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V),R=()=>{if(r===1){if(!o.trim()){c("Email is required");return}if(!C(o)){c("Please enter a valid email address");return}i(2)}else e()},U=V=>{if(V.target.files&&V.target.files[0]){const F=V.target.files[0],q=new FileReader;q.onloadend=()=>{h(q.result)},q.readAsDataURL(F)}},k=()=>{var V;(V=p.current)==null||V.click()},O=V=>{g.includes(V)?_(F=>F.filter(q=>q!==V)):_(F=>[...F,V])};return v.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.05},className:"h-full flex flex-col items-center justify-center p-6 relative overflow-y-auto",children:[v.jsx("button",{onClick:n,className:"absolute top-6 left-6 p-2 text-gray-500 dark:text-white/50 hover:text-gray-900 dark:hover:text-white transition-colors z-20",children:v.jsx(Yf,{size:24})}),v.jsxs(_i,{className:"w-full max-w-md p-8 relative overflow-hidden my-auto",children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-black/5 dark:bg-white/10",children:v.jsx(qe.div,{className:"h-full bg-gradient-to-r from-pink-500 to-orange-400",initial:{width:"0%"},animate:{width:r===1?"50%":"100%"}})}),v.jsxs("div",{className:"text-center mb-8 mt-4",children:[v.jsx("div",{className:"mb-6 flex justify-center",children:v.jsx("img",{src:Mo,alt:"Ping",className:"h-16 w-auto object-contain drop-shadow-[0_0_15px_rgba(236,72,153,0.3)]"})}),v.jsx("h2",{className:"text-2xl font-bold mb-2 text-gray-900 dark:text-white",children:I}),v.jsx("p",{className:"text-gray-600 dark:text-white/60 text-sm",children:N})]}),v.jsx("div",{className:"space-y-6",children:r===1?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-center",children:[v.jsx("input",{type:"file",ref:p,onChange:U,accept:"image/*",className:"hidden"}),v.jsx("div",{onClick:k,className:"w-24 h-24 rounded-full bg-black/5 dark:bg-white/5 border-2 border-dashed border-gray-300 dark:border-white/20 flex items-center justify-center cursor-pointer hover:bg-black/10 dark:hover:bg-white/10 transition-colors group relative overflow-hidden",children:f?v.jsx("img",{src:f,alt:"Profile Preview",className:"w-full h-full object-cover"}):v.jsxs(v.Fragment,{children:[v.jsx(Qle,{size:24,className:"text-gray-400 dark:text-white/40 group-hover:text-gray-600 dark:group-hover:text-white transition-colors relative z-10"}),v.jsx("div",{className:"absolute inset-0 bg-pink-500/20 rounded-full blur-xl opacity-0 group-hover:opacity-100 transition-opacity"})]})})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest ml-1",children:"Display Name"}),v.jsx("input",{type:"text",placeholder:t===Fe.BUSINESS?"Brand Name":"Your Name",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-300 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white focus:outline-none focus:border-pink-500/50 transition-colors placeholder:text-gray-400 dark:placeholder:text-white/30"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest ml-1",children:"Email"}),v.jsx("input",{type:"email",value:o,onChange:V=>{s(V.target.value),l&&c("")},placeholder:"you@example.com",className:`w-full bg-gray-50 dark:bg-black/20 border rounded-xl px-4 py-3 text-gray-900 dark:text-white focus:outline-none transition-colors placeholder:text-gray-400 dark:placeholder:text-white/30 ${l?"border-red-500 focus:border-red-500":"border-gray-300 dark:border-white/10 focus:border-pink-500/50"}`}),l&&v.jsx("p",{className:"text-xs text-red-500 font-medium ml-1",children:l})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest ml-1",children:"Location"}),v.jsx("input",{type:"text",placeholder:"e.g. New York, NY",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-300 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white focus:outline-none focus:border-pink-500/50 transition-colors placeholder:text-gray-400 dark:placeholder:text-white/30"})]})]}):v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"space-y-2",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest ml-1",children:"Select Interests (Multiple)"}),v.jsxs("div",{className:"flex flex-wrap gap-2",children:[["Tech","Fashion","Fitness","Travel","Food","Gaming","Art","Music"].map(V=>v.jsx("button",{onClick:()=>O(V),className:`px-3 py-1.5 rounded-full border text-sm transition-all ${g.includes(V)?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/40 dark:bg-white/5 border-gray-300 dark:border-white/10 hover:border-pink-500/50 hover:text-pink-600 dark:hover:text-pink-200 text-gray-600 dark:text-white/80"}`,children:V},V)),v.jsxs("button",{onClick:()=>A(!S),className:`px-3 py-1.5 rounded-full border text-sm transition-all flex items-center gap-1 ${S||E&&g.includes(E)?"bg-pink-500 text-white border-pink-500 shadow-md shadow-pink-500/20":"bg-white/40 dark:bg-white/5 border-gray-300 dark:border-white/10 hover:border-pink-500/50 hover:text-pink-600 dark:hover:text-pink-200 text-gray-600 dark:text-white/80"}`,children:[v.jsx(O$,{size:14})," Other"]})]}),v.jsx(dr,{children:S&&v.jsx(qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"overflow-hidden",children:v.jsxs("div",{className:"mt-2 space-y-1",children:[v.jsx("label",{className:"text-[10px] font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest ml-1",children:"Other Interest"}),v.jsx("input",{type:"text",value:E,onChange:V=>M(V.target.value),placeholder:"Type your interest here...",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-300 dark:border-white/10 rounded-xl px-4 py-2 text-gray-900 dark:text-white focus:outline-none focus:border-pink-500/50 transition-colors placeholder:text-gray-400 dark:placeholder:text-white/30 text-sm"})]})})})]}),v.jsxs("div",{className:"space-y-2 mt-4",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 dark:text-white/50 uppercase tracking-widest ml-1",children:"Bio"}),v.jsx("textarea",{placeholder:"Write a short bio...",className:"w-full bg-gray-50 dark:bg-black/20 border border-gray-300 dark:border-white/10 rounded-xl px-4 py-3 text-gray-900 dark:text-white focus:outline-none focus:border-pink-500/50 h-24 resize-none transition-colors placeholder:text-gray-400 dark:placeholder:text-white/30"})]})]})}),v.jsx("div",{className:"mt-8 pt-6 border-t border-black/5 dark:border-white/10",children:v.jsxs(Jt,{fullWidth:!0,onClick:R,children:[r===1?"Next Step":"Get Started"," ",r===1&&v.jsx(I$,{size:16,className:"ml-2"})]})})]})]})},cPe=({user:t,onClose:e,onUpgrade:n})=>{const[r,i]=W.useState("monthly"),[o,s]=W.useState(!1),l=t.role===Fe.INFLUENCER,c=499,f=4790,h=l?[{icon:PA,label:"See Who Liked You",desc:"Reveal blurred cards. +300% Match rate."},{icon:cue,label:"Unlimited Swipes",desc:"No daily caps. Swipe as much as you want."},{icon:BN,label:"Profile Boost",desc:"Be the top card in Brands' stacks for 30 mins/week."},{icon:Im,label:"Read Receipts",desc:"Know when brands open your messages."}]:[{icon:R$,label:"Advanced Filters",desc:"Filter by engagement rate, location & niche."},{icon:bb,label:"Direct Message",desc:"Message creators before matching (3/day)."},{icon:fue,label:"Bulk Actions",desc:'"Super Like" 5 creators at once.'},{icon:jN,label:"Verified Badge",desc:"Instant green tick & priority support."}],p=async()=>{s(!0);try{if(window.PaymentRequest){const g=[{supportedMethods:"https://google.com/pay",data:{environment:"TEST",apiVersion:2,apiVersionMinor:0,merchantInfo:{merchantName:"Ping App Inc.",merchantId:"TEST"},allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","VISA"]},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:{gateway:"example",gatewayMerchantId:"exampleGatewayMerchantId"}}}]}}],_=r==="monthly"?c:f,S={total:{label:`Ping Gold (${r})`,amount:{currency:"INR",value:_.toString()}}};try{await(await new PaymentRequest(g,S).show()).complete("success"),await n()}catch(A){console.warn("Payment Request cancelled or failed:",A),s(!1);return}}else await new Promise(g=>setTimeout(g,2e3)),await n()}catch(g){console.error("Payment Error:",g)}s(!1)};return v.jsxs(qe.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[200] bg-black text-white flex flex-col h-[100dvh] overflow-y-auto no-scrollbar",children:[v.jsxs("div",{className:"sticky top-0 z-30 bg-black/80 backdrop-blur-xl border-b border-white/10 px-6 py-4 flex items-center justify-between",children:[v.jsx("button",{onClick:e,className:"p-2 -ml-2 rounded-full hover:bg-white/10 text-white/60 hover:text-white transition-colors",children:v.jsx(N$,{size:24})}),v.jsx("div",{className:"text-center",children:v.jsxs("h1",{className:"font-bold text-lg text-transparent bg-clip-text bg-gradient-to-r from-yellow-200 via-yellow-500 to-yellow-200 tracking-wide flex items-center justify-center gap-2",children:["PING GOLD ",v.jsx(_p,{size:16,className:"text-yellow-400 fill-yellow-400"})]})}),v.jsx("div",{className:"w-10"})," "]}),v.jsxs("div",{className:"p-6 pt-32 text-center relative overflow-hidden shrink-0",children:[v.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-64 h-64 bg-yellow-500/20 blur-[100px] rounded-full pointer-events-none"}),v.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"relative z-10",children:[v.jsx("h2",{className:"text-4xl font-extrabold tracking-tight mb-4 leading-tight whitespace-pre-line drop-shadow-lg",children:l?`Stop waiting.
Start landing deals.`:`Scale your campaign
in minutes.`}),v.jsx("p",{className:"text-white/60 text-sm max-w-xs mx-auto",children:"Unlock the full experience and join 5,000+ Gold members closing deals faster."})]})]}),v.jsx("div",{className:"px-6 mb-10 shrink-0",children:v.jsxs("div",{className:"bg-white/5 p-1 rounded-2xl flex relative max-w-sm mx-auto border border-white/10",children:[v.jsx(qe.div,{className:"absolute top-1 bottom-1 bg-white/10 rounded-xl shadow-lg border border-white/10",initial:!1,animate:{left:r==="monthly"?"4px":"50%",width:"calc(50% - 4px)"},transition:{type:"spring",stiffness:300,damping:30}}),v.jsx("button",{onClick:()=>i("monthly"),className:`flex-1 py-3 text-sm font-bold relative z-10 transition-colors ${r==="monthly"?"text-white":"text-white/40"}`,children:"Monthly"}),v.jsxs("button",{onClick:()=>i("yearly"),className:`flex-1 py-3 text-sm font-bold relative z-10 transition-colors flex flex-col items-center justify-center leading-none ${r==="yearly"?"text-white":"text-white/40"}`,children:[v.jsx("span",{children:"Yearly"}),v.jsx("span",{className:"text-[9px] text-green-400 mt-1 uppercase tracking-widest font-extrabold",children:"Save 20%"})]})]})}),v.jsxs("div",{className:"px-6 pb-32 space-y-6 max-w-lg mx-auto w-full",children:[v.jsxs("div",{className:"p-6 rounded-3xl bg-white/5 border border-white/5 grayscale opacity-70",children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-bold text-white",children:"Free Plan"}),v.jsx("p",{className:"text-white/40 text-xs",children:"Standard access"})]}),v.jsx("span",{className:"text-xl font-bold text-white/50",children:"0"})]}),v.jsxs("ul",{className:"space-y-3",children:[v.jsxs("li",{className:"flex items-center gap-3 text-sm text-white/60",children:[v.jsx(bu,{size:16})," Basic Swiping"]}),v.jsxs("li",{className:"flex items-center gap-3 text-sm text-white/60",children:[v.jsx(bu,{size:16})," Standard Visibility"]}),v.jsxs("li",{className:"flex items-center gap-3 text-sm text-white/60",children:[v.jsx(bu,{size:16})," Community Support"]})]}),v.jsx("button",{disabled:!0,className:"w-full mt-6 py-3 rounded-xl bg-white/5 border border-white/5 text-white/30 font-bold text-sm cursor-not-allowed",children:"Current Plan"})]}),v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:"absolute -inset-0.5 bg-gradient-to-r from-yellow-600 via-yellow-300 to-yellow-600 rounded-[26px] opacity-75 blur-sm group-hover:opacity-100 transition duration-1000 group-hover:duration-200 animate-tilt"}),v.jsxs("div",{className:"relative p-8 rounded-3xl bg-gradient-to-b from-[#1a1500] to-black border border-yellow-500/30 shadow-2xl",children:[v.jsx("div",{className:"absolute top-0 right-0 bg-gradient-to-bl from-yellow-400 to-orange-500 text-black text-[10px] font-bold px-3 py-1.5 rounded-bl-xl rounded-tr-2xl",children:"MOST POPULAR"}),v.jsxs("div",{className:"flex justify-between items-start mb-6",children:[v.jsxs("div",{children:[v.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center gap-2",children:["Gold ",v.jsx(_p,{size:20,className:"fill-yellow-400 text-yellow-400"})]}),v.jsx("p",{className:"text-yellow-500/60 text-xs font-mono uppercase tracking-widest mt-1",children:"Everything in Free +"})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("span",{className:"text-3xl font-bold text-white",children:["",r==="monthly"?c:Math.round(f/12)]}),v.jsx("span",{className:"text-white/40 text-xs block",children:"/month"}),r==="yearly"&&v.jsxs("span",{className:"text-green-400 text-[10px] block mt-1",children:["Billed ",f," yearly"]})]})]}),v.jsx("ul",{className:"space-y-4 mb-8",children:h.map((g,_)=>v.jsxs("li",{className:"flex items-start gap-3",children:[v.jsx("div",{className:"p-1 rounded-full bg-gradient-to-br from-yellow-400 to-orange-600 text-black shrink-0 mt-0.5",children:v.jsx(g.icon,{size:12,strokeWidth:3})}),v.jsxs("div",{children:[v.jsx("span",{className:"text-sm font-bold text-white block",children:g.label}),v.jsx("span",{className:"text-xs text-white/50",children:g.desc})]})]},_))}),v.jsx(Jt,{fullWidth:!0,onClick:p,disabled:o,className:"h-14 bg-black hover:bg-gray-900 text-white border border-white/20 shadow-[0_0_20px_rgba(0,0,0,0.5)] font-bold text-lg tracking-wide relative overflow-hidden",children:o?v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"})," Processing..."]}):v.jsxs("div",{className:"flex items-center gap-2 justify-center w-full",children:[v.jsx("span",{className:"text-white/90 text-base font-medium mr-1",children:"Pay with"}),v.jsx("span",{className:"font-bold text-white text-xl",children:"G"}),v.jsx("span",{className:"font-bold text-white text-xl -ml-0.5",children:"Pay"})]})}),v.jsx("p",{className:"text-center text-[10px] text-white/30 mt-4",children:"Secure payment via Google Pay. Cancel anytime."})]})]})]})]})},fPe=({notifications:t,onBack:e})=>{const n=r=>{switch(r){case"match":return{icon:vb,color:"text-pink-500"};case"message":return{icon:bb,color:"text-blue-400"};case"tip":return{icon:wp,color:"text-purple-500"};case"system":default:return{icon:Im,color:"text-green-500"}}};return v.jsxs(qe.div,{initial:{opacity:0,x:"100%"},animate:{opacity:1,x:0},exit:{opacity:0,x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed inset-0 z-[150] bg-white dark:bg-[#0f0c29] flex flex-col h-full transition-colors duration-300",children:[v.jsxs("div",{className:"p-6 flex items-center gap-4 border-b border-pink-100 dark:border-white/5 bg-white/90 dark:bg-white/5 backdrop-blur-xl shrink-0",children:[v.jsx("button",{onClick:e,className:"p-2 -ml-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-gray-700 dark:text-white/80 transition-colors",children:v.jsx(Yf,{size:24})}),v.jsxs("h2",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:["Notifications",t.length>0&&v.jsx("span",{className:"bg-pink-500 text-white text-[10px] px-1.5 py-0.5 rounded-full font-mono",children:t.length})]})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 no-scrollbar",children:[t.length===0?v.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-gray-400 dark:text-white/30 space-y-3 opacity-60",children:[v.jsx(yb,{size:48}),v.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:"No Notifications"}),v.jsx("p",{className:"text-xs",children:"We'll let you know when something happens."})]}):t.map(r=>{const i=n(r.type);return v.jsxs(_i,{className:"p-4 flex gap-4 items-start cursor-pointer hover:bg-white/50 dark:hover:bg-white/10 transition-colors bg-gray-50 dark:bg-white/5",intensity:"low",children:[v.jsx("div",{className:`p-3 rounded-full bg-white/50 dark:bg-white/5 ${i.color} shrink-0`,children:v.jsx(i.icon,{size:20,fill:r.type==="match"?"currentColor":"none"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex justify-between items-start",children:[v.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-white",children:r.title}),v.jsx("span",{className:"text-[10px] text-gray-400 dark:text-white/40 whitespace-nowrap ml-2",children:new Date(r.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),v.jsx("p",{className:"text-xs text-gray-600 dark:text-white/60 mt-1 leading-relaxed truncate",children:r.text})]}),!r.read&&v.jsx("div",{className:"w-2 h-2 bg-pink-500 rounded-full mt-2 shrink-0 animate-pulse"})]},r.id)}),t.length>0&&v.jsx("div",{className:"flex flex-col items-center justify-center py-8 text-gray-400 dark:text-white/30 space-y-2 opacity-50",children:v.jsx("p",{className:"text-xs uppercase tracking-widest",children:"You're all caught up"})})]})]})},dPe=({activeTab:t,onTabChange:e})=>{const n=[{id:"home",icon:aue,label:"Home"},{id:"matches",icon:bb,label:"Matches"},{id:"profile",icon:j$,label:"Profile"}];return v.jsx("div",{className:"fixed bottom-8 left-0 w-full px-6 z-50 flex justify-center pointer-events-none",children:v.jsx("div",{className:"bg-white/80 dark:bg-[#121212]/80 backdrop-blur-2xl border border-white/20 dark:border-white/10 rounded-full px-6 py-3 flex items-center gap-2 shadow-2xl shadow-black/20 pointer-events-auto",children:n.map(r=>{const i=t===r.id;return v.jsxs("button",{onClick:()=>e(r.id),className:`
                relative flex items-center justify-center w-14 h-14 rounded-full transition-all duration-300
                ${i?"text-pink-600 dark:text-white":"text-gray-400 dark:text-white/40 hover:text-gray-600 dark:hover:text-white/70"}
              `,children:[v.jsx("div",{className:"relative z-10",children:v.jsx(r.icon,{size:26,strokeWidth:i?2.5:2})}),i&&v.jsx(qe.div,{layoutId:"nav-pill",className:"absolute inset-0 bg-pink-500/10 dark:bg-white/10 rounded-full",transition:{type:"spring",stiffness:300,damping:30}}),i&&v.jsx(qe.div,{layoutId:"nav-dot",className:"absolute bottom-2 w-1 h-1 bg-pink-500 rounded-full"})]},r.id)})})})},hPe=({message:t,onClose:e})=>(W.useEffect(()=>{const n=setTimeout(e,3e3);return()=>clearTimeout(n)},[e]),v.jsxs(qe.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.9},className:"fixed bottom-24 left-1/2 -translate-x-1/2 bg-[#1a1a1a] text-white px-6 py-3 rounded-full shadow-2xl z-[200] flex items-center gap-3 border border-white/10",children:[v.jsx("div",{className:"bg-green-500 rounded-full p-1 text-black",children:v.jsx(bu,{size:12,strokeWidth:4})}),v.jsx("span",{className:"text-sm font-semibold pr-1",children:t})]})),pPe="admin@ping.com",mPe="Ping$2024!Secure",gPe=()=>{const[t,e]=W.useState(()=>{const Se=localStorage.getItem("ping_session_user");try{return Se?JSON.parse(Se):null}catch{return null}}),[n,r]=W.useState(()=>{const Se=localStorage.getItem("ping_session_user");if(Se)try{return JSON.parse(Se).role===Fe.ADMIN?"admin":"app"}catch{return"landing"}return"landing"}),[i,o]=W.useState("home"),[s,l]=W.useState("dashboard"),[c,f]=W.useState([]),[h,p]=W.useState([]),[g,_]=W.useState([]),[S,A]=W.useState(null),[E,M]=W.useState(0),[I,N]=W.useState(!1),[C,R]=W.useState(!1),[U,k]=W.useState(!1),[O,V]=W.useState(null),[F,q]=W.useState(!1),[z,B]=W.useState(null),[Q,oe]=W.useState(Fe.INFLUENCER),[K,X]=W.useState(""),[te,ce]=W.useState(""),[Y,L]=W.useState(!1),[G,ee]=W.useState("signup"),[ae,ge]=W.useState(!1);W.useEffect(()=>{t?localStorage.setItem("ping_session_user",JSON.stringify(t)):localStorage.removeItem("ping_session_user")},[t]),W.useEffect(()=>{t&&n==="app"&&we()},[t,n]),W.useEffect(()=>{F?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[F]);const we=async()=>{if(t)try{const[Se,Ee,Ve,We]=await Promise.all([Zt.getCandidates(t.role),Zt.getMatches(),Zt.getNotifications(),Zt.getNewLikesCount()]);f(Se),p(Ee),_(Ve),M(We)}catch(Se){console.error("Failed to load data",Se)}},Te=Se=>{V(Se)},Re=async Se=>{Se&&Se.preventDefault(),L(!0),B(null);try{if(K===pPe&&te===mPe){const Ve=await Zt.login(Fe.ADMIN,K,te);e(Ve),r("admin"),L(!1);return}let Ee;G==="signup"?(Ee=await Zt.signup(K,te,Q,K.split("@")[0]),e(Ee),r("onboarding")):(Ee=await Zt.login(Q,K,te),e(Ee),r("app"))}catch(Ee){console.error(Ee);let Ve="Authentication failed.";Ee.code==="auth/email-already-in-use"&&(Ve="Email already in use."),Ee.code==="auth/wrong-password"&&(Ve="Invalid password."),Ee.code==="auth/user-not-found"&&(Ve="User not found."),Ee.code==="auth/weak-password"&&(Ve="Password should be at least 6 characters."),B(Ve)}finally{L(!1)}},pe=Se=>{Se==="business"?(X("hello@pixelarcade.co"),ce("demo123"),oe(Fe.BUSINESS)):(X("jamie.travels@social.com"),ce("demo123"),oe(Fe.INFLUENCER)),setTimeout(()=>Re(),100)},Ce=async()=>{await Zt.logout(),localStorage.removeItem("ping_session_user"),e(null),r("landing"),X(""),ce(""),ge(!1),o("home"),l("dashboard")},Ie=async Se=>{if(t){const Ee={...t,...Se};e(Ee);try{await Zt.updateUserProfile(t.id,Se),Te("Profile Saved")}catch(Ve){console.error("Failed to save profile",Ve),Te("Error saving profile")}}},he=async Se=>{if(!t)return;const Ee=await Zt.addMatch(Se);A(Ee),we()};if(n==="landing"){const Se=Q===Fe.INFLUENCER,Ee=Se?"from-pink-500 to-orange-400":"from-blue-600 to-indigo-500",Ve=Se?"bg-gradient-to-r from-pink-500 to-orange-400":"bg-gradient-to-r from-blue-600 to-indigo-600",We={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.15,delayChildren:.2}}},dt={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return v.jsxs("div",{className:"min-h-[100dvh] w-full bg-[#fff5f7] relative overflow-hidden flex flex-col font-sans transition-colors duration-500",children:[v.jsxs("div",{className:"aurora-bg",children:[v.jsx("div",{className:"blob blob-1"}),v.jsx("div",{className:"blob blob-2"}),v.jsx("div",{className:"blob blob-3"})]}),v.jsxs("div",{className:"px-6 pt-8 pb-4 flex justify-between items-center relative z-10 safe-top",children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("img",{src:Mo,alt:"Ping Logo",className:"w-10 h-10 rounded-xl shadow-lg shadow-blue-500/20"}),v.jsx("span",{className:"text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-orange-400 tracking-tight",children:"Ping"})]}),!ae&&v.jsxs("button",{onClick:()=>{ee("signin"),ge(!0),B(null)},className:"flex items-center gap-2 text-gray-600 font-bold text-sm hover:text-gray-900 transition-colors",children:[v.jsx(zu,{size:16})," Log in"]})]}),v.jsx("div",{className:"flex-1"}),v.jsxs("div",{className:"bg-white w-full rounded-t-[40px] shadow-[0_-10px_40px_rgba(0,0,0,0.05)] p-8 pb-12 relative z-10 animate-in slide-in-from-bottom duration-500",children:[v.jsx(dr,{mode:"wait",children:ae?v.jsxs(qe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"pt-2",children:[v.jsxs("div",{className:"flex items-center mb-6",children:[v.jsx("button",{onClick:()=>ge(!1),className:"p-2 -ml-2 text-gray-400 hover:text-gray-900 transition-colors",children:v.jsx(N$,{size:24})}),v.jsx("h2",{className:"text-2xl font-bold text-gray-900 ml-2",children:G==="signin"?"Welcome Back":"Create Account"})]}),z&&v.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-100 rounded-xl flex items-center gap-2 text-red-600 text-xs font-bold",children:[v.jsx(C$,{size:14}),z]}),v.jsxs("form",{onSubmit:Re,className:"space-y-5",children:[v.jsxs("div",{className:"space-y-1.5",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 ml-1 uppercase tracking-wider",children:"Email Address"}),v.jsx("input",{type:"email",value:K,onChange:It=>X(It.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 text-gray-900 focus:outline-none focus:border-pink-500 focus:ring-2 focus:ring-pink-100 transition-all font-medium text-base",placeholder:"name@example.com",required:!0})]}),v.jsxs("div",{className:"space-y-1.5",children:[v.jsxs("div",{className:"flex justify-between items-center ml-1",children:[v.jsx("label",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Password"}),G==="signin"&&v.jsx("button",{type:"button",className:"text-xs font-bold text-pink-500",children:"Forgot?"})]}),v.jsx("input",{type:"password",value:te,onChange:It=>ce(It.target.value),className:"w-full bg-gray-50 border border-gray-200 rounded-2xl px-5 py-4 text-gray-900 focus:outline-none focus:border-pink-500 focus:ring-2 focus:ring-pink-100 transition-all font-medium text-base",placeholder:"",required:!0})]}),v.jsx(Jt,{type:"submit",fullWidth:!0,className:`h-16 text-lg rounded-full mt-2 shadow-xl shadow-pink-500/20 border-none ${Ve}`,children:Y?v.jsxs("span",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"})," Processing..."]}):G==="signin"?"Sign In":"Create Account"}),G==="signin"&&v.jsxs("div",{className:"flex gap-2 pt-2",children:[v.jsxs("button",{type:"button",onClick:()=>pe("business"),className:"flex-1 bg-blue-50 hover:bg-blue-100 text-blue-600 text-xs font-bold py-3 rounded-xl transition-colors border border-blue-200 flex items-center justify-center gap-1",children:[v.jsx(rl,{size:12})," Demo Brand"]}),v.jsxs("button",{type:"button",onClick:()=>pe("creator"),className:"flex-1 bg-pink-50 hover:bg-pink-100 text-pink-600 text-xs font-bold py-3 rounded-xl transition-colors border border-pink-200 flex items-center justify-center gap-1",children:[v.jsx(wp,{size:12})," Demo Creator"]})]}),v.jsx("div",{className:"text-center pt-2",children:v.jsxs("p",{className:"text-sm text-gray-500 font-medium",children:[G==="signin"?"Don't have an account?":"Already have an account?"," "," ",v.jsx("button",{type:"button",onClick:()=>{ee(G==="signin"?"signup":"signin"),B(null)},className:"text-gray-900 font-bold hover:underline",children:G==="signin"?"Sign up":"Log in"})]})})]})]},"form"):v.jsxs(qe.div,{variants:We,initial:"hidden",animate:"visible",exit:"hidden",children:[v.jsxs(qe.div,{variants:dt,className:"bg-gray-100 p-1.5 rounded-full flex mb-10 max-w-xs mx-auto shadow-inner",children:[v.jsx("button",{onClick:()=>oe(Fe.INFLUENCER),className:`flex-1 py-3 rounded-full text-sm font-bold transition-all duration-300 ${Se?"bg-white text-gray-900 shadow-md transform scale-100":"text-gray-400 hover:text-gray-600"}`,children:"Creator"}),v.jsx("button",{onClick:()=>oe(Fe.BUSINESS),className:`flex-1 py-3 rounded-full text-sm font-bold transition-all duration-300 ${Se?"text-gray-400 hover:text-gray-600":"bg-white text-gray-900 shadow-md transform scale-100"}`,children:"Brand"})]}),v.jsxs(qe.div,{variants:dt,className:"text-center space-y-6 mb-10",children:[v.jsx("h1",{className:"text-4xl sm:text-5xl font-extrabold text-gray-900 leading-[1.15] tracking-tight",children:Se?v.jsxs(v.Fragment,{children:["Monetize your ",v.jsx("br",{}),v.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${Ee}`,children:"Influence."})]}):v.jsxs(v.Fragment,{children:["Hire the world's ",v.jsx("br",{}),v.jsx("span",{className:`text-transparent bg-clip-text bg-gradient-to-r ${Ee}`,children:"Best Talent."})]})}),v.jsx("p",{className:"text-gray-500 text-sm sm:text-base leading-relaxed max-w-xs mx-auto font-medium",children:Se?"Connect with premium brands, manage deals, and get paid instantly.":"Find creators that match your brand identity in seconds, not days."})]}),v.jsx(qe.div,{variants:dt,children:v.jsxs(Jt,{onClick:()=>{ee("signup"),ge(!0),B(null)},fullWidth:!0,className:`h-16 text-lg rounded-full shadow-xl shadow-pink-500/20 ${Ve} border-none`,style:{transform:"scale(1)"},animate:{scale:[1,1.02,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:["Get Started ",v.jsx(I$,{className:"ml-2"})]})})]},"welcome")}),!ae&&v.jsx("div",{className:"mt-8 text-center",children:v.jsx("p",{className:"text-[10px] text-gray-300 uppercase tracking-[0.2em] font-medium",children:"Ping App by Reachup Media"})})]})]})}return n==="admin"?v.jsx(JRe,{onLogout:Ce}):n==="onboarding"&&t?v.jsx(uPe,{role:t.role,onBack:Ce,onComplete:()=>r("app")}):t?v.jsxs("div",{className:`h-screen w-full overflow-hidden flex flex-col relative transition-colors duration-300 ${F?"dark bg-[#050505] text-white":"bg-white text-gray-900"}`,children:[v.jsxs("div",{className:"flex-1 relative overflow-hidden",children:[i==="home"&&v.jsx(dr,{mode:"wait",children:s==="dashboard"?v.jsx(lPe,{user:t,notificationCount:g.filter(Se=>!Se.read).length,newLikesCount:E,onNavigate:Se=>{Se==="deck"&&l("deck"),Se==="analytics"&&l("analytics"),Se==="likes"&&Te("Feature coming soon!"),Se==="matches"&&o("matches"),Se==="profile"&&o("profile")},onSettingsClick:()=>N(!0),onNotificationsClick:()=>k(!0),onUpgrade:()=>R(!0),onUpdateUser:Ie},"dashboard"):s==="analytics"?v.jsx("div",{className:"h-full w-full relative",children:v.jsxs("div",{className:"p-6",children:[v.jsx("button",{onClick:()=>l("dashboard"),children:"Back"}),v.jsx("h2",{children:"Analytics View"})]})},"analytics"):v.jsxs("div",{className:"h-full w-full relative",children:[v.jsx(Uue,{candidates:c,currentUserRole:t.role,isPremium:t.isPremium,onUpgrade:()=>R(!0),onSwipe:async(Se,Ee)=>{const Ve=typeof Ee=="string"?Ee:Ee.id;(await Zt.swipe(t.id,Ve,Se)).isMatch&&we()},onMatchChat:he}),v.jsx("button",{onClick:()=>l("dashboard"),className:"absolute top-4 left-4 z-50 p-2 bg-black/40 text-white rounded-full backdrop-blur-md border border-white/10",children:"Back"})]},"deck")}),i==="matches"&&v.jsxs("div",{className:"h-full w-full flex flex-col p-4 pt-10 overflow-y-auto pb-24",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6 px-2",children:"Matches & Messages"}),h.length===0?v.jsx("div",{className:"flex-1 flex flex-col items-center justify-center text-white/30",children:v.jsx("p",{children:"No matches yet. Go swipe!"})}):v.jsx("div",{className:"space-y-2",children:h.map(Se=>v.jsxs(_i,{onClick:()=>A(Se),className:"flex items-center gap-4 p-4 cursor-pointer",intensity:"low",hoverEffect:!0,children:[v.jsx("img",{src:Se.userProfile.avatar,className:"w-12 h-12 rounded-full object-cover"}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-bold text-sm",children:Se.userProfile.name}),v.jsx("p",{className:"text-xs text-white/50 truncate",children:Se.lastMessage||"Start a conversation..."})]}),v.jsx("span",{className:"text-[10px] text-white/30",children:"Now"})]},Se.id))})]}),i==="profile"&&v.jsx(ZRe,{user:t,onSave:Ie,onCancel:()=>o("home")})]}),v.jsxs(dr,{children:[I&&v.jsx("div",{className:"fixed inset-0 z-[100] bg-black",children:v.jsx(sPe,{onBack:()=>N(!1),onLogout:Ce,onUpgrade:()=>R(!0),isDarkMode:F,onToggleTheme:()=>q(!F)})}),U&&v.jsx(fPe,{notifications:g,onBack:()=>k(!1)}),C&&v.jsx(cPe,{user:t,onClose:()=>R(!1),onUpgrade:async()=>{await Zt.upgradeToPremium(),Ie({isPremium:!0}),R(!1),Te("Welcome to Gold!")}}),S&&v.jsx(dye,{match:S,onBack:()=>A(null),isPremium:t.isPremium,onUpgrade:()=>R(!0)}),O&&v.jsx(hPe,{message:O,onClose:()=>V(null)})]}),!S&&!I&&!C&&!U&&v.jsx(dPe,{activeTab:i,onTabChange:o})]}):null},R7=document.getElementById("root");if(!R7)throw new Error("Could not find root element to mount to");const yPe=yW.createRoot(R7);yPe.render(v.jsx(re.StrictMode,{children:v.jsx(gPe,{})}));
